<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>IA: Creatividad Aumentada o Amenazada</title>
    <meta name="description" content="Una cápsula educativa interactiva que explora el impacto de la Inteligencia Artificial en la creatividad humana. Dirigido a docentes de educación superior.">
    <meta name="keywords" content="IA, Inteligencia Artificial, Creatividad, Educación, EdTech, Diseño Instruccional, Cápsula Educativa">
    <meta name="author" content="Equipo de Desarrollo Web Educativo">
    
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cpath fill='%23415A77' d='M50 5C25.16 5 5 25.16 5 50s20.16 45 45 45 45-20.16 45-45S74.84 5 50 5zm0 82c-20.43 0-37-16.57-37-37s16.57-37 37-37 37 16.57 37 37-16.57 37-37 37z'/%3E%3Cpath fill='%23778DA9' d='M50 25c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0 40c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5z'/%3E%3Cpath fill='%23E0E1DD' d='M35 45c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm30 0c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5z'/%3E%3C/svg%3E">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js" integrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <style>
        /*------------------------------------*/
        /* 1. RESET Y VARIABLES CSS      */
        /*------------------------------------*/
        :root {
            --color-background: #0D1B2A;
            --color-surface: #1B263B;
            --color-primary: #415A77;
            --color-secondary: #778DA9;
            --color-text: #E0E1DD;
            --color-accent: #54d2d2;
            --color-success: #4CAF50;
            --color-error: #F44336;
            --font-family-headings: 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
            --font-family-body: 'Roboto', 'Open Sans', sans-serif;
            --shadow-sm: 0 2px 4px rgba(0,0,0,0.2);
            --shadow-md: 0 4px 8px rgba(0,0,0,0.3);
            --shadow-lg: 0 10px 20px rgba(0,0,0,0.4);
            --border-radius: 12px;
        }

        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: var(--font-family-body);
            background-color: var(--color-background);
            color: var(--color-text);
            line-height: 1.7;
            font-size: 16px;
            overflow-x: hidden;
        }
        
        body.reduced-motion * {
            animation: none !important;
            transition: none !important;
        }

        /*------------------------------------*/
        /* 2. ESTILOS GENERALES Y LAYOUT   */
        /*------------------------------------*/
        .capsule-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }

        .section {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 60px 20px;
            opacity: 0;
            animation: fadeIn 0.8s forwards;
            text-align: center;
        }

        .section.active {
            display: flex;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        h1, h2, h3, h4 {
            font-family: var(--font-family-headings);
            color: var(--color-text);
            margin-bottom: 1rem;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.3);
        }

        h1 { font-size: 3.2rem; }
        h2 { font-size: 2.5rem; color: var(--color-accent); }
        h3 { font-size: 1.8rem; }
        h4 { font-size: 1.4rem; }

        p, li {
            font-size: 1.1rem;
            text-align: justify;
            max-width: 720px;
            margin-bottom: 1rem;
        }

        a {
            color: var(--color-accent);
            text-decoration: none;
            transition: color 0.3s ease;
        }
        a:hover, a:focus {
            color: white;
            outline: 2px solid var(--color-accent);
            outline-offset: 4px;
        }

        .btn {
            display: inline-block;
            background: linear-gradient(135deg, var(--color-accent), #3ca3a3);
            color: var(--color-background);
            padding: 12px 28px;
            border-radius: var(--border-radius);
            font-weight: bold;
            font-size: 1.1rem;
            text-transform: uppercase;
            border: none;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: var(--shadow-md);
        }
        .btn:hover, .btn:focus {
            transform: translateY(-3px) scale(1.05);
            box-shadow: var(--shadow-lg);
            color: var(--color-background);
        }
        .btn-secondary {
            background: var(--color-primary);
            color: var(--color-text);
        }
        .btn-secondary:hover {
             background: var(--color-secondary);
        }

        .content-card {
            background: rgba(27, 38, 59, 0.7); /* --color-surface with alpha */
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 30px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-md);
            width: 100%;
            max-width: 800px;
            margin-top: 20px;
        }
        
        .content-card-text {
             text-align: justify;
        }
        
        .content-card-text strong {
             color: var(--color-accent);
        }
        
        .icon-svg {
            width: 80px;
            height: 80px;
            margin-bottom: 1.5rem;
            filter: drop-shadow(0 0 10px rgba(84, 210, 210, 0.5));
        }

        /*------------------------------------*/
        /* 3. ELEMENTOS TRANSVERSALES    */
        /*------------------------------------*/

        /* --- Barra de Progreso --- */
        #progress-bar-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 8px;
            background-color: var(--color-surface);
            z-index: 1000;
        }
        #progress-bar {
            width: 0%;
            height: 100%;
            background: linear-gradient(90deg, var(--color-accent), #3ca3a3);
            transition: width 0.5s ease;
        }
        
        /* --- Menú Flotante --- */
        #floating-menu {
            position: fixed;
            top: 50%;
            right: 0;
            transform: translateY(-50%);
            background: rgba(27, 38, 59, 0.8);
            backdrop-filter: blur(10px);
            padding: 10px;
            border-radius: 10px 0 0 10px;
            z-index: 999;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        .menu-dot {
            width: 12px;
            height: 12px;
            background-color: var(--color-secondary);
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }
        .menu-dot:hover, .menu-dot.active {
            background-color: var(--color-accent);
            transform: scale(1.3);
        }
        .menu-dot .tooltip {
            visibility: hidden;
            width: 120px;
            background-color: var(--color-background);
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 5px 0;
            position: absolute;
            z-index: 1;
            top: -5px;
            right: 150%;
            opacity: 0;
            transition: opacity 0.3s;
        }
        .menu-dot:hover .tooltip {
            visibility: visible;
            opacity: 1;
        }

        /* --- Botón Chatbot (Simulado) --- */
        #chatbot-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            background-color: var(--color-accent);
            border-radius: 50%;
            border: none;
            cursor: pointer;
            box-shadow: var(--shadow-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 998;
            transition: transform 0.3s ease;
        }
        #chatbot-btn:hover {
            transform: scale(1.1);
        }

        /* --- Gamificación: Insignias y Puntos --- */
        #gamification-hud {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(27, 38, 59, 0.8);
            backdrop-filter: blur(10px);
            padding: 10px 15px;
            border-radius: var(--border-radius);
            z-index: 999;
            display: none; /* Initially hidden */
            align-items: center;
            gap: 15px;
            box-shadow: var(--shadow-md);
        }
        #points-display, #badge-container {
            font-size: 1rem;
            font-weight: bold;
        }
        .badge {
            width: 40px;
            height: 40px;
            opacity: 0.3;
            transition: opacity 0.5s, transform 0.5s;
        }
        .badge.earned {
            opacity: 1;
            transform: scale(1.1);
        }
        
        /* --- Modal de Feedback --- */
        .feedback-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 0;
            transition: opacity 0.3s;
        }
        .feedback-modal.show {
            display: flex;
            opacity: 1;
        }
        .feedback-content {
            background-color: var(--color-surface);
            padding: 40px;
            border-radius: var(--border-radius);
            text-align: center;
            box-shadow: var(--shadow-lg);
            animation: zoomIn 0.3s;
        }
        .feedback-content h3 { color: var(--color-accent); }
        
        @keyframes zoomIn {
            from { transform: scale(0.5); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        /*------------------------------------*/
        /* 4. ESTILOS POR SECCIÓN        */
        /*------------------------------------*/
        
        /* --- Sección Formulario de Ingreso --- */
        #login-form-container {
            width: 100%;
            max-width: 500px;
        }
        .form-group {
            margin-bottom: 1.5rem;
            position: relative;
        }
        .form-group input {
            width: 100%;
            padding: 12px;
            background-color: var(--color-primary);
            border: 2px solid var(--color-secondary);
            border-radius: 8px;
            color: var(--color-text);
            font-size: 1rem;
            transition: border-color 0.3s;
        }
        .form-group input:focus {
            outline: none;
            border-color: var(--color-accent);
        }
        .form-group .error-message {
            color: var(--color-error);
            font-size: 0.9rem;
            display: none;
            position: absolute;
            bottom: -20px;
            left: 5px;
        }
        .form-group.error input {
            border-color: var(--color-error);
        }
        .form-group.error .error-message {
            display: block;
        }
        #form-info {
            font-size: 0.9rem;
            color: var(--color-secondary);
            margin-top: 1rem;
        }
        
        /* --- Sección Portada --- */
        #animated-ai-svg {
            width: 250px;
            height: 250px;
            margin: 2rem 0;
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        #animated-ai-svg .pulse {
            animation: pulse 2s infinite ease-in-out;
        }
        
        /* --- Sección Introducción --- */
        .objectives-list {
            list-style: none;
            padding: 0;
            max-width: 600px;
            text-align: left;
        }
        .objectives-list li {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
            background: rgba(255,255,255,0.05);
            padding: 15px;
            border-radius: var(--border-radius);
            border-left: 5px solid var(--color-accent);
        }
        .objectives-list svg {
            width: 30px;
            height: 30px;
            margin-right: 15px;
            flex-shrink: 0;
        }
        #transcript-container {
            max-height: 300px;
            overflow-y: auto;
            padding: 15px;
            margin-top: 2rem;
            border: 1px solid var(--color-primary);
            border-radius: var(--border-radius);
            text-align: justify;
            background: var(--color-background);
        }
        
        /* --- Secciones con iFrame --- */
        .iframe-container {
            width: 100%;
            max-width: 800px;
            height: 650px;
            margin-top: 2rem;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow-lg);
        }
        .iframe-container iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
        
        /* --- Sección Desarrollo Práctico (Video-Quiz) --- */
        #video-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            aspect-ratio: 16/9;
            box-shadow: var(--shadow-lg);
            border-radius: var(--border-radius);
            overflow:hidden;
        }
        #video-player {
            width: 100%;
            height: 100%;
        }
        #video-quiz-modal {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(13, 27, 42, 0.9);
            backdrop-filter: blur(8px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 10;
        }
        .video-quiz-content {
            width: 90%;
            max-width: 600px;
            text-align: left;
        }
        .video-quiz-option {
            display: block;
            width: 100%;
            padding: 15px;
            margin: 10px 0;
            background: var(--color-primary);
            border: 2px solid transparent;
            border-radius: var(--border-radius);
            color: var(--color-text);
            cursor: pointer;
            transition: all 0.3s;
        }
        .video-quiz-option:hover {
            border-color: var(--color-accent);
        }
        .video-quiz-option.selected {
            background: var(--color-accent);
            color: var(--color-background);
        }
        .video-quiz-option.correct {
            background: var(--color-success);
            color: white;
        }
        .video-quiz-option.incorrect {
            background: var(--color-error);
            color: white;
        }

        /* --- Sección Desarrollo Teórico --- */
        .topic {
            margin-bottom: 3rem;
        }
        .topic blockquote {
            border-left: 4px solid var(--color-accent);
            padding-left: 1.5rem;
            margin: 1.5rem 0;
            font-style: italic;
            color: var(--color-secondary);
        }
        .bibliography {
            font-size: 0.9rem;
            color: var(--color-secondary);
            margin-top: 2rem;
            text-align: left;
        }
        
        /* --- Sección Evaluación Final --- */
        #final-test-container { width: 100%; max-width: 700px; }
        #test-timer { font-size: 1.5rem; color: var(--color-accent); margin-bottom: 1rem; }
        .question-block { margin-bottom: 2rem; text-align: left; }
        .test-option {
            display: block;
            background: var(--color-primary);
            padding: 15px;
            margin: 10px 0;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }
        .test-option:hover { border-color: var(--color-accent); }
        .test-option input[type="radio"] { display: none; }
        .test-option.selected { background: var(--color-accent); color: var(--color-background); }
        .test-option.correct { background: var(--color-success); color: white; }
        .test-option.incorrect { background: var(--color-error); color: white; }
        #test-result { text-align: center; margin-top: 2rem; }
        
        /* --- Sección Síntesis --- */
        .key-ideas {
            list-style-type: none;
            padding: 0;
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }
        .key-ideas li {
            background: var(--color-surface);
            padding: 20px;
            border-radius: var(--border-radius);
            flex-basis: 250px;
            flex-grow: 1;
            border-left: 5px solid var(--color-accent);
        }
        
        /* --- Sección Cierre (Metacognición) --- */
        .metacognitive-question {
            width: 100%;
            margin-bottom: 1.5rem;
        }
        .metacognitive-question textarea {
            width: 100%;
            height: 120px;
            padding: 15px;
            background-color: var(--color-primary);
            border: 2px solid var(--color-secondary);
            border-radius: 8px;
            color: var(--color-text);
            font-size: 1rem;
            resize: vertical;
        }
        .metacognitive-question textarea:focus {
            outline: none;
            border-color: var(--color-accent);
        }
        #rubric-container { margin-top: 2rem; }
        .rubric-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }
        .rubric-table th, .rubric-table td {
            border: 1px solid var(--color-primary);
            padding: 12px;
            text-align: left;
        }
        .rubric-table th {
            background-color: var(--color-primary);
        }
        .rubric-table td { background-color: var(--color-surface); }
        
        /* --- Sección Certificado --- */
        #certificate-wrapper {
            border: 10px solid var(--color-primary);
            background: var(--color-text);
            color: var(--color-background);
            padding: 40px;
            width: 100%;
            max-width: 800px;
            position: relative;
            display: none; /* Hidden until earned */
        }
        #certificate-content { text-align: center; }
        #certificate-content h1, #certificate-content h2, #certificate-content h3, #certificate-content h4, #certificate-content p { color: var(--color-background); }
        .cert-title { font-size: 2.5rem; color: var(--color-primary); }
        .cert-granted { font-size: 1.2rem; margin: 20px 0; }
        .cert-name { font-size: 2rem; font-family: 'Brush Script MT', cursive; color: var(--color-accent); border-bottom: 2px solid var(--color-background); display: inline-block; padding-bottom: 5px; }
        .cert-desc { margin: 20px auto; max-width: 600px; font-size: 1rem; }
        .cert-footer { display: flex; justify-content: space-between; align-items: center; margin-top: 40px; }
        .cert-qr { width: 100px; height: 100px; }

        /* --- Reporte Final --- */
        #final-report-content { text-align: left; }
        #final-report-content ul { list-style-position: inside; }

        /* --- Botones de Control Adicionales --- */
        .extra-controls {
            position: fixed;
            bottom: 20px;
            left: 20px;
            z-index: 998;
            display: flex;
            gap: 10px;
        }
        .control-btn {
            background: var(--color-secondary);
            color: var(--color-text);
            padding: 8px 12px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: background-color 0.3s;
        }
        .control-btn:hover { background-color: var(--color-accent); color: var(--color-background); }
        
        /*------------------------------------*/
        /* 5. ACCESIBILIDAD Y RESPONSIVE   */
        /*------------------------------------*/
        [role="button"], [aria-controls] {
             cursor: pointer;
        }

        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border-width: 0;
        }

        @media (max-width: 768px) {
            h1 { font-size: 2.5rem; }
            h2 { font-size: 2rem; }
            h3 { font-size: 1.5rem; }
            p, li { font-size: 1rem; }

            .section { padding: 80px 15px; }

            #floating-menu {
                top: auto;
                bottom: 0;
                left: 50%;
                transform: translateX(-50%);
                flex-direction: row;
                width: 100%;
                justify-content: center;
                border-radius: 10px 10px 0 0;
            }
             .menu-dot .tooltip {
                display: none;
            }
            .key-ideas { flex-direction: column; }
        }
        
        @media print {
            body {
                background-color: #fff;
                color: #000;
            }
            .section, #floating-menu, #progress-bar-container, #chatbot-btn, .extra-controls, #final-report-container .btn {
                display: none !important;
            }
            #final-report-container, #final-report {
                display: block !important;
            }
            .content-card {
                box-shadow: none;
                border: 1px solid #ccc;
            }
        }

    </style>
</head>
<body>

    <div id="progress-bar-container">
        <div id="progress-bar"></div>
    </div>

    <nav id="floating-menu" aria-label="Navegación Rápida del Curso"></nav>

    <div id="gamification-hud">
        <div id="points-display">Puntos: 0</div>
        <div id="badge-container" aria-label="Insignias Obtenidas">
            <div id="badge-explorer" class="badge" title="Insignia 'Explorador Curioso'">
                 <svg class="icon-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"/></svg>
            </div>
            <div id="badge-creator" class="badge" title="Insignia 'Creador de Ideas'">
                <svg class="icon-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M17.66 7.93L12 2.27 6.34 7.93a8.003 8.003 0 0011.32 11.32l-1.41-1.41a6 6 0 01-8.49-8.49L12 4.81l3.75 3.75a6 6 0 01-1.48 9.27l1.41 1.41a8.003 8.003 0 004.98-12.72zM12 10a2 2 0 100 4 2 2 0 000-4z"/></svg>
            </div>
            <div id="badge-visionary" class="badge" title="Insignia 'Visionario de IA'">
                 <svg class="icon-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5C21.27 7.61 17 4.5 12 4.5zm0 13C8.24 17.5 5.5 15.08 4.31 12c1.19-3.08 3.93-5.5 7.69-5.5s6.5 2.42 7.69 5.5c-1.19 3.08-3.93 5.5-7.69 5.5zm0-9a3.5 3.5 0 100 7 3.5 3.5 0 000-7z"/></svg>
            </div>
        </div>
    </div>
    
    <button id="chatbot-btn" aria-label="Abrir asistente de IA">
        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-robot" viewBox="0 0 16 16">
            <path d="M6 12.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5ZM3 8.062C3 6.76 4.235 5.765 5.53 5.886a26.58 26.58 0 0 0 4.94 0C11.765 5.765 13 6.76 13 8.062v1.157a.933.933 0 0 1-.765.935c-.845.147-2.34.346-4.235.346-1.895 0-3.39-.2-4.235-.346A.933.933 0 0 1 3 9.219V8.062Zm4.542-.827a.25.25 0 0 0 .217.065.926.926 0 0 1 .828 0 .25.25 0 0 0 .217-.065l.028-.028a.5.5 0 0 0 0-.707l-.028-.028a.25.25 0 0 0-.217-.065.926.926 0 0 1-.828 0 .25.25 0 0 0-.217.065l-.028.028a.5.5 0 0 0 0 .707l.028.028Z"/>
            <path d="M8 1a2.5 2.5 0 0 1 2.5 2.5V4h-5v-.5A2.5 2.5 0 0 1 8 1Zm-1.5 6a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3Zm-2.354-2.828a.5.5 0 0 1 0-.708l.708-.707a.5.5 0 0 1 .707 0l.707.707a.5.5 0 0 1 0 .708l-.707.707a.5.5 0 0 1-.707 0l-.708-.707Zm5.408 0a.5.5 0 0 1 0-.708l.708-.707a.5.5 0 0 1 .707 0l.707.707a.5.5 0 0 1 0 .708l-.707.707a.5.5 0 0 1-.707 0l-.708-.708Z"/>
        </svg>
    </button>
    
    <div class="extra-controls">
        <button id="toggle-motion-btn" class="control-btn">Reducir Animación</button>
        <button id="clear-data-btn" class="control-btn">Borrar mis Datos</button>
    </div>

    <div id="feedback-modal" class="feedback-modal">
        <div class="feedback-content" id="feedback-modal-content">
            </div>
    </div>


    <main class="capsule-container">

        <section id="s-login" class="section active">
            <div class="content-card" id="login-form-container">
                <svg class="icon-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
                <h2>¡Bienvenido/a, colega!</h2>
                <p>Estás a punto de iniciar una exploración sobre el fascinante y polémico cruce entre la <strong>Inteligencia Artificial y la Creatividad</strong>. Como educadores, es vital que estemos al frente de esta conversación.</p>
                <form id="login-form" novalidate>
                    <div class="form-group">
                        <label for="fullName" class="sr-only">Nombre Completo</label>
                        <input type="text" id="fullName" name="fullName" placeholder="Nombre completo" required>
                        <span class="error-message">Por favor, ingresa tu nombre completo.</span>
                    </div>
                    <div class="form-group">
                        <label for="email" class="sr-only">Correo Electrónico</label>
                        <input type="email" id="email" name="email" placeholder="Correo electrónico" required>
                        <span class="error-message">Ingresa un correo válido.</span>
                    </div>
                    <div class="form-group">
                        <label for="phone" class="sr-only">Teléfono (Opcional)</label>
                        <input type="tel" id="phone" name="phone" placeholder="Teléfono (opcional)">
                    </div>
                    <p id="form-info">Tu nombre y correo son necesarios para generar tu certificado de finalización. ¡No te preocupes, tus datos están seguros con nosotros!</p>
                    <button type="submit" class="btn">Comenzar Aventura</button>
                </form>
            </div>
        </section>


        <section id="s-portada" class="section">
            <h1 id="portada-title">IA: Creatividad Aumentada o Amenazada</h1>
            
            <svg id="animated-ai-svg" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
              <defs>
                <linearGradient id="brainGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                  <stop offset="0%" style="stop-color:var(--color-accent);stop-opacity:1" />
                  <stop offset="100%" style="stop-color:var(--color-primary);stop-opacity:1" />
                </linearGradient>
              </defs>
              <g class="pulse">
                <path fill="url(#brainGradient)" transform="translate(100 100)" d="M62.6,-44.9C73.2,-25.4,70.5,1.2,60.8,22.7C51,44.2,34.2,60.6,13.8,66.1C-6.5,71.7,-30.5,66.4,-47.9,52.2C-65.4,38,-76.3,15,-74.6,-6.9C-72.9,-28.9,-58.5,-49.7,-41.2,-60C-23.9,-70.3,-3.6,-69.9,15.8,-64.3C35.2,-58.7,52,-48.3,62.6,-44.9Z" />
              </g>
              <circle cx="100" cy="100" r="50" fill="var(--color-background)" />
              <text x="88" y="105" font-family="Arial, sans-serif" font-size="20" fill="var(--color-text)" font-weight="bold">AI</text>
            </svg>
            
            <button class="btn" onclick="app.navigateTo('s-introduccion')">Iniciar Exploración</button>
        </section>


        <section id="s-introduccion" class="section">
            <div class="content-card">
                <h2>Comenzando Nuestro Viaje</h2>
                <p>Hola de nuevo, <span id="user-name-intro"></span>. En esta cápsula, no solo te presentaremos información, sino que te invitaremos a cuestionar, reflexionar y, finalmente, a formar tu propia postura informada sobre el papel de la IA en los procesos creativos. El público objetivo de esta experiencia son ustedes: <strong>profesores de educación superior</strong>, pioneros en la formación de futuros profesionales.</p>
                
                <h3>Objetivos de Aprendizaje</h3>
                <p>Al finalizar esta cápsula, serás capaz de:</p>
                <ul class="objectives-list">
                    <li><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/></svg>
                    <strong>Analizar</strong> críticamente las similitudes y diferencias entre el proceso creativo humano y la generación de contenido por IA.</li>
                    <li><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M14 17.25C14 15.13 15.34 13.38 17.25 13C15.34 12.62 14 10.87 14 8.75c0-1.05.38-2.02 1-2.77C13.02 5.38 12 4.7 10.89 4.7C7.65 4.7 5 7.11 5 10.09c0 2.13 1.55 4.03 3.69 4.65c.32.09.56.32.65.62c.24.81.36 1.64.36 2.47c0 1.11-.2 2.18-.58 3.17c-.12.31-.35.54-.66.62C6.01 22.46 5 21.36 5 20c0-1.3.8-2.4 1.9-2.82c.07-.03.12-.08.15-.15C6.4 16.44 6 15.28 6 14c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .28-.03.55-.08.81c-.13.62.35 1.19.98 1.19c.66 0 1.2-.54 1.2-1.2c0-2.42-1.72-4.44-4-4.9V10c-1.1 0-2 .9-2 2s.9 2 2 2v.25z"/></svg>
                    <strong>Evaluar</strong> el potencial de las herramientas de IA como asistentes en el proceso de documentación e ideación creativa.</li>
                    <li><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M20.5 11H19V7c0-1.1-.9-2-2-2h-4V3.5C13 2.12 11.88 1 10.5 1S8 2.12 8 3.5V5H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h4v1.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V19h4c1.1 0 2-.9 2-2v-4h1.5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5z"/></svg>
                    <strong>Diseñar</strong> estrategias pedagógicas que integren la IA para potenciar la creatividad de los estudiantes, en lugar de suprimirla.</li>
                </ul>
                
                <h3>Transcripción de la Charla Inspiradora</h3>
                <div id="transcript-container">
                    <p><em>(Transcribed by TurboScribe.ai. Go Unlimited to remove this message.)</em></p>
                    <p>Todos los años, siempre tengo que dar alguna charla o algún coloquio con motivo de estreno de alguna de mis películas, y siempre son en ambientes, en colegios, en universidades, en escuelas, siempre con un ambiente creativo, con estudiantes, y siempre la pregunta de la inteligencia artificial que nos depara con la inteligencia artificial siempre sale de alguna manera. Hace no mucho, unos meses, en una charla que tuve en Roma, un estudiante me hizo una pregunta que me hizo reflexionar bastante, que era la siguiente, ¿tiene sentido que siga aprendiendo a dibujar con todo lo que hay de la inteligencia artificial? Y lo que me llamó la atención, sobre todo, no era tanto la pregunta, sino el tono con el que me la hizo, que le vi como apesadumbrado, o sea, como con falta de ilusión, dijo un chaval que estaba empezando, que realmente se pregunta en serio si tiene que seguir su vocación o la tiene que dejar de lado, que lo veía como una auténtica amenaza lo que es la inteligencia artificial. Esto me llevó a preguntarme la esencia de lo que es la creatividad, preguntarnos qué es exactamente la creatividad, porque creatividad no es inventar nada desde cero, no es crear, no somos dioses, sino es siempre adaptar la realidad que existe ahí, nosotros la adaptamos a nuestra manera, buscamos un nuevo enfoque y creamos nuevas cosas, a través de cosas que ya existen.</p>
                    <p>Entonces, el proceso creativo, si lo vamos desgranando poco a poco o al revés, o lo vamos simplificando, intentemos simplificarlo al máximo posible para entender cómo las máquinas pueden ayudarnos o no en todo ese proceso, pero simplificándolo a lo bestia, que simplemente serían tres pasos para hacer el proceso creativo. Los tres pasos más sencillos serían, el primero de todos es definir la pregunta, el ser humano es el único ser capaz, el único animal que se hace preguntas, que realmente ve las cosas y cuando algo no lo entiende dice, ¿esto cómo es?, tiene esa curiosidad, tiene esa imaginación que dice, ¿cómo podemos hacer las cosas de manera diferente?, ¿por qué es así y no es así?, los animales no pueden hacer eso y las máquinas tampoco, eso es algo exclusivamente de los humanos, esa curiosidad, esa búsqueda, es a intentar encontrar una cosa diferente. Como diría Einstein, la formulación de un problema es más importante que su solución, que es la clave, lo primero que tenemos que hacer como seres humanos es, oye, hacernos las preguntas correctas, todos nos preguntamos cosas, hay preguntas más profundas, menos profundas, el ser humano tiene ese deseo trascendental de conocer, ¿por qué existen las grandes preguntas?, ¿dónde venimos?, ¿a dónde vamos?, ¿a qué hora comemos?, ese tipo de preguntas, es lo más importante, definir la pregunta.</p>
                    <p>Otro genio, hablando de lo mismo decía, Pablo Picasso, los ordenadores son inútiles, solo pueden darnos respuestas, las respuestas no sirven para nada, viene a decir Picasso, lo importante son las preguntas. Entonces, está claro que la parte fundamental para mí, que es de la creatividad, que es hacernos esas preguntas, las máquinas no pueden hacer nada, pero entonces, ¿en qué nos pueden ayudar las máquinas? Bueno, precisamente en eso, buscando las respuestas, es un sitio donde las máquinas nos pueden ayudar, que esto nos lleva a la segunda parte de nuestro proceso creativo simplificado, que sería documentarse, ese es el segundo paso, yo tengo una pregunta, ahora tengo que encontrar la respuesta. Los humanos, ¿qué hacemos?, nos formamos durante toda nuestra vida, lo que hacemos es conocimientos del color, conocimientos de la narrativa, conocimientos de la perspectiva, conocimientos de los tres actos de Aristóteles, lo que sea, nos vamos formando para ser los mejores dentro de nuestra profesión, y cuando atacamos un tema concreto, nos hacemos esa pregunta, una pregunta concreta, lo que hacemos es investigamos sobre esa pregunta, si tengo una película que habla sobre el miedo, pues tendré que hacerme libros que te hablen sobre la psicología del miedo, o si está ambientada mi película en África, pues tendré que conocer la cultura africana.</p>
                    <p>Nos formamos, nos formamos, nos documentamos, pero los seres humanos tenemos un límite, y hay un punto en el que por tiempo no podemos formarnos más, entonces ahí entra un poco en lo que nos pueden ayudar las máquinas, ¿qué aportan las máquinas en todo esto?, básicamente nos dan dos cosas, uno, nos aceleran el proceso y nos lo abaratan, o sea, tiempo y dinero, eso nos dan respuestas de una manera muy rápida, entonces nosotros ahorramos tiempo y dinero, y la segunda, nos dan multitud de respuestas, nos dan millones, es una metralleta de respuestas, nos puede dar un montón de respuestas, eso ayuda mucho dentro del proceso creativo. Al final de todo esto uno sigue pensando, cuando hablo con colegas de la profesión, pero al final, ¿es amiga o enemiga?, ¿esto está ayudando al proceso creativo o lo está minando?, que es una gran pregunta y es un gran debate, yo creo que tampoco tengo la respuesta, pero sí que está candente todo el tiempo, ¿esto está mejorando el proceso creativo o lo está empeorando?, yo creo que parte de la respuesta está aquí, en 1838, que este es el año en el que se inventó la fotografía, para mucha gente fue, esto es el final de la pintura, realmente ya no tiene sentido pintar, porque ahora cualquier persona con ningún tipo de conocimiento de dibujo, ni de perspectiva, ni de encuadre, puede hacer una fotografía y lo va a hacer igual de bien que yo con todos mis años de dedicación, y realmente la pintura en muchas cosas fue modificada y el uso de la pintura en muchos sitios se perdió, los retratos que la gente se hacía para recordar cómo era su abuelo, pues la fotografía sustituyó todo eso, pero creo que una cosa fundamental que pasó a partir de ese momento fue, que la pintura se liberó completamente de una carga que tenía, que hasta ese momento la obsesión de la pintura era copiar la realidad, era intentar hacerlo lo más parecido a la realidad posible, y de repente, la fotografía cumple su objetivo, y yo como pintor puedo buscar otras cosas, en vez de copiar la realidad, reinterpreto la realidad, entonces empezaron a surgir movimientos tan interesantes como el impresionismo, que liberó las formas, el cubismo, que liberó la perspectiva, el expresionismo, que liberó el color, entonces empezaron a investigar, los pintores ya no tenían la expresión, yo puedo hacer lo que quiera, ya no tengo que copiar la realidad, puedo hacer lo que quiera, y otra cosa muy curiosa que pasó es que la fotografía con los años, la gente se fue especializando en ella, y se convirtió en un arte completamente diferente, tiene cosas en común con la pintura, como puede ser la composición, pero otras cosas que no tienen nada que ver, pues tienen que aprender a manejar un obturador, a saber enfocar, a diferentes cosas que son muy concretas del mundo de la fotografía. Y ahora nos encontramos aquí, 2025, tenemos internet plagado de cosas generadas por la inteligencia artificial, cuentos, fotografías, pinturas, canciones, estamos realmente saturados por un montón de material generado por la inteligencia artificial.</p>
                    <p>¿Qué va a pasar con todo esto? ¿Cuál es mi apuesta a lo que yo creo que va a pasar? Uno, que se va a normalizar, ahora simplemente sorprende por ver cosas absurdas creadas por la inteligencia artificial y nos llama mucho la atención, llevará un momento en que eso se normalizará y no nos parecerá una cosa así llamativa. También pasará que se empezará a crear una especie de experto en inteligencia artificial, gente que sepa utilizar muy bien esas herramientas y que poco a poco irá desarrollando, y quién sabe que dentro de unos años quizás se le puede considerar un artista porque sabe utilizar las herramientas de una manera concreta. Pero para mí lo más interesante es lo que va a pasar con los artistas tradicionales, con aquellos que dirán, realmente para hacer la fórmula que está haciendo todo el mundo, para coger esos clichés, esas cosas que la gente está consumiendo todos los días, básicamente para hacer los Vengadores 26, pues que lo puede hacer la inteligencia artificial, pero yo como artista voy a buscar qué puedo hacer que una máquina no pueda hacer, qué puedo hacer que haga falta sí o sí al ser humano.</p>
                    <p>Entonces creo que se va a empezar a desarrollar una línea artística súper interesante Para ver más de lo mismo, mucha inteligencia artificial. Si quieres algo auténtico, yo creo que el público cada vez irá pidiendo más, hombre, es que esto ya lo he visto, porque no es más que la fotocopia, pero si quiero ver algo auténtico, pues me podría apoyar más en ese otro tipo de arte, que al principio será más nicho, más curioso, pero creo que el apetito les irá pidiendo pedir más y más eso. Y ahora centrándonos, ¿ese artista tradicional qué puede aportar que no aporta las máquinas? O poniéndonos en positivo, ¿qué es lo que sí que aportamos los humanos? Que al final vamos a intentar buscar un híbrido entre a ver qué nos aporta la máquina y a ver qué aportamos nosotros para intentar potenciar nuestra creatividad.</p>
                    <p>Entonces, lo que no tienen las máquinas es originalidad, eso lo tenemos que poner por nuestro lado. Ellos nos pueden dar muchas respuestas, pero al final lo único que es, es una fotocopia súper sofisticada, te va cogiendo cositas de todos lados, te hace un collage enorme, pero no es original. La máquina lo que hace es el copy-paste, nosotros somos los que tenemos que aportar esa originalidad.</p>
                    <p>Otra cosa que no tiene la máquina es la destreza, que es el haber estado horas y horas practicando con un piano, horas y horas pintando, horas y horas escribiendo, ¿qué es lo que te da? Te da esa destreza que lo que te da es un criterio. Entonces, cuando la máquina te enseña 100 respuestas diferentes, si tú tienes ese criterio podrás saber, de esas 100 respuestas, ¿cuál es la respuesta correcta? Si no, pues elegirás al azar cualquier cosa y no sabrás diferenciar algo bueno de algo malo. Entonces, creo que es una de las claves, todas esas horas de trabajo te dan criterio.</p>
                    <p>Y una tercera cosa que tenemos los humanos, que las máquinas no tienen, es una visión. Al final, el ser humano... o sea, la creatividad no es tener una idea genial, yo tengo esta idea genial, pues ya está, soy súper creativo, sino es una sucesión de buenas ideas, que te llevan a un objetivo, como tú tienes un objetivo final, que esa es tu visión final. Entonces, con las máquinas te dan muchas respuestas, pero si tú tienes claro tu objetivo, si tienes clara tu visión, tú puedes decir, vale, esta respuesta no me vale, esta sí, esta no, y tú vas iterando, que es otra de las claves de la creatividad, el iterar, el ir desechando, cogiendo y vas puliendo un poco lo que tú quieres crear.</p>
                    <p>Y eso te ayuda a llegar, al final, a lo que sería el tercer punto de este proceso creativo, que es encontrar la respuesta correcta. Y esto es, al final, lo que te hace un poco diferenciarte. Cuando te encuentras la respuesta correcta, ¿qué es encontrar la respuesta correcta?, es que otros seres humanos, eso las máquinas no lo saben, que otros seres humanos sepan que has elegido la respuesta correcta.</p>
                    <p>Elegir la respuesta correcta es acercarse a esa verdad filosófica, esa verdad con mayúsculas, que es la que te hace un poco trascender en el tiempo. Cuando tú, entre todas las opciones, dices, pues mi tesis en esta película, en esta obra de artes, yo quiero hablar de este tema y creo que la verdad, la verdad objetiva, esa verdad filosófica, es esta, cuanta más gente piense que tiene razón en esa tesis que has planteado, esa obra gustará a más gente y trascenderá más en el tiempo, que es, al final, lo que están buscando cualquier artista. Entonces, con esto, yo al final me quedo un poco con el estudiante que me decía, oye, ¿merece la pena aprender a dibujar? Pues mira, yo creo que sí, que sí, que sí que merece la pena, pero lo que necesitamos es trabajar duro, como decía Edison, 1% de inspiración, 99% de transpiración, es mucho trabajo duro, mucho formarse, y con eso, uses o no uses las máquinas, que eso yo creo que es una elección personal, cualquiera de las dos opciones, te vas a tener que matar a trabajar y a formarte muy bien.</p>
                    <p>Entonces, quedémonos con esta cita, para la próxima vez que nos enfrentemos a las máquinas, saber lo que tenemos que hacer. Muchas gracias.</p>
                </div>
                <button class="btn" onclick="app.navigateTo('s-activacion')" style="margin-top: 2rem;">Continuar</button>
            </div>
        </section>

        <section id="s-activacion" class="section">
            <div class="content-card">
                <h2>Activando Saberes Previos</h2>
                <p>Antes de sumergirnos en el contenido, vamos a calentar motores. ¿Qué palabras te vienen a la mente cuando piensas en "IA" y "Creatividad"? Juguemos a encontrar las parejas correctas en esta actividad.</p>
                <p><strong>Instrucciones:</strong> Haz clic en una tarjeta y luego en su correspondiente pareja para revelarlas. ¡Intenta despejar el tablero!</p>
                <div class="iframe-container">
                    <iframe allow="fullscreen; autoplay; allow-top-navigation-by-user-activation" allowfullscreen width="795" height="690" frameborder="0" src="https://es.educaplay.com/juego/24152723-juego_de_parejas_ia_y_creatividad.html" aria-label="Actividad de Educaplay: Juego de parejas sobre IA y Creatividad"></iframe>
                </div>
                <button class="btn" onclick="app.navigateTo('s-desarrollo-practico')" style="margin-top: 2rem;">¡Listo! Vamos al video</button>
            </div>
        </section>


        <section id="s-desarrollo-practico" class="section">
            <div class="content-card">
                <h2>Conectando con la Realidad</h2>
                <p>Ahora que hemos activado nuestras ideas, veamos la charla que inspiró esta cápsula. Mientras observas, reflexiona sobre estas preguntas:</p>
                <ul>
                    <li>¿Alguna vez has sentido, como el estudiante de Roma, que una nueva tecnología amenaza tu campo profesional o tu pasión?</li>
                    <li>Piensa en tu propia disciplina. ¿En qué tareas específicas podría una IA ser una colaboradora útil?</li>
                    <li>¿Qué "pregunta fundamental" podrías formular en tu área de experticia que una IA, por sí sola, no podría concebir?</li>
                </ul>
                <p>A lo largo del video, haremos pausas en momentos clave para plantearte algunas preguntas y asegurar que estamos captando las ideas principales. ¡Mucha atención!</p>
                
                <div id="video-container">
                    <div id="video-player"></div>
                    <div id="video-quiz-modal">
                        <div class="video-quiz-content">
                            <h3 id="video-quiz-question"></h3>
                            <div id="video-quiz-options"></div>
                            <button id="video-quiz-feedback-btn" class="btn" style="margin-top: 1rem; display: none;">Continuar</button>
                        </div>
                    </div>
                </div>

                <button class="btn" onclick="app.navigateTo('s-desarrollo-teorico')" style="margin-top: 2rem;">Continuar al Desarrollo Teórico</button>
            </div>
        </section>
        
        <section id="s-desarrollo-teorico" class="section">
            <div class="content-card content-card-text">
                <h2>Profundizando: La Danza entre Humanos y Máquinas</h2>
                <p>¡Excelente trabajo, <span class="user-name-dynamic"></span>! Hemos reflexionado y visto el panorama general. Ahora, como buenos académicos, vamos a desgranar los conceptos clave. Usaremos las ideas de la charla como trampolín para ir más allá.</p>
                
                <div class="topic">
                    <h3>Tema 1: La Anatomía de la Creatividad</h3>
                    <p>El ponente simplifica el proceso creativo en tres pasos: <strong>1. Hacer la pregunta, 2. Documentarse, 3. Encontrar la respuesta correcta.</strong> Esta es una simplificación útil, pero profundicemos. El psicólogo Graham Wallas, en 1926, propuso un modelo de cuatro etapas que sigue siendo muy influyente:</p>
                    <ul>
                        <li><strong>Preparación:</strong> Es la fase de investigación y documentación que menciona la charla. Acumulamos conocimiento, tanto general (nuestra formación) como específico (para un proyecto). Aquí la IA puede ser una herramienta fenomenal, un "super-documentalista" que nos trae información de forma casi instantánea.</li>
                        <li><strong>Incubación:</strong> Es el periodo en que dejamos de pensar conscientemente en el problema. Nuestro subconsciente sigue trabajando, conectando ideas de formas inesperadas. <em>¿Puede una IA "incubar" una idea?</em> Por ahora, no. Su proceso es directo y computacional.</li>
                        <li><strong>Iluminación (¡Eureka!):</strong> Es el momento del "insight", la aparición súbita de la solución. Nace de la incubación.</li>
                        <li><strong>Verificación:</strong> Es la fase final, donde pulimos la idea, la probamos y le damos su forma final. Se alinea con "encontrar la respuesta correcta", que requiere criterio y visión.</li>
                    </ul>
                    <blockquote>Como dijo Picasso, "la inspiración existe, pero tiene que encontrarte trabajando". La fase de preparación es ese trabajo.</blockquote>
                    
                    <h4>Preguntas de Comprensión:</h4>
                    <ol>
                        <li>¿Qué etapa del modelo de Wallas se corresponde directamente con la "documentación" mencionada en la charla?</li>
                        <li>¿Por qué la fase de "Incubación" es, actualmente, una capacidad puramente humana?</li>
                        <li>¿Qué papel juega la "Verificación" en la calidad final de una obra creativa?</li>
                    </ol>
                    <h4>Pregunta de Aplicación:</h4>
                    <p>Piensa en un proyecto creativo que hayas realizado (una clase, un artículo, una obra artística). ¿Puedes identificar estas cuatro etapas en tu propio proceso? ¿En cuál de ellas hubieras podido usar una IA para ayudarte?</p>

                    <div class="bibliography">
                        <strong>Bibliografía:</strong><br>
                        Wallas, G. (1926). <em>The Art of Thought</em>. Harcourt, Brace and Company. [Este es un texto fundamental en los estudios sobre creatividad].
                    </div>
                </div>

                <div class="topic">
                    <h3>Tema 2: El Paralelismo Histórico - Fotografía y Pintura</h3>
                    <p>La analogía con la invención de la fotografía en 1838 es brillante. La pintura no murió; se <strong>transformó</strong>. Liberada de la "carga" de replicar la realidad, pudo explorar nuevas dimensiones: la luz (Impresionismo), la forma (Cubismo), la emoción (Expresionismo). Este es un caso de estudio fantástico sobre cómo la tecnología no necesariamente reemplaza, sino que <strong>redefine</strong> el campo.</p>
                    <p><strong>Caso Real:</strong> El movimiento Pictorialista de finales del siglo XIX intentó que la fotografía imitara a la pintura. Sin embargo, fotógrafos como Alfred Stieglitz y el movimiento de la "Fotografía directa" argumentaron que la fotografía debía encontrar su propia voz, su propia estética, basada en la nitidez y la captura del momento decisivo, algo que la pintura no podía hacer. Se convirtió en un arte con sus propias reglas.</p>
                    <p>La lección para nosotros es clara: en lugar de pedirle a la IA que "pinte como Rembrandt", la verdadera revolución vendrá cuando la usemos para crear algo que ni la creatividad humana ni la IA por sí solas podrían imaginar. Es buscar una <strong>tercera vía</strong>, un nuevo lenguaje artístico.</p>
                    <blockquote>La IA podría liberar al artista humano de la tiranía de la "hoja en blanco" o de tareas repetitivas, permitiéndole centrarse en la visión y la emoción.</blockquote>

                    <h4>Preguntas de Comprensión:</h4>
                    <ol>
                        <li>¿Cuál fue la principal "carga" de la que la fotografía liberó a la pintura?</li>
                        <li>¿Qué significa que la fotografía "encontró su propia voz"?</li>
                        <li>¿Qué implicación tiene este paralelismo histórico para los artistas y creadores de hoy?</li>
                    </ol>
                    <h4>Pregunta de Aplicación:</h4>
                    <p>En tu campo docente, ¿qué "tarea repetitiva" o "carga" podría asumir la IA para liberarte a ti o a tus estudiantes para un trabajo más profundo y creativo (p. ej., crear planes de lecciones, generar borradores de textos, crear imágenes para presentaciones)?</p>
                    
                    <div class="bibliography">
                        <strong>Bibliografía:</strong><br>
                        Newhall, B. (1982). <em>The History of Photography: From 1839 to the Present</em>. Museum of Modern Art. Disponible en: <a href="https://www.moma.org/documents/moma_publication_311872.pdf" target="_blank">MoMA Publications</a>.
                    </div>
                </div>
                
                <div class="topic">
                    <h3>Tema 3: Las Ventajas Competitivas Humanas</h3>
                    <p>La charla concluye identificando tres pilares que la IA (actual) no posee: <strong>Originalidad, Destreza y Visión.</strong></p>
                    <ul>
                        <li><strong>Originalidad:</strong> La IA es una maestra del <em>remix</em>, una "fotocopia súper sofisticada". Combina lo que ya existe. La verdadera originalidad, la pregunta que nadie ha hecho, sigue siendo nuestro dominio.</li>
                        <li><strong>Destreza (que genera Criterio):</strong> Las "10,000 horas" de práctica de las que habla Malcolm Gladwell. Esas horas no solo nos dan habilidad técnica, sino un <strong>criterio</strong> intuitivo para saber qué es bueno, qué funciona. Cuando la IA nos da 100 opciones, el criterio nos permite elegir la correcta o, más importante, identificar que ninguna es la correcta e iterar.</li>
                        <li><strong>Visión:</strong> La creatividad no es una sola idea, es una "sucesión de buenas ideas" alineadas con un objetivo. Es el "porqué" de nuestra creación. Una IA puede generar un párrafo, una imagen, una melodía. Pero mantener la coherencia, el tono y el propósito a lo largo de una novela, una sinfonía o un curso completo requiere una visión humana.</li>
                    </ul>

                    <h4>Preguntas de Comprensión:</h4>
                    <ol>
                        <li>¿Por qué se describe a la IA como una "fotocopia súper sofisticada"?</li>
                        <li>¿Cuál es el subproducto más importante de la "destreza"?</li>
                        <li>Explica la diferencia entre "tener una idea" y "tener una visión".</li>
                    </ol>
                    <h4>Pregunta de Aplicación:</h4>
                    <p>¿Cómo podrías diseñar una actividad de evaluación para tus estudiantes que no evalúe solo el producto final (que podría ser hecho con IA), sino su proceso, su criterio de selección y la visión detrás de su trabajo?</p>
                    
                     <div class="bibliography">
                        <strong>Bibliografía:</strong><br>
                         Gladwell, M. (2008). <em>Outliers: The Story of Success</em>. Little, Brown and Company.
                    </div>
                </div>

                <button class="btn" onclick="app.navigateTo('s-evaluacion-formativa')" style="margin-top: 2rem;">¡Entendido! Vamos a jugar</button>
            </div>
        </section>

        <section id="s-evaluacion-formativa" class="section">
            <div class="content-card">
                <h2>Pausa para Reflexionar y Jugar</h2>
                <p>Has procesado mucha información. Antes de la evaluación final, tomemos un momento para una autoevaluación lúdica. Piensa en lo siguiente:</p>
                <ul>
                    <li>¿Ha cambiado tu percepción sobre la IA y la creatividad desde que iniciaste esta cápsula?</li>
                    <li>¿Qué idea te ha parecido más reveladora o útil para tu práctica docente?</li>
                </ul>
                <p>Ahora, ¡pongamos a prueba tu conocimiento de forma divertida con este Quizizz! No te preocupes, esto es solo para practicar.</p>
                 <div class="iframe-container" style="min-height: 635px;">
                     <div style="width:100%;height:100%;display:flex;flex-direction:column;gap:8px;"><iframe src="https://quizizz.com/embed/quiz/6659f8a3e73809cf91f1a58c" title="IA y Creatividad - Quizizz" style="flex:1;" frameBorder="0" allowfullscreen></iframe><a href="https://quizizz.com/admin?source=embedFrame" target="_blank" style="font-size: 10px; color: #cccccc;line-break: anywhere;word-break: normal;overflow: hidden;white-space: nowrap;text-overflow: ellipsis; font-family: Interstate,Lucida Grande,Lucida Sans Unicode,Lucida Sans,Garuda,Verdana,Tahoma,sans-serif;font-weight: 100;">Explore more at Quizizz.</a></div>
                </div>
                <button class="btn" onclick="app.navigateTo('s-evaluacion')" style="margin-top: 2rem;">Estoy listo/a para la evaluación final</button>
            </div>
        </section>

        <section id="s-evaluacion" class="section">
            <div class="content-card" id="final-test-container">
                <h2>Evaluación Final</h2>
                <p>¡Es el momento de la verdad, <span class="user-name-dynamic"></span>! Demuestra lo que has aprendido. Tienes <strong>30 minutos</strong> para completar el test. Necesitas un <strong>70%</strong> para aprobar y puedes intentarlo un máximo de <strong>3 veces</strong>. ¡Mucha suerte!</p>
                
                <div id="test-intro">
                    <p><strong>Intentos restantes:</strong> <span id="attempts-left">3</span></p>
                    <button id="start-test-btn" class="btn">Comenzar Evaluación</button>
                </div>

                <div id="test-body" style="display: none;">
                    <div id="test-timer">30:00</div>
                    <form id="final-test-form">
                        </form>
                    <button id="submit-test-btn" type="button" class="btn">Enviar Respuestas</button>
                </div>

                <div id="test-result" style="display: none;">
                    <h3>Resultados</h3>
                    <p>Tu puntaje: <strong id="test-score"></strong></p>
                    <p id="test-feedback-message"></p>
                    <button id="retry-test-btn" class="btn btn-secondary" style="display: none;">Intentar de Nuevo</button>
                    <button id="continue-to-summary-btn" class="btn" onclick="app.navigateTo('s-sintesis')" style="display: none;">Continuar</button>
                </div>
            </div>
        </section>

        <section id="s-sintesis" class="section">
            <div class="content-card">
                <h2>Síntesis y Recursos Adicionales</h2>
                <p>¡Felicidades por llegar hasta aquí! Consolidemos lo aprendido.</p>

                <h3>Ideas Clave para Recordar</h3>
                <ul class="key-ideas">
                    <li>La creatividad humana no es magia, es un proceso (Pregunta, Documentación, Respuesta) donde la IA puede ser una poderosa aliada, especialmente en la documentación.</li>
                    <li>La tecnología no destruye el arte, lo transforma. Así como la fotografía liberó a la pintura, la IA puede liberarnos para enfocarnos en la visión, la emoción y la originalidad.</li>
                    <li>Nuestras ventajas competitivas son la <strong>Originalidad</strong> (hacer nuevas preguntas), la <strong>Destreza/Criterio</strong> (saber qué es bueno) y la <strong>Visión</strong> (mantener un propósito).</li>
                </ul>

                <h3 style="margin-top: 2rem;">Recursos para Profundizar</h3>
                <p>Para una vista más visual de estos conceptos, explora nuestra infografía.</p>
                <a href="https://elmejorequipo.github.io/iacreatividad/infografia.html" target="_blank" class="btn">Ver Infografía</a>

                <p style="margin-top: 2rem;">Y si prefieres escuchar, te dejamos este podcast que resume el debate.</p>
                <div class="iframe-container" style="height: 300px;">
                    <iframe width="100%" height="300" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/2107792848&color=%230066cc&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true&visual=true" aria-label="Podcast de SoundCloud: Creatividad humana y la IA ¿Amiga o enemiga?"></iframe>
                </div>

                <button class="btn" onclick="app.navigateTo('s-cierre')" style="margin-top: 2rem;">Paso Final: Cierre y Reflexión</button>
            </div>
        </section>


        <section id="s-cierre" class="section">
            <div class="content-card">
                <h2>Cierre y Preguntas Metacognitivas</h2>
                <p>Has completado el recorrido, ¡pero el viaje del aprendizaje apenas comienza! Tómate un momento para estas últimas reflexiones. Tus respuestas son valiosas para consolidar tu aprendizaje.</p>

                <div class="metacognitive-question">
                    <label for="meta-q1"><strong>1. Crear:</strong> Basado en todo lo que has aprendido, diseña una pequeña actividad o proyecto para tu propia asignatura que utilice una herramienta de IA (como ChatGPT, Midjourney, etc.) para <strong>aumentar</strong> la creatividad de tus estudiantes en lugar de simplemente generar una respuesta final.</label>
                    <textarea id="meta-q1" placeholder="Describe los pasos, la herramienta de IA a usar y cómo evaluarías el proceso."></textarea>
                </div>
                <div class="metacognitive-question">
                    <label for="meta-q2"><strong>2. Evaluar:</strong> ¿Cuál es el mayor riesgo y la mayor oportunidad que percibes al integrar la IA en tus clases después de esta reflexión? Argumenta tu postura.</label>
                    <textarea id="meta-q2" placeholder="Considera aspectos como la equidad, el plagio, el desarrollo del pensamiento crítico, etc."></textarea>
                </div>
                <div class="metacognitive-question">
                    <label for="meta-q3"><strong>3. Analizar:</strong> ¿Qué habilidad o competencia personal crees que necesitas fortalecer en ti mismo/a para guiar eficazmente a tus estudiantes en esta nueva era de IA y creatividad?</label>
                    <textarea id="meta-q3" placeholder="Piensa en habilidades técnicas, pedagógicas, éticas o filosóficas."></textarea>
                </div>
                
                <button id="show-report-btn" class="btn">Ver mi Reporte Final</button>

                <div id="rubric-container">
                    <h3 style="margin-top: 2rem;">Rúbrica de Evaluación (para tus respuestas)</h3>
                    <p>Así es como podrías evaluar respuestas a preguntas abiertas como la primera (nivel "Crear" de Bloom).</p>
                    <div style="overflow-x:auto;">
                        <table class="rubric-table">
                            <thead>
                                <tr>
                                    <th>Criterio</th>
                                    <th>En Desarrollo (1)</th>
                                    <th>Desarrollo Aceptable (2)</th>
                                    <th>Desarrollo Óptimo (3)</th>
                                    <th>Desarrollo Pleno (4)</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Originalidad y Pertinencia del Diseño</strong></td>
                                    <td>La actividad propuesta es genérica o no se alinea claramente con el objetivo de aumentar la creatividad.</td>
                                    <td>La actividad es pertinente pero se basa en ejemplos comunes. La IA se usa de forma básica.</td>
                                    <td>La actividad es original y bien adaptada al contexto de la asignatura. El uso de la IA es intencional y creativo.</td>
                                    <td>La actividad es innovadora, propone un uso no obvio de la IA y fomenta claramente el pensamiento divergente.</td>
                                </tr>
                                <tr>
                                    <td><strong>Integración Pedagógica de la IA</strong></td>
                                    <td>La IA se menciona como una herramienta, pero su rol en el proceso de aprendizaje no está claro.</td>
                                    <td>La IA se utiliza para una tarea específica (ej. brainstorming), pero la conexión con las habilidades humanas no se enfatiza.</td>
                                    <td>Se describe claramente cómo la IA actúa como andamio, dejando las tareas de orden superior (criterio, visión) al estudiante.</td>
                                    <td>El diseño crea una sinergia explícita donde la IA y el estudiante se potencian mutuamente para lograr un resultado superior.</td>
                                </tr>
                                <tr>
                                    <td><strong>Claridad en la Evaluación</strong></td>
                                    <td>La evaluación se centra solo en el producto final, sin considerar el proceso.</td>
                                    <td>Se mencionan criterios de evaluación, pero son vagos o no miden el proceso creativo.</td>
                                    <td>La evaluación se enfoca tanto en el proceso como en el producto, evaluando el criterio y la justificación del estudiante.</td>
                                    <td>La evaluación incluye autoevaluación y reflexión metacognitiva sobre el uso de la IA, además de evaluar la originalidad y la visión.</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <section id="s-certificado" class="section">
            <div id="certificate-container" class="content-card">
                 </div>
            
             <div id="final-report-container" class="content-card" style="display: none;">
                <h2>Tu Reporte Final del Curso</h2>
                <div id="final-report-content">
                    </div>
                <div style="margin-top: 2rem; display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                    <button class="btn" onclick="window.print()">Guardar como PDF / Imprimir</button>
                    <button class="btn btn-secondary" id="share-btn">Compartir</button>
                    <button class="btn btn-secondary" onclick="app.restartCourse()">Reiniciar Curso</button>
                </div>
            </div>
        </section>

    </main>
    

    <script>
    document.addEventListener('DOMContentLoaded', () => {
    
        //------------------------------------//
        //      1. ESTADO Y VARIABLES         //
        //------------------------------------//
        const app = {
            state: {
                userName: '',
                userEmail: '',
                currentSection: 's-login',
                sections: [
                    { id: 's-login', name: 'Ingreso' },
                    { id: 's-portada', name: 'Portada' },
                    { id: 's-introduccion', name: 'Introducción' },
                    { id: 's-activacion', name: 'Activación' },
                    { id: 's-desarrollo-practico', name: 'Video' },
                    { id: 's-desarrollo-teorico', name: 'Teoría' },
                    { id: 's-evaluacion-formativa', name: 'Práctica' },
                    { id: 's-evaluacion', name: 'Evaluación' },
                    { id: 's-sintesis', name: 'Síntesis' },
                    { id: 's-cierre', name: 'Cierre' },
                    { id: 's-certificado', name: 'Reporte' },
                ],
                points: 0,
                badges: {
                    explorer: false,
                    creator: false,
                    visionary: false
                },
                test: {
                    score: 0,
                    attempts: 3,
                    passed: false,
                    timer: null,
                    timeLeft: 1800 // 30 minutos en segundos
                },
                metacognitiveAnswers: {},
                videoQuiz: {
                    player: null,
                    currentTimeCheck: null,
                    answered: [false, false, false, false],
                    questions: [
                        { time: 65, question: "Según el ponente, ¿cuál es la capacidad exclusivamente humana en el proceso creativo?", options: ["Crear desde cero", "Adaptar la realidad", "Hacerse preguntas", "Tener buena memoria"], correct: 2 },
                        { time: 140, question: "¿Qué dos cosas principales aportan las máquinas al proceso creativo, según la charla?", options: ["Originalidad y visión", "Tiempo y dinero", "Sentimiento y emoción", "Criterio y destreza"], correct: 1 },
                        { time: 235, question: "¿Qué movimiento artístico NO se mencionó como consecuencia de la liberación de la pintura por la fotografía?", options: ["Impresionismo", "Cubismo", "Expresionismo", "Renacimiento"], correct: 3 },
                        { time: 380, question: "Además de la originalidad y la visión, ¿qué tercera cualidad humana destaca el ponente como crucial?", options: ["La rapidez", "La perfección técnica", "La destreza que da criterio", "La capacidad de copiar"], correct: 2 }
                    ]
                },
                finalTest: {
                    questions: [
                        { q: "¿Cuál es el primer paso del proceso creativo simplificado propuesto en la charla, considerado exclusivamente humano?", a: ["Documentarse exhaustivamente", "Hacerse la pregunta correcta", "Encontrar la respuesta correcta", "Crear un producto final"], correct: 1 },
                        { q: "La analogía histórica central de la charla compara el impacto de la IA con la invención de...", a: ["La imprenta", "El ordenador", "La fotografía", "El internet"], correct: 2 },
                        { q: "Según el ponente, la destreza obtenida tras horas de práctica otorga al artista principalmente...", a: ["Dinero", "Fama", "Rapidez", "Criterio"], correct: 3 },
                        { q: "Desde una perspectiva pedagógica, ¿cuál sería el uso más enriquecedor de la IA en un aula creativa?", a: ["Para que los estudiantes generen trabajos finales automáticamente.", "Como una herramienta de documentación y brainstorming para potenciar ideas propias.", "Para reemplazar la necesidad de aprender habilidades técnicas fundamentales.", "Únicamente para calificar exámenes de opción múltiple."], correct: 1 },
                        { q: "La charla sugiere que, ante la saturación de contenido IA, el público podría empezar a valorar más...", a: ["Obras más rápidas y baratas.", "Contenido que siga las tendencias populares.", "El arte que se parezca a 'Los Vengadores 26'.", "Obras auténticas que requieran una visión y destreza humanas."], correct: 3 },
                        { q: "¿Qué es la 'visión' en el contexto creativo descrito?", a: ["Tener una idea genial y repentina.", "Una sucesión de buenas ideas coherentes que persiguen un objetivo final.", "La capacidad de ver el futuro de la tecnología.", "Poder generar imágenes con IA."], correct: 1 }
                    ]
                }
            },

            //------------------------------------//
            //      2. INICIALIZACIÓN             //
            //------------------------------------//
            init() {
                this.loadState();
                this.setupEventListeners();
                this.setupAccessibility();
                this.buildFloatingMenu();
                
                if (this.state.userName) {
                    this.navigateTo('s-portada');
                    document.getElementById('gamification-hud').style.display = 'flex';
                } else {
                    this.navigateTo('s-login');
                }
                
                this.updateUI();
            },

            //------------------------------------//
            //      3. MANEJO DE ESTADO Y DATOS   //
            //------------------------------------//
            saveState() {
                localStorage.setItem('creativeAICapsuleState', JSON.stringify(this.state));
            },

            loadState() {
                const savedState = localStorage.getItem('creativeAICapsuleState');
                if (savedState) {
                    this.state = JSON.parse(savedState);
                    // Reiniciar elementos volátiles como timers
                    this.state.test.timer = null;
                    this.state.videoQuiz.currentTimeCheck = null;
                    this.state.videoQuiz.player = null;
                }
            },
            
            clearData() {
                if(confirm('¿Estás seguro de que quieres borrar todo tu progreso y tus datos? Esta acción no se puede deshacer.')) {
                    localStorage.removeItem('creativeAICapsuleState');
                    window.location.reload();
                }
            },

            //------------------------------------//
            //      4. NAVEGACIÓN Y UI            //
            //------------------------------------//
            navigateTo(sectionId) {
                const currentSectionElement = document.getElementById(this.state.currentSection);
                if (currentSectionElement) currentSectionElement.classList.remove('active');

                const nextSectionElement = document.getElementById(sectionId);
                if (nextSectionElement) {
                    nextSectionElement.classList.add('active');
                    this.state.currentSection = sectionId;
                    
                    // Lógica específica al entrar en una sección
                    this.onSectionEnter(sectionId);

                    this.updateUI();
                    this.saveState();
                    window.scrollTo(0, 0);
                }
            },

            updateUI() {
                this.updateProgressBar();
                this.updateFloatingMenu();
                this.updateGamificationHUD();
                
                // Actualizar nombre de usuario dinámicamente
                document.querySelectorAll('.user-name-dynamic').forEach(el => el.textContent = this.state.userName);
            },
            
            onSectionEnter(sectionId) {
                // Lógica de gamificación y contenido dinámico
                switch(sectionId) {
                    case 's-portada':
                        document.getElementById('portada-title').innerHTML = `IA: Creatividad Aumentada o Amenazada, <br/>¡Hola ${this.state.userName}!`;
                        document.getElementById('gamification-hud').style.display = 'flex';
                        break;
                    case 's-introduccion':
                        document.getElementById('user-name-intro').textContent = this.state.userName;
                        this.awardBadge('explorer');
                        this.addPoints(10);
                        break;
                    case 's-desarrollo-practico':
                        if (!this.state.videoQuiz.player) this.initYouTubePlayer();
                        this.addPoints(10);
                        break;
                    case 's-desarrollo-teorico':
                        this.awardBadge('creator');
                        this.addPoints(20);
                        break;
                    case 's-evaluacion':
                         document.getElementById('attempts-left').textContent = this.state.test.attempts;
                         if (this.state.test.passed || this.state.test.attempts <= 0) {
                            document.getElementById('test-intro').style.display = 'none';
                            document.getElementById('test-result').style.display = 'block';
                            this.showTestResult();
                         }
                        break;
                    case 's-certificado':
                         this.generateFinalReport();
                         this.handleCertificateDisplay();
                        break;
                }
            },
            
            buildFloatingMenu() {
                const menu = document.getElementById('floating-menu');
                menu.innerHTML = '';
                this.state.sections.forEach((section, index) => {
                    const dot = document.createElement('div');
                    dot.className = 'menu-dot';
                    dot.dataset.target = section.id;
                    dot.setAttribute('role', 'button');
                    dot.setAttribute('aria-label', `Ir a la sección ${section.name}`);
                    dot.innerHTML = `<span class="tooltip">${section.name}</span>`;
                    dot.onclick = () => this.navigateTo(section.id);
                    menu.appendChild(dot);
                });
            },

            updateFloatingMenu() {
                const dots = document.querySelectorAll('#floating-menu .menu-dot');
                dots.forEach(dot => {
                    dot.classList.toggle('active', dot.dataset.target === this.state.currentSection);
                });
            },

            updateProgressBar() {
                const currentIndex = this.state.sections.findIndex(s => s.id === this.state.currentSection);
                const progress = (currentIndex / (this.state.sections.length - 1)) * 100;
                document.getElementById('progress-bar').style.width = `${progress}%`;
            },
            
            showFeedbackModal(title, message, showButton = true) {
                const modal = document.getElementById('feedback-modal');
                const content = document.getElementById('feedback-modal-content');
                content.innerHTML = `
                    <h3>${title}</h3>
                    <p>${message}</p>
                    ${showButton ? '<button class="btn" onclick="app.closeFeedbackModal()">Entendido</button>' : ''}
                `;
                modal.classList.add('show');
            },
            
            closeFeedbackModal() {
                 document.getElementById('feedback-modal').classList.remove('show');
            },

            //------------------------------------//
            //      5. GAMIFICACIÓN               //
            //------------------------------------//
            addPoints(amount) {
                this.state.points += amount;
                this.updateGamificationHUD();
                this.saveState();
            },
            
            awardBadge(badgeName) {
                if (!this.state.badges[badgeName]) {
                    this.state.badges[badgeName] = true;
                    this.addPoints(50); // Puntos extra por insignia
                    this.showFeedbackModal("¡Insignia Desbloqueada!", `¡Felicidades, ${this.state.userName}! Has ganado la insignia '${document.getElementById('badge-' + badgeName).title}'.`);
                    this.updateGamificationHUD();
                    this.saveState();
                }
            },
            
            updateGamificationHUD() {
                document.getElementById('points-display').textContent = `Puntos: ${this.state.points}`;
                for (const badgeName in this.state.badges) {
                    const el = document.getElementById(`badge-${badgeName}`);
                    if (el) el.classList.toggle('earned', this.state.badges[badgeName]);
                }
            },


            //------------------------------------//
            //      6. LÓGICA DE SECCIONES        //
            //------------------------------------//

            // --- Formulario de Ingreso ---
            handleLogin(event) {
                event.preventDefault();
                const form = event.target;
                const nameInput = form.querySelector('#fullName');
                const emailInput = form.querySelector('#email');
                let isValid = true;

                // Validación Nombre
                if (!nameInput.value.trim()) {
                    nameInput.parentElement.classList.add('error');
                    isValid = false;
                } else {
                    nameInput.parentElement.classList.remove('error');
                }

                // Validación Email
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (!emailRegex.test(emailInput.value)) {
                    emailInput.parentElement.classList.add('error');
                    isValid = false;
                } else {
                    emailInput.parentElement.classList.remove('error');
                }

                if (isValid) {
                    this.state.userName = nameInput.value.trim();
                    this.state.userEmail = emailInput.value.trim();
                    this.state.phone = form.querySelector('#phone').value.trim();
                    this.saveState();
                    this.navigateTo('s-portada');
                }
            },
            
            // --- Desarrollo Práctico (Video-Quiz) ---
            initYouTubePlayer() {
                const onPlayerStateChange = (event) => {
                    // Si el video se está reproduciendo, chequear tiempo
                    if (event.data === YT.PlayerState.PLAYING) {
                        this.state.videoQuiz.currentTimeCheck = setInterval(() => this.checkVideoTime(), 1000);
                    } else {
                        // Si se pausa, se detiene, etc., limpiar el intervalo
                        clearInterval(this.state.videoQuiz.currentTimeCheck);
                    }
                };

                // Usamos un video de Creative Commons sobre creatividad como reemplazo funcional
                this.state.videoQuiz.player = new YT.Player('video-player', {
                    videoId: 'V-C2g7XR_bA', // Video: "Where Good Ideas Come From" by Steven Johnson
                    playerVars: {
                        'playsinline': 1,
                        'controls': 1,
                        'rel': 0,
                    },
                    events: {
                        'onStateChange': onPlayerStateChange
                    }
                });
            },
            
            checkVideoTime() {
                if (!this.state.videoQuiz.player || typeof this.state.videoQuiz.player.getCurrentTime !== 'function') return;
                
                const currentTime = this.state.videoQuiz.player.getCurrentTime();
                const questions = this.state.videoQuiz.questions;

                for (let i = 0; i < questions.length; i++) {
                    if (!this.state.videoQuiz.answered[i] && currentTime >= questions[i].time) {
                        this.state.videoQuiz.player.pauseVideo();
                        this.showVideoQuiz(i);
                        this.state.videoQuiz.answered[i] = true; // Marcar como mostrada para no repetirla
                        break;
                    }
                }
            },
            
            showVideoQuiz(questionIndex) {
                const q = this.state.videoQuiz.questions[questionIndex];
                document.getElementById('video-quiz-question').textContent = q.question;
                const optionsContainer = document.getElementById('video-quiz-options');
                optionsContainer.innerHTML = '';
                
                q.options.forEach((opt, i) => {
                    const button = document.createElement('button');
                    button.className = 'video-quiz-option';
                    button.textContent = opt;
                    button.onclick = () => this.checkVideoAnswer(questionIndex, i, button);
                    optionsContainer.appendChild(button);
                });
                
                document.getElementById('video-quiz-modal').style.display = 'flex';
            },
            
            checkVideoAnswer(qIndex, ansIndex, button) {
                const question = this.state.videoQuiz.questions[qIndex];
                const allOptions = button.parentElement.children;

                // Deshabilitar más clics
                for(let opt of allOptions) { opt.disabled = true; }

                if (ansIndex === question.correct) {
                    button.classList.add('correct');
                    this.addPoints(15);
                } else {
                    button.classList.add('incorrect');
                    allOptions[question.correct].classList.add('correct');
                }
                
                document.getElementById('video-quiz-feedback-btn').style.display = 'block';
                document.getElementById('video-quiz-feedback-btn').onclick = () => this.closeVideoQuiz();
            },
            
            closeVideoQuiz() {
                document.getElementById('video-quiz-modal').style.display = 'none';
                document.getElementById('video-quiz-feedback-btn').style.display = 'none';
                if(this.state.videoQuiz.player) this.state.videoQuiz.player.playVideo();
            },

            // --- Evaluación Final ---
            startTest() {
                document.getElementById('test-intro').style.display = 'none';
                document.getElementById('test-body').style.display = 'block';
                this.renderTestQuestions();
                
                this.state.test.timeLeft = 1800;
                this.updateTimerDisplay();
                
                this.state.test.timer = setInterval(() => {
                    this.state.test.timeLeft--;
                    this.updateTimerDisplay();
                    if (this.state.test.timeLeft <= 0) {
                        this.submitTest();
                    }
                }, 1000);
            },
            
            renderTestQuestions() {
                const form = document.getElementById('final-test-form');
                form.innerHTML = '';
                this.state.finalTest.questions.forEach((q, i) => {
                    const block = document.createElement('div');
                    block.className = 'question-block';
                    block.innerHTML = `<p><strong>${i+1}. ${q.q}</strong></p>`;
                    const optionsContainer = document.createElement('div');
                    q.a.forEach((opt, j) => {
                        const label = document.createElement('label');
                        label.className = 'test-option';
                        label.innerHTML = `
                            <input type="radio" name="q${i}" value="${j}">
                            <span>${opt}</span>
                        `;
                        optionsContainer.appendChild(label);
                    });
                    block.appendChild(optionsContainer);
                    form.appendChild(block);
                });
                 // Add click listener to options for visual feedback
                form.querySelectorAll('.test-option').forEach(label => {
                    label.addEventListener('click', () => {
                        const radioName = label.querySelector('input').name;
                        form.querySelectorAll(`input[name="${radioName}"]`).forEach(r => {
                           r.parentElement.classList.remove('selected');
                        });
                        label.classList.add('selected');
                    });
                });
            },
            
            updateTimerDisplay() {
                const minutes = Math.floor(this.state.test.timeLeft / 60);
                const seconds = this.state.test.timeLeft % 60;
                document.getElementById('test-timer').textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            },
            
            submitTest() {
                clearInterval(this.state.test.timer);
                let score = 0;
                const form = document.getElementById('final-test-form');
                const questions = this.state.finalTest.questions;

                questions.forEach((q, i) => {
                    const selected = form.querySelector(`input[name="q${i}"]:checked`);
                    const options = form.querySelectorAll(`input[name="q${i}"]`);
                    
                    options.forEach(opt => { opt.parentElement.disabled = true; }); // Disable options

                    if(selected) {
                        const selectedAnswer = parseInt(selected.value);
                         const selectedLabel = selected.parentElement;
                        if(selectedAnswer === q.correct) {
                            score++;
                            selectedLabel.classList.add('correct');
                        } else {
                            selectedLabel.classList.add('incorrect');
                            // Highlight the correct one
                            form.querySelector(`input[name="q${i}"][value="${q.correct}"]`).parentElement.classList.add('correct');
                        }
                    } else {
                        // Mark correct answer if none selected
                         form.querySelector(`input[name="q${i}"][value="${q.correct}"]`).parentElement.classList.add('correct');
                    }
                });

                this.state.test.attempts--;
                const percentage = Math.round((score / questions.length) * 100);
                this.state.test.score = percentage;
                
                if (percentage >= 70) {
                    this.state.test.passed = true;
                    this.awardBadge('visionary');
                    this.addPoints(100);
                }
                
                this.saveState();
                this.showTestResult();
            },
            
            showTestResult() {
                document.getElementById('test-body').style.display = 'none';
                document.getElementById('test-timer').style.display = 'none';
                document.getElementById('test-result').style.display = 'block';

                document.getElementById('test-score').textContent = `${this.state.test.score}%`;
                const feedbackMsg = document.getElementById('test-feedback-message');
                const retryBtn = document.getElementById('retry-test-btn');
                const continueBtn = document.getElementById('continue-to-summary-btn');
                
                if (this.state.test.passed) {
                    feedbackMsg.textContent = `¡Felicidades, ${this.state.userName}! Has aprobado. Has demostrado un gran entendimiento del tema.`;
                    feedbackMsg.style.color = 'var(--color-success)';
                    retryBtn.style.display = 'none';
                    continueBtn.style.display = 'inline-block';
                } else {
                    if (this.state.test.attempts > 0) {
                        feedbackMsg.textContent = `No te preocupes. Te quedan ${this.state.test.attempts} intento(s). ¡Repasa el material y vuelve a intentarlo!`;
                        retryBtn.style.display = 'inline-block';
                    } else {
                        feedbackMsg.textContent = 'Has agotado tus intentos. Puedes continuar, pero no podrás obtener el certificado. ¡No dejes que eso te detenga para seguir aprendiendo!';
                        retryBtn.style.display = 'none';
                    }
                    feedbackMsg.style.color = 'var(--color-error)';
                    continueBtn.style.display = 'inline-block'; // Allow to continue even if failed
                }
            },
            
            retryTest() {
                document.getElementById('test-result').style.display = 'none';
                document.getElementById('test-body').style.display = 'block';
                document.getElementById('test-timer').style.display = 'block';
                this.startTest();
            },

            // --- Cierre y Reporte ---
            saveMetacognitiveAnswers() {
                this.state.metacognitiveAnswers.q1 = document.getElementById('meta-q1').value;
                this.state.metacognitiveAnswers.q2 = document.getElementById('meta-q2').value;
                this.state.metacognitiveAnswers.q3 = document.getElementById('meta-q3').value;
                this.saveState();
            },
            
            generateFinalReport() {
                this.saveMetacognitiveAnswers();
                const reportContentEl = document.getElementById('final-report-content');
                
                let reportHTML = `
                    <p><strong>Estudiante:</strong> ${this.state.userName}</p>
                    <p><strong>Correo:</strong> ${this.state.userEmail}</p>
                    <p><strong>Fecha:</strong> ${new Date().toLocaleDateString('es-ES')}</p>
                    <hr style="margin: 1rem 0;">
                    <h3>Resumen de Desempeño</h3>
                    <ul>
                        <li><strong>Puntaje Total:</strong> ${this.state.points} puntos</li>
                        <li><strong>Insignias Ganadas:</strong> ${Object.values(this.state.badges).filter(b => b).length} de 3</li>
                        <li><strong>Resultado Evaluación Final:</strong> ${this.state.test.score}% (${this.state.test.passed ? 'Aprobado' : 'No Aprobado'})</li>
                    </ul>
                    <h3 style="margin-top: 1.5rem;">Tus Reflexiones Metacognitivas</h3>
                    <h4>1. Diseño de actividad con IA:</h4>
                    <p style="padding-left: 1rem; border-left: 3px solid var(--color-accent);">${this.state.metacognitiveAnswers.q1 || '<em>No respondido.</em>'}</p>
                    <h4>2. Riesgos y oportunidades de la IA:</h4>
                    <p style="padding-left: 1rem; border-left: 3px solid var(--color-accent);">${this.state.metacognitiveAnswers.q2 || '<em>No respondido.</em>'}</p>
                    <h4>3. Habilidades a fortalecer:</h4>
                    <p style="padding-left: 1rem; border-left: 3px solid var(--color-accent);">${this.state.metacognitiveAnswers.q3 || '<em>No respondido.</em>'}</p>
                `;
                
                reportContentEl.innerHTML = reportHTML;
                document.getElementById('final-report-container').style.display = 'block';
            },
            
            handleCertificateDisplay() {
                const container = document.getElementById('certificate-container');
                if (this.state.test.passed) {
                    container.innerHTML = `
                        <h2>¡Felicidades, has obtenido tu certificado!</h2>
                        <p>Este es un reconocimiento a tu esfuerzo y dedicación. ¡Sigue así, <span class="user-name-dynamic">${this.state.userName}</span>!</p>
                        <div id="certificate-wrapper">
                            <div id="certificate-content">
                                <svg width="100%" height="100%" style="position:absolute; top:0; left:0; z-index:-1;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 600">
                                  <path fill="rgba(65, 90, 119, 0.05)" d="M-200 650L850 -200L750 -150L-250 700Z" />
                                  <path fill="rgba(119, 141, 169, 0.05)" d="M800 800L1100 -100L1200 -50L900 850Z" />
                                </svg>
                                
                                <p style="font-size: 1.2rem; letter-spacing: 2px;">CERTIFICADO DE FINALIZACIÓN</p>
                                <p class="cert-granted">Otorgado a:</p>
                                <h1 class="cert-name">${this.state.userName}</h1>
                                <p class="cert-desc">Por haber completado satisfactoriamente la cápsula educativa</p>
                                <h2 class="cert-title">IA: Creatividad Aumentada o Amenazada</h2>
                                <div class="cert-footer">
                                    <div style="text-align:left;">
                                        <p><strong>Institución:</strong> Cátedra de Innovación Educativa</p>
                                        <p><strong>Instructor:</strong> Equipo de Desarrollo Web</p>
                                        <p><strong>Fecha:</strong> ${new Date().toLocaleDateString('es-ES')}</p>
                                        <p><strong>Horas Académicas:</strong> 2</p>
                                    </div>
                                    <div style="text-align:right;">
                                        <svg class="cert-qr" id="qr-code"></svg>
                                        <p style="font-size:0.8rem;">ID Verificación: ${this.state.userEmail.substring(0,4).toUpperCase()}-${Date.now().toString().slice(-6)}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <button id="download-cert-btn" class="btn" style="margin-top: 1rem;">Descargar Certificado (PDF)</button>
                    `;
                    this.generateQRCode();
                    document.getElementById('download-cert-btn').onclick = () => this.downloadCertificate();
                    document.getElementById('certificate-wrapper').style.display = 'block';
                } else {
                     container.innerHTML = `
                        <h2>Reporte Final</h2>
                        <p>Has completado el curso. Aunque no has alcanzado el puntaje para el certificado esta vez, tu esfuerzo es muy valioso. Revisa tu reporte y no dejes de explorar este fascinante tema.</p>
                     `;
                }
            },
            
            downloadCertificate() {
                const element = document.getElementById('certificate-wrapper');
                const opt = {
                  margin:       0.5,
                  filename:     `Certificado_IA_Creatividad_${this.state.userName.replace(' ','_')}.pdf`,
                  image:        { type: 'jpeg', quality: 0.98 },
                  html2canvas:  { scale: 2, useCORS: true },
                  jsPDF:        { unit: 'in', format: 'letter', orientation: 'landscape' }
                };
                html2pdf().from(element).set(opt).save();
            },
            
            generateQRCode() {
                // Generador de QR simple en SVG para no usar librerías externas
                const url = 'https://github.com/elmejorequipo/iacreatividad';
                const qrSize = 100;
                const qrSvg = `
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 33 33" shape-rendering="crispEdges" width="${qrSize}" height="${qrSize}">
                        <path fill="#fff" d="M0 0h33v33H0z"/>
                        <path fill="#0d1b2a" d="M3 3h7v7H3z m1 1v5h5V4z m21 0h7v7h-7z m1 1v5h5V4z m-21 21h7v7H3z m1 1v5h5v-5z m1-16h1v1h-1z m-1 1h1v1H4z m2 0h1v1H6z m-1 2h1v1H5z m1 1h1v1H6z m-3 1h1v1H3z m1 1h1v1H4z m2 0h1v1H6z m-1 2h1v1H5z m1 1h1v1H6z m-3 1h1v1H3z m1 1h1v1H4z m2 0h1v1H6z m18-17h1v1h-1z m-1 1h1v1h-1z m2 0h1v1h-1z m-1 2h1v1h-1z m1 1h1v1h-1z m-3 1h1v1h-1z m1 1h1v1h-1z m2 0h1v1h-1z m-1 2h1v1h-1z m1 1h1v1h-1z m-3 1h1v1h-1z m1 1h1v1h-1z m2 0h1v1h-1z m-20 1h1v1h-1z m-1 1h1v1H4z m2 0h1v1H6z m-1 2h1v1H5z m1 1h1v1H6z m-3 1h1v1H3z m1 1h1v1H4z m2 0h1v1H6z m1 2h1v1H7z m-1 1h1v1H6z m-2 1h1v1H4z m-1 1h1v1H3z m1 2h1v1H4z m-1 1h1v1H3z m2 0h1v1H5z m2 0h1v1H7z m-1 2h1v1H6z m-3 1h1v1H3z m1 1h1v1H4z m2 0h1v1H6z m1 2h1v1H7z m-1 1h1v1H6z m-2 1h1v1H4z m-1 1h1v1H3z m1 2h1v1H4z m1 1h1v1H5z m-2 1h1v1H3z m1 1h1v1H4z m1 1h1v1H5z m1 1h1v1H6z m18-21h1v1h-1z m1 2h1v1h-1z m-1 1h1v1h-1z m-1 1h1v1h-1z m2 1h1v1h-1z m1 1h1v1h-1z m1 1h1v1h-1z m-5 1h1v1h-1z m1 1h1v1h-1z m1 1h1v1h-1z m-4 1h1v1h-1z m1 2h1v1h-1z m-1 1h1v1h-1z m-1 1h1v1h-1z m2 1h1v1h-1z m-1 1h1v1h-1z m2 1h1v1h-1z m1 1h1v1h-1z m-5 1h1v1h-1z m-1 1h1v1h-1z m2 0h1v1h-1z m1 1h1v1h-1z m1 1h1v1h-1z"/>
                    </svg>
                `;
                document.getElementById('qr-code').innerHTML = qrSvg;
            },
            
            // --- Otros ---
            restartCourse() {
                if(confirm('¿Quieres reiniciar el curso? Perderás tu progreso actual.')) {
                    this.state.currentSection = 's-portada';
                    this.state.points = 0;
                    this.state.badges = { explorer: false, creator: false, visionary: false };
                    this.state.test = { score: 0, attempts: 3, passed: false, timer: null, timeLeft: 1800 };
                    this.state.metacognitiveAnswers = {};
                    this.state.videoQuiz.answered = [false, false, false, false];
                    this.saveState();
                    this.navigateTo('s-portada');
                }
            },

            //------------------------------------//
            //      7. ACCESIBILIDAD            //
            //------------------------------------//
            setupAccessibility() {
                 const motionQuery = window.matchMedia('(prefers-reduced-motion: reduce)');
                 
                 const toggleMotion = () => {
                    document.body.classList.toggle('reduced-motion');
                    document.getElementById('toggle-motion-btn').textContent = document.body.classList.contains('reduced-motion') ? 'Activar Animación' : 'Reducir Animación';
                 };

                 if (motionQuery.matches) {
                     document.body.classList.add('reduced-motion');
                     document.getElementById('toggle-motion-btn').textContent = 'Activar Animación';
                 }
                 
                 document.getElementById('toggle-motion-btn').addEventListener('click', toggleMotion);
            },
            
            //------------------------------------//
            //      8. EVENT LISTENERS            //
            //------------------------------------//
            setupEventListeners() {
                document.getElementById('login-form').addEventListener('submit', this.handleLogin.bind(this));
                document.getElementById('clear-data-btn').addEventListener('click', this.clearData.bind(this));
                document.getElementById('chatbot-btn').addEventListener('click', () => {
                    alert(`¡Hola, ${this.state.userName}! Soy tu asistente de IA. Por ahora, soy solo un prototipo, pero pronto podré ayudarte con tus dudas. ¿Qué te ha parecido más interesante hasta ahora?`);
                });
                document.getElementById('start-test-btn').addEventListener('click', this.startTest.bind(this));
                document.getElementById('submit-test-btn').addEventListener('click', this.submitTest.bind(this));
                document.getElementById('retry-test-btn').addEventListener('click', this.retryTest.bind(this));
                document.getElementById('show-report-btn').addEventListener('click', () => this.navigateTo('s-certificado'));
                document.getElementById('share-btn').addEventListener('click', () => {
                     alert('Función para compartir: ¡Próximamente disponible! Por ahora, puedes guardar el reporte como PDF.');
                });
            }
        };

        // Cargar la API de YouTube de forma asíncrona
        const tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        const firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
        
        // La API de YouTube llamará a esta función cuando esté lista.
        window.onYouTubeIframeAPIReady = function() {
            app.init();
        }
        
        // Fallback si la API de YT tarda o falla
        setTimeout(() => {
            if (typeof YT === 'undefined' || typeof YT.Player === 'undefined') {
                console.warn("YouTube API no cargó, inicializando sin ella.");
                app.init();
            }
        }, 3000);

        // Hacer `app` global para poder usarla en los `onclick` del HTML
        window.app = app;
    });
    </script>

</body>
</html>
