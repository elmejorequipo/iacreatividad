<!DOCTYPE html>
<html lang="es-BO">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IA: Creatividad Aumentada o Amenazada</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="C√°psula educativa interactiva sobre el impacto de la Inteligencia Artificial en la creatividad humana. Explore debates, videos, quizzes y obtenga un certificado.">
    <meta name="keywords" content="IA, Inteligencia Artificial, Creatividad, Educaci√≥n, Tecnolog√≠a Educativa, Dise√±o Instruccional, UAGRM, Creatividad Aumentada">
    <meta name="author" content="Equipo de Desarrollo Educativo">

    <!-- Favicon SVG Embebido -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üß†</text></svg>">
    
    <!-- CDN para html2pdf.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    
    <!-- INICIO DEL CSS EMBEBIDO -->
    <style>
        /*------------------------------------*
         * #RA√çZ Y VARIABLES GLOBALES
         *------------------------------------*/
        :root {
            --color-primario: #005f73;
            --color-secundario: #0a9396;
            --color-fondo: #f0f8ff;
            --color-superficie: #ffffff;
            --color-texto: #0d1b2a;
            --color-texto-claro: #4a4a4a;
            --color-acento: #ee9b00;
            --color-exito: #4f7942;
            --color-error: #9b2226;
            --color-borde: #dee2e6;

            --sombra-suave: 0 4px 15px rgba(0, 95, 115, 0.1);
            --sombra-media: 0 8px 30px rgba(0, 95, 115, 0.15);
            --radio-borde: 12px;
            --transicion-suave: all 0.3s ease-in-out;
            --fuente-principal: 'Segoe UI', system-ui, -apple-system, BlinkMacSystemFont, 'Helvetica Neue', Arial, sans-serif;
            --fuente-titulos: 'Georgia', 'Times New Roman', serif;
        }

        /*------------------------------------*
         * #ESTILOS GENERALES Y ACCESIBILIDAD
         *------------------------------------*/
        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: var(--fuente-principal);
            background-color: var(--color-fondo);
            color: var(--color-texto);
            line-height: 1.7;
            font-size: 16px;
        }

        /* Estilos para modo de movimiento reducido */
        @media (prefers-reduced-motion: reduce) {
            html, body, *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
                scroll-behavior: auto !important;
            }
        }
        
        h1, h2, h3, h4 {
            font-family: var(--fuente-titulos);
            color: var(--color-primario);
            margin-bottom: 1rem;
            text-align: center;
        }

        p {
            margin-bottom: 1rem;
            text-align: justify;
        }
        
        a {
            color: var(--color-secundario);
            text-decoration: none;
            transition: var(--transicion-suave);
        }

        a:hover {
            text-decoration: underline;
            color: var(--color-acento);
        }

        main {
            max-width: 900px;
            margin: 2rem auto;
            padding: 2rem;
        }

        section {
            display: none; /* Se ocultan por defecto, JS las muestra */
            padding: 2.5rem;
            margin-bottom: 2rem;
            background-color: var(--color-superficie);
            border-radius: var(--radio-borde);
            box-shadow: var(--sombra-suave);
            animation: fadeIn 0.8s ease-in-out;
            border: 1px solid var(--color-borde);
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /*------------------------------------*
         * #COMPONENTES Y UTILIDADES
         *------------------------------------*/
        .btn {
            display: inline-block;
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            background-color: var(--color-secundario);
            color: white;
            font-weight: bold;
            font-size: 1rem;
            cursor: pointer;
            text-align: center;
            transition: var(--transicion-suave);
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .btn:hover:not(:disabled) {
            background-color: var(--color-primario);
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0,0,0,0.15);
        }
        .btn:disabled {
            background-color: #a0a0a0;
            cursor: not-allowed;
        }
        .btn-secundario {
            background-color: transparent;
            color: var(--color-secundario);
            border: 2px solid var(--color-secundario);
        }
        .btn-secundario:hover:not(:disabled) {
            background-color: var(--color-secundario);
            color: white;
        }

        .contenedor-central {
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1.5rem;
        }

        .glassmorphism {
            background: rgba(255, 255, 255, 0.4);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.1);
            border-radius: var(--radio-borde);
            padding: 2rem;
        }
        
        .input-group {
            margin-bottom: 1.5rem;
            width: 100%;
            max-width: 400px;
        }
        .input-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
            color: var(--color-texto);
        }
        .input-group input {
            width: 100%;
            padding: 12px;
            border-radius: 8px;
            border: 1px solid var(--color-borde);
            transition: var(--transicion-suave);
        }
        .input-group input:focus {
            outline: none;
            border-color: var(--color-secundario);
            box-shadow: 0 0 0 3px rgba(10, 147, 150, 0.2);
        }
        .input-group input.invalido {
            border-color: var(--color-error);
            background-color: #fff0f0;
        }
        .mensaje-error {
            color: var(--color-error);
            font-size: 0.875rem;
            margin-top: 0.25rem;
            display: none;
        }
        
        /*------------------------------------*
         * #ESTILOS DE SECCIONES ESPEC√çFICAS
         *------------------------------------*/
        #seccion-portada .svg-animado {
            width: 250px;
            height: 250px;
            margin: 1rem auto;
        }
        @keyframes rotate-gear {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        #gear1 {
            animation: rotate-gear 20s linear infinite;
            transform-origin: center;
        }
        #gear2 {
            animation: rotate-gear 15s linear infinite reverse;
            transform-origin: center;
        }

        /* Estilos Video-Quiz */
        #video-quiz-modal {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
            z-index: 2000;
            display: none;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        .video-quiz-contenido {
            background: var(--color-superficie);
            padding: 2rem;
            border-radius: var(--radio-borde);
            max-width: 600px;
            width: 100%;
            text-align: center;
        }
        .video-quiz-opciones button {
            display: block;
            width: 100%;
            margin: 0.5rem 0;
            background: #e9ecef;
            color: var(--color-texto);
        }
        .video-quiz-opciones button.seleccionado {
            background-color: var(--color-secundario);
            color: white;
        }
        #feedback-video-quiz {
            font-weight: bold;
            margin-top: 1rem;
        }
        .iframe-container {
            position: relative;
            width: 100%;
            padding-top: 56.25%; /* 16:9 Aspect Ratio */
            overflow: hidden;
            border-radius: var(--radio-borde);
            box-shadow: var(--sombra-suave);
        }
        .iframe-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 0;
        }

        /* Estilos Test Final */
        #opciones-test-final .opcion-test {
            display: block;
            width: 100%;
            margin: 0.5rem 0;
            padding: 1rem;
            background-color: #f8f9fa;
            border: 2px solid var(--color-borde);
            border-radius: 8px;
            cursor: pointer;
            text-align: left;
        }
        #opciones-test-final .opcion-test:hover {
            background-color: #e9ecef;
        }
        #opciones-test-final .opcion-test.seleccionado {
            border-color: var(--color-secundario);
            background-color: #e0f7fa;
        }
        #opciones-test-final .opcion-test.correcto {
            border-color: var(--color-exito);
            background-color: #f0fff0;
        }
        #opciones-test-final .opcion-test.incorrecto {
            border-color: var(--color-error);
            background-color: #fff0f0;
        }

        /* Estilos Definici√≥n Emergente (Modal) */
        .definicion {
            text-decoration: underline dotted var(--color-acento);
            cursor: pointer;
            font-weight: bold;
            color: var(--color-primario);
        }
        #definicion-modal {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            z-index: 3000;
            display: none;
            justify-content: center;
            align-items: center;
        }
        #definicion-contenido {
            background: var(--color-superficie);
            padding: 2.5rem;
            border-radius: var(--radio-borde);
            max-width: 500px;
            position: relative;
        }
        #cerrar-definicion {
            position: absolute;
            top: 15px;
            right: 15px;
            background: transparent;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
        }
        
        /* R√∫brica */
        .rubrica-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1.5rem;
        }
        .rubrica-table th, .rubrica-table td {
            border: 1px solid var(--color-borde);
            padding: 0.75rem;
            text-align: left;
        }
        .rubrica-table th {
            background-color: #e9ecef;
        }

        /*------------------------------------*
         * #ELEMENTOS TRANSVERSALES
         *------------------------------------*/
        /* Barra de Progreso */
        #progress-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 8px;
            background-color: #e0e0e0;
            z-index: 1000;
        }
        #progress-bar {
            height: 100%;
            width: 0;
            background-color: var(--color-secundario);
            transition: width 0.4s ease;
        }

        /* Men√∫ Flotante */
        #floating-menu {
            position: fixed;
            top: 50%;
            left: 10px;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(8px);
            border-radius: 20px;
            padding: 10px 5px;
            box-shadow: var(--sombra-suave);
            z-index: 999;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        .menu-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: #ccc;
            cursor: pointer;
            transition: var(--transicion-suave);
            position: relative;
        }
        .menu-dot:hover {
            transform: scale(1.2);
            background-color: var(--color-secundario);
        }
        .menu-dot.active {
            background-color: var(--color-primario);
            transform: scale(1.4);
        }
        .menu-dot .tooltiptext {
            visibility: hidden;
            width: 120px;
            background-color: var(--color-primario);
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 5px 0;
            position: absolute;
            z-index: 1;
            left: 150%;
            top: 50%;
            transform: translateY(-50%);
            opacity: 0;
            transition: opacity 0.3s;
        }
        .menu-dot:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
        
        /* Chatbot Flotante */
        #chatbot-button {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            background-color: var(--color-primario);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            box-shadow: var(--sombra-media);
            z-index: 998;
            transition: transform 0.3s ease;
        }
        #chatbot-button:hover {
            transform: scale(1.1);
        }
        #chatbot-button svg {
            width: 32px;
            height: 32px;
            fill: white;
        }
        
        #chatbot-popup {
            display: none;
            position: fixed;
            bottom: 90px;
            right: 20px;
            width: 90%;
            max-width: 400px;
            height: 600px;
            border-radius: var(--radio-borde);
            box-shadow: var(--sombra-media);
            overflow: hidden;
            z-index: 997;
            background: white;
            flex-direction: column;
        }
        #chatbot-header {
            background-color: var(--color-primario);
            color: white;
            padding: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        #cerrar-chatbot {
            background: none;
            border: none;
            color: white;
            font-size: 20px;
            cursor: pointer;
        }
        #chatbot-popup iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
        
        /* Botones de Navegaci√≥n */
        .navigation-buttons {
            margin-top: 2rem;
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        /* Estilos de Insignias */
        .badge-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            margin-top: 1rem;
        }
        .badge {
            text-align: center;
            opacity: 0.3;
            transition: var(--transicion-suave);
        }
        .badge.earned {
            opacity: 1;
            transform: scale(1.05);
        }
        .badge-icon {
            width: 80px;
            height: 80px;
        }
        .badge p {
            font-weight: bold;
            font-size: 0.9rem;
            margin-top: 0.5rem;
            color: var(--color-primario);
            text-align: center;
        }

        #badge-toast {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, var(--color-secundario), var(--color-acento));
            color: white;
            padding: 15px 30px;
            border-radius: 50px;
            z-index: 4000;
            box-shadow: var(--sombra-media);
            display: none;
            align-items: center;
            gap: 15px;
            animation: toast-in 0.5s ease-out;
        }
        @keyframes toast-in {
            from { transform: translate(-50%, 100px); opacity: 0; }
            to { transform: translate(-50%, 0); opacity: 1; }
        }
        #toast-icon { width: 30px; height: 30px; }
        #toast-text { font-weight: bold; }
        
        /* Reporte Final y Certificado */
        .report-section {
            border-bottom: 1px solid var(--color-borde);
            padding-bottom: 1rem;
            margin-bottom: 1rem;
        }

        #certificado-wrapper { display: none; }

        @media print {
            body {
                background-color: white;
            }
            #app-container, .seccion-final, #reporte-final-content, #certificado-preview {
                margin: 0;
                padding: 0;
                box-shadow: none;
                border: none;
            }
            main {
                max-width: 100%;
            }
            #reporte-final, #seccion-certificado, #reporte-final-content {
                display: block !important;
            }
            #certificado-preview {
                width: 100%;
                height: 100%;
            }
            .no-print {
                display: none !important;
            }
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            body { font-size: 15px; }
            main {
                margin: 1rem;
                padding: 1rem;
            }
            section {
                padding: 1.5rem;
            }
            #floating-menu {
                display: none;
            }
        }
    </style>
    <!-- FIN DEL CSS EMBEBIDO -->
</head>
<body>
    <div id="app-container">

        <!-- ===== ELEMENTOS TRANSVERSALES (UI) ===== -->
        <header id="progress-container" class="no-print">
            <div id="progress-bar"></div>
        </header>

        <nav id="floating-menu" class="no-print">
            <!-- Los puntos del men√∫ se generan con JS -->
        </nav>

        <div id="chatbot-button" class="no-print" title="Habla con un experto">
            <svg viewBox="0 0 24 24"><path d="M12,2A10,10,0,0,0,2,12C2,16.42,5.58,20,10,20C10.55,20,11,20.45,11,21C11,21.55,10.55,22,10,22A12,12,0,0,1,12,0A12,12,0,0,1,24,12C24,18.67,18,24,12,24V22A10,10,0,0,0,22,12A10,10,0,0,0,12,2M7.5,10.5A1.5,1.5,0,1,1,9,12A1.5,1.5,0,0,1,7.5,10.5M16.5,10.5A1.5,1.5,0,1,1,15,12A1.5,1.5,0,0,1,16.5,10.5M12,7A2,2,0,0,0,10,9A2,2,0,0,0,12,11A2,2,0,0,0,14,9A2,2,0,0,0,12,7Z"/></svg>
        </div>
        
        <div id="chatbot-popup" class="no-print">
            <div id="chatbot-header">
                <span>Asistente IA</span>
                <button id="cerrar-chatbot">&times;</button>
            </div>
            <iframe src="https://poe.com/Prof_Luis_Andia" title="Chatbot Asistente"></iframe>
        </div>

        <div id="definicion-modal" role="dialog" aria-modal="true" aria-labelledby="definicion-titulo">
            <div id="definicion-contenido">
                <button id="cerrar-definicion" aria-label="Cerrar">&times;</button>
                <h3 id="definicion-titulo"></h3>
                <p id="definicion-texto"></p>
            </div>
        </div>

        <div id="badge-toast" role="alert">
            <span id="toast-icon"></span>
            <span id="toast-text"></span>
        </div>

        <!-- ===== CONTENIDO PRINCIPAL Y SECCIONES PEDAG√ìGICAS ===== -->
        <main>

            <!-- ============================================== -->
            <!-- ======== 1. SECCI√ìN: FORMULARIO DE INGRESO ======= -->
            <!-- ============================================== -->
            <section id="seccion-ingreso">
                <div class="contenedor-central">
                    <!-- SVG Icon: User Profile -->
                    <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-user-check"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><polyline points="17 11 19 13 23 9"></polyline></svg>
                    <h1>¬°Te damos la bienvenida!</h1>
                    <p class="intro-text">Hola, futuro explorador de la creatividad. Est√°s a punto de iniciar una c√°psula educativa sobre el fascinante cruce entre <strong>Inteligencia Artificial y Creatividad</strong>. ¬°Prep√°rate para un viaje de descubrimiento!</p>
                    <p class="info-text" style="font-size: 0.9em; color: var(--color-texto-claro);">Para poder generar tu certificado de participaci√≥n al final del curso, por favor, ingresa tus datos. Prometemos no enviarte spam, ¬°a menos que sea spam de conocimiento!</p>
                    <form id="form-ingreso">
                        <div class="input-group">
                            <label for="nombre-completo">Nombre Completo</label>
                            <input type="text" id="nombre-completo" name="nombre" placeholder="Ej: Juana Azurduy de Padilla" required>
                            <div class="mensaje-error">El nombre es obligatorio.</div>
                        </div>
                        <div class="input-group">
                            <label for="email">Correo Electr√≥nico</label>
                            <input type="email" id="email" name="email" placeholder="Ej: tu.correo@dominio.com" required>
                            <div class="mensaje-error">Por favor, ingresa un correo v√°lido.</div>
                        </div>
                        <div class="input-group">
                            <label for="telefono">Tel√©fono (Opcional)</label>
                            <input type="tel" id="telefono" name="telefono" placeholder="Ej: 71234567">
                        </div>
                        <button type="submit" class="btn">Empezar la Aventura</button>
                    </form>
                </div>
            </section>
            
            <!-- ================================== -->
            <!-- ======== 2. SECCI√ìN: PORTADA ======== -->
            <!-- ================================== -->
            <section id="seccion-portada" style="text-align:center;">
                <h1 style="font-size: 2.5em; line-height: 1.2;">IA: Creatividad Aumentada o Amenaza</h1>
                 <svg class="svg-animado" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:var(--color-secundario);stop-opacity:1" />
                            <stop offset="100%" style="stop-color:var(--color-primario);stop-opacity:1" />
                        </linearGradient>
                    </defs>
                    <path fill="#e0f7fa" d="M38.2,-58.5C52.2,-52,68.1,-43,76.5,-30.2C84.9,-17.4,85.7,-0.7,80.1,13C74.6,26.7,62.7,37.3,50.7,46.2C38.7,55.1,26.6,62.3,13.7,66.6C0.8,70.8,-12.8,72.2,-25.9,68.4C-39.1,64.7,-51.7,55.9,-61.9,44.9C-72.1,33.9,-79.8,20.8,-80.7,6.8C-81.6,-7.1,-75.7,-21.9,-66.1,-32.8C-56.5,-43.7,-43.3,-50.7,-30.2,-56.9C-17.2,-63,-4.2,-68.3,8.7,-69.6C21.6,-70.9,44.2,-68.5,38.2,-58.5Z" transform="translate(100 100)" />
                    <g transform="translate(100, 100)">
                        <path id="gear1" d="M50,0 A50,50 0 0,1 -50,0 A50,50 0 0,1 50,0 M40,0 L-40,0 M0,40 L0,-40 M28.28,28.28 L-28.28,-28.28 M-28.28,28.28 L28.28,-28.28" fill="none" stroke="rgba(0, 95, 115, 0.5)" stroke-width="5"/>
                        <path id="gear2" d="M30,0 A30,30 0 0,1 -30,0 A30,30 0 0,1 30,0 M25,0 L-25,0 M0,25 L0,-25 M17.67,17.67 L-17.67,-17.67 M-17.67,17.67 L17.67,-17.67" fill="none" stroke="rgba(238, 155, 0, 0.7)" stroke-width="3"/>
                        <text x="0" y="5" font-size="20" fill="var(--color-primario)" text-anchor="middle" font-family="var(--fuente-titulos)" font-weight="bold">IA</text>
                    </g>
                </svg>
                <p>Explora c√≥mo la Inteligencia Artificial est√° remodelando los l√≠mites de la creatividad humana.</p>
                <button class="btn btn-next">¬°Comenzar ahora!</button>
                <div class="navigation-buttons">
                    <button class="btn btn-secundario btn-prev">Anterior</button>
                    <button class="btn btn-next">Siguiente</button>
                </div>
            </section>
            
            <!-- ======================================== -->
            <!-- ======== 3. SECCI√ìN: INTRODUCCI√ìN ======== -->
            <!-- ======================================== -->
            <section id="seccion-introduccion">
                <h2>Una nueva frontera para el conocimiento</h2>
                <div class="contenedor-central">
                    <svg width="80" height="80" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"><path d="M8.5 12.5L7 14l-1.5-1.5L7 11l1.5 1.5zM12.5 8.5L11 10l-1.5-1.5L11 7l1.5 1.5zM15.5 14.5L14 16l-1.5-1.5L14 13l1.5 1.5z"/><path d="M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2S2 6.477 2 12s4.477 10 10 10zM15 9.5a.5.5 0 1 0 0-1a.5.5 0 0 0 0 1zM9 15.5a.5.5 0 1 0 0-1a.5.5 0 0 0 0 1z"/></g></svg>
                </div>
                <h3>Objetivos de Aprendizaje:</h3>
                <p>Al finalizar esta c√°psula, como docente universitario, ser√°s capaz de:</p>
                <ul>
                    <li><strong>Analizar cr√≠ticamente</strong> el doble rol de la IA como herramienta potenciadora y como posible amenaza para la creatividad en el contexto acad√©mico.</li>
                    <li><strong>Diferenciar</strong> entre el trabajo estudiantil original que integra IA como apoyo y el plagio acad√©mico basado en IA.</li>
                    <li><strong>Dise√±ar consignas de evaluaci√≥n</strong> que fomenten una sinergia humano-IA, promoviendo la "creatividad aumentada".</li>
                    <li><strong>Aplicar estrategias pedag√≥gicas</strong> para guiar a los estudiantes en el uso √©tico y efectivo de herramientas de IA generativa.</li>
                </ul>

                <h3>Punto de Partida: Un Dilema muy Cruce√±o</h3>
                <p>Para encender el motor de la reflexi√≥n, te invitamos a leer este breve relato. Una situaci√≥n que podr√≠a estar ocurriendo ahora mismo en cualquier pasillo de nuestra universidad.</p>
                <div class="glassmorphism" style="font-style: italic; border-left: 5px solid var(--color-secundario); padding-left: 2rem;">
                    <h4>"El Informe Perfecto"</h4>
                    <p>La Dra. Elena Vargas, catedr√°tica de Sociolog√≠a en la U.A.G.R.M., sostiene con desconcierto un informe estudiantil. El tema: el impacto de los cortes de agua de SAGUAPAC, un problema que todo cruce√±o conoce de cerca. El informe es... impecable. Demasiado.</p>
                    <p>"¬°Mire esto, Dr. Mateo!", le dice a su colega de Comunicaci√≥n. "La redacci√≥n, el an√°lisis de datos, ¬°hasta los testimonios! Cita a una 'madre de familia' que habla como un economista y a un 'due√±o de pensi√≥n' que parece l√≠der sindical. ¬°Esto no es trabajo de campo, es una simulaci√≥n! ¬°Es una IA!"</p>
                    <p>Elena, defensora de la sociolog√≠a "con los pies en el barro", est√° a punto de anular el trabajo por fraude. Pero Mateo, curioso y al d√≠a con la tecnolog√≠a, le pide ver la consigna. Tras leerla, argumenta con respeto: "Doctora, la consigna ped√≠a analizar datos y dar ejemplos de testimonios... Describe perfectamente una tarea en la que una IA es experta. Quiz√°s el trabajo del estudiante no fue recoger los testimonios, sino construir los 'prompts', ense√±ar a la IA c√≥mo habla un vecino del D-8. Es una especie de... etnograf√≠a digital."</p>
                    <p>La palabra resuena. Elena mira el informe, ya no como un fraude, sino como un artefacto de un futuro que ha llegado sin avisar. "Entonces...", murmura, "si la forma de investigar est√° cambiando, nosotros tenemos que cambiar la forma en que la ense√±amos".</p>
                    <p>Mateo asiente. "Ese es el meollo del asunto. La pregunta no es si el alumno hizo la tarea. La pregunta es: frente a un estudiante que puede simular la realidad con IA, nuestra capacidad como docentes... <strong>¬øest√° aumentada o est√° amenazada?</strong>"</p>
                </div>
                
                <div class="navigation-buttons">
                    <button class="btn btn-secundario btn-prev">Anterior</button>
                    <button class="btn btn-next">Siguiente</button>
                </div>
            </section>
            
            <!-- ======================================= -->
            <!-- ======== 4. SECCI√ìN: ACTIVACI√ìN ========= -->
            <!-- ======================================= -->
            <section id="seccion-activacion">
                <h2>Activando Conocimientos Previos</h2>
                <div class="contenedor-central">
                    <!-- SVG Icon: Game Controller -->
                    <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"></path><path d="M14 4h2v2h-2zM12 21a9 9 0 0 0 9-9h-2a7 7 0 0 1-7 7v2zM6.343 6.343l1.414 1.414A5 5 0 0 0 5 12H3a7 7 0 0 1 3.343-5.657zM17.657 17.657l-1.414-1.414A5 5 0 0 0 19 12h2a7 7 0 0 1-3.343 5.657z"></path><path d="M12 8a4 4 0 1 1 0 8 4 4 0 0 1 0-8z"></path><path d="M12 10a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"></path></svg>
                </div>
                <p>Antes de sumergirnos en el contenido, vamos a calentar las neuronas. El siguiente juego te ayudar√° a conectar lo que ya sabes o intuyes sobre la IA y la creatividad.</p>
                <p><strong>Instrucciones:</strong> Haz clic en una tarjeta y luego en otra para encontrar las parejas de conceptos relacionados. ¬°No hay l√≠mite de tiempo, el objetivo es explorar!</p>
                <div class="iframe-container">
                    <iframe allow="fullscreen; autoplay; allow-top-navigation-by-user-activation" allowfullscreen width="795" height="690" frameborder="0" src="https://es.educaplay.com/juego/24152723-juego_de_parejas_ia_y_creatividad.html" title="Juego Educaplay: Parejas IA y Creatividad"></iframe>
                </div>
                <div class="navigation-buttons">
                    <button class="btn btn-secundario btn-prev">Anterior</button>
                    <button class="btn btn-next">Siguiente</button>
                </div>
            </section>
            
            <!-- ============================================= -->
            <!-- ======== 5. SECCI√ìN: DESARROLLO PR√ÅCTICO ======== -->
            <!-- ============================================= -->
            <section id="seccion-desarrollo-practico">
                <h2>Conectando con la Realidad: Video y Reflexi√≥n</h2>
                <p>Ahora que hemos activado nuestras ideas, es momento de conectar con experiencias y problemas reales. Reflexiona sobre estas preguntas mientras te preparas para ver un video clave:</p>
                <ul>
                    <li>¬øEn qu√© momento una herramienta tecnol√≥gica deja de ser un apoyo y se convierte en un reemplazo de una habilidad fundamental? Piensa en calculadoras, correctores ortogr√°ficos, GPS...</li>
                    <li>Si un estudiante te presentara una obra de arte, un ensayo o un proyecto creado con IA, ¬øqu√© criterios usar√≠as para evaluarlo? ¬øEvaluar√≠as el resultado final, el proceso de creaci√≥n, la originalidad del "prompt"?</li>
                </ul>
                
                <hr style="margin: 2rem 0; border: 0; border-top: 1px solid var(--color-borde);">
                
                <h3>Creatividad artificial ¬øayuda o amenaza?</h3>
                <p>Ahora, te invitamos a ver la charla TEDx de Juli√°n Larrauri. Mientras lo haces, el video se detendr√° en <strong>4 momentos clave</strong> para que respondas a una pregunta. No podr√°s continuar hasta responder correctamente. ¬°Presta mucha atenci√≥n! Esto te prepara para una comprensi√≥n m√°s profunda del tema.</p>
                <div class="iframe-container">
                    <iframe id="video-principal" width="560" height="315" src="https://www.youtube.com/embed/EtU-NyNH4Qg?si=w0iLCPq-yKx3zSJW&enablejsapi=1" title="youtube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                </div>
                
                <!-- Modal para el Video-Quiz -->
                <div id="video-quiz-modal" role="dialog">
                    <div class="video-quiz-contenido">
                        <h3 id="pregunta-video-quiz"></h3>
                        <div id="opciones-video-quiz" class="video-quiz-opciones"></div>
                        <p id="feedback-video-quiz"></p>
                    </div>
                </div>

                <h3>Insignia "Inquisidor Digital"</h3>
                <div class="badge-container">
                    <div class="badge" id="badge-explorador">
                        <div class="badge-icon" id="badge-explorador-icon-placeholder">
                            <!-- SVG Placeholder -->
                            <svg viewBox="0 0 100 100"><rect width="100" height="100" fill="#ddd"/><text x="50" y="50" text-anchor="middle" dominant-baseline="central" font-size="12">Explorador</text></svg>
                        </div>
                        <p>Inquisidor Digital</p>
                    </div>
                </div>
                <p>Al completar esta secci√≥n, obtendr√°s tu primera insignia.</p>
                
                <div class="navigation-buttons">
                    <button class="btn btn-secundario btn-prev">Anterior</button>
                    <button class="btn btn-next">Siguiente</button>
                </div>
            </section>

            <!-- ==================================================== -->
            <!-- ======== 6. SECCI√ìN: DESARROLLO TE√ìRICO Y CONCEPTUAL ======== -->
            <!-- ==================================================== -->
            <section id="seccion-desarrollo-teorico">
                <h2>Profundizando: Teor√≠a y Conceptos Clave</h2>
                 <p>Tras la reflexi√≥n inicial y el an√°lisis del video, es momento de construir un andamiaje te√≥rico s√≥lido. En esta secci√≥n, desglosaremos los conceptos fundamentales que subyacen al debate sobre IA y creatividad.</p>

                <div class="contenedor-central" style="margin-bottom:2rem;">
                     <!-- SVG Icon: Book Open -->
                     <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path></svg>
                </div>

                <!-- SUBTEMA 1 -->
                <h3>1. Introducci√≥n: La Convergencia de IA y Creatividad Humana</h3>
                <p>La convergencia de la Inteligencia Artificial (IA) y la creatividad humana representa uno de los desarrollos m√°s transformadores de nuestra era. Hist√≥ricamente, la creatividad ha sido considerada un basti√≥n exclusivamente humano, una manifestaci√≥n de la cognici√≥n, la emoci√≥n y la experiencia que parec√≠a inalcanzable para las m√°quinas. Sin embargo, los avances en IA generativa est√°n desafiando esta noci√≥n, presentando a la IA no solo como una herramienta, sino como un potencial colaborador creativo. Esta intersecci√≥n nos obliga, como educadores, a reevaluar qu√© significa ser creativo y c√≥mo podemos ense√±ar y fomentar esta habilidad en un mundo tecnol√≥gicamente aumentado.</p>
                
                <h4>Preguntas de Comprensi√≥n:</h4>
                <ol>
                    <li>¬øPor qu√© se consideraba la creatividad una habilidad exclusivamente humana?</li>
                    <li>¬øQu√© cambio fundamental introducen las IA generativas en este panorama?</li>
                    <li>¬øCu√°l es el principal desaf√≠o que esta convergencia plantea a los educadores?</li>
                </ol>
                <h4>Pregunta de Aplicaci√≥n:</h4>
                <p>Piensa en tu propia disciplina. ¬øQu√© tarea creativa espec√≠fica, que antes considerabas puramente humana, podr√≠a ahora ser asistida o incluso replicada por una IA? Describe el antes y el despu√©s.</p>

                <!-- SUBTEMA 2 -->
                <hr style="margin: 2rem 0; border: 0; border-top: 1px solid var(--color-borde);">
                <h3>2. Desentra√±ando la Creatividad Humana: Una Perspectiva Multidimensional</h3>
                <p>Para entender el impacto de la IA, primero debemos entender la creatividad. No es un acto √∫nico de genialidad, sino un proceso complejo. El modelo de las "4 P" de Mel Rhodes (1961) sigue siendo un marco √∫til:</p>
                <ul>
                    <li><strong>Persona:</strong> Rasgos de personalidad, habilidades cognitivas y motivaciones del individuo creativo.</li>
                    <li><strong>Proceso:</strong> Las etapas por las que pasa una persona al crear (preparaci√≥n, incubaci√≥n, iluminaci√≥n, verificaci√≥n).</li>
                    <li><strong>Producto:</strong> El resultado tangible o intangible del proceso creativo, evaluado por su novedad y utilidad.</li>
                    <li><strong>Presi√≥n (o Entorno):</strong> El contexto social, cultural y f√≠sico que puede inhibir o fomentar la creatividad.</li>
                </ul>
                <p>La IA impacta principalmente en el <strong>Proceso</strong> y el <strong>Producto</strong>, pero, indirectamente, tambi√©n puede alterar a la <strong>Persona</strong> (cambiando las habilidades que valoramos) y a la <strong>Presi√≥n</strong> (modificando las expectativas de nuestro entorno profesional y acad√©mico). El riesgo, como se√±alaba el ponente del video, es que si nos apoyamos demasiado en la IA para la fase de "transpiraci√≥n", podemos perder el <span class="definicion" data-term="Criterio">Criterio</span> que se forja a trav√©s de la pr√°ctica deliberada.</p>
                 <small>Fuente: Rhodes, M. (1961). An analysis of creativity. <em>The Phi Delta Kappan, 42</em>(7), 305‚Äì310. <a href="https://www.jstor.org/stable/20342603" target="_blank" rel="noopener noreferrer">Disponible en JSTOR</a>.</small>

                <h4>Preguntas de Comprensi√≥n:</h4>
                <ol>
                    <li>Describe brevemente las "4 P" de la creatividad.</li>
                    <li>¬øEn qu√© √°reas de las "4 P" la IA tiene un impacto m√°s directo?</li>
                    <li>Seg√∫n el texto, ¬øcu√°l es el riesgo de depender de la IA para el "trabajo duro" del proceso creativo?</li>
                </ol>
                <h4>Pregunta de Aplicaci√≥n:</h4>
                <p>Recuerda el caso de la Dra. Vargas y el "informe perfecto". ¬øC√≥mo se relacionan las "4 P" de la creatividad con el dilema que ella enfrenta al evaluar el trabajo de su estudiante?</p>

                 <!-- SUBTEMA ... y as√≠ sucesivamente para el resto del contenido -->

                <hr style="margin: 2rem 0; border: 0; border-top: 1px solid var(--color-borde);">
                <h3>3. La IA como Herramienta y Colaborador Creativo</h3>
                <p>
                    El rol de la IA en la creatividad no es monol√≠tico; se puede entender en un espectro. En un extremo, la IA es una <strong>herramienta inteligente</strong> que acelera procesos: un generador de im√°genes como Midjourney para un dise√±ador gr√°fico, o una herramienta de resumen de texto para un investigador. Aqu√≠, la visi√≥n y la intenci√≥n son puramente humanas.
                    En el otro extremo, la IA act√∫a como un <strong>colaborador creativo</strong>. Propone ideas inesperadas, genera variaciones que el humano no habr√≠a considerado, o combina estilos de formas novedosas. Este es el √°mbito de la <span class="definicion" data-term="Creatividad Computacional">Creatividad Computacional</span>.
                </p>
                <p>
                    <em>Caso Real:</em> El proyecto "The Next Rembrandt" utiliz√≥ IA para analizar cientos de pinturas de Rembrandt y luego generar una nueva obra "a su estilo". El sistema analiz√≥ datos (geometr√≠a, composici√≥n, materiales) y gener√≥ un producto. Sin embargo, la <strong>visi√≥n</strong>, la pregunta inicial ("¬øPodemos pintar como Rembrandt con IA?") y el <span class="definicion" data-term="Criterio">Criterio</span> para seleccionar el resultado final fueron humanos. Esto demuestra una colaboraci√≥n, no un reemplazo.
                </p>
                 <small>Fuente: The Next Rembrandt. (2016). <em>Project Website.</em> <a href="https://www.nextrembrandt.com/" target="_blank" rel="noopener noreferrer">Ver Proyecto</a>.</small>

                <h4>Preguntas de Comprensi√≥n:</h4>
                <ol>
                    <li>¬øCu√°l es la diferencia entre la IA como herramienta y como colaborador?</li>
                    <li>En el ejemplo "The Next Rembrandt", ¬øqu√© parte del proceso fue humana y qu√© parte fue de la IA?</li>
                    <li>¬øQu√© significa el concepto de "Creatividad Computacional"?</li>
                </ol>
                <h4>Pregunta de Aplicaci√≥n:</h4>
                <p>Dise√±a una peque√±a actividad para tu materia donde los estudiantes deban usar una IA (ej. ChatGPT, Poe, Copilot) como colaborador creativo y no solo como una herramienta de b√∫squeda. ¬øQu√© instrucciones dar√≠as?</p>


                 <hr style="margin: 2rem 0; border: 0; border-top: 1px solid var(--color-borde);">

                <h3>¬øQuieres ir m√°s all√°?</h3>
                <p>Hemos preparado dos recursos externos para que sigas explorando este fascinante universo. Son el complemento perfecto para consolidar lo aprendido.</p>

                <div style="display: flex; justify-content: space-around; flex-wrap: wrap; gap: 20px; margin-top: 2rem;">
                    <a href="https://docs.google.com/document/d/e/2PACX-1vTKCs8TE4JK9z4RJsUSHyglDtFN6EJGQMO-maFNEd3yC6D3MZnHPKZFjSlXOs_rYMabKrhiislgMU1y/pub" target="_blank" class="btn">
                         <!-- SVG Google Docs Icon -->
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="white" style="vertical-align: middle; margin-right: 8px;"><path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M13.5,16H18V18H13.5V16M13.5,12H18V14H13.5V12M6,20V4H13V9H18V20H6Z"/></svg>
                        Deep Research (Gemini)
                    </a>
                    <a href="https://notebooklm.google.com/notebook/c4d90a4e-4c2b-4526-9b60-93548a358137" target="_blank" class="btn btn-secundario">
                         <!-- SVG NotebookLM Icon -->
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" style="vertical-align: middle; margin-right: 8px;"><path d="M7,15l5-5l5,5H7z" transform="rotate(90 12 12)" /></svg>
                        Cuaderno NotebookLM
                    </a>
                </div>

                <h3>Insignia "Arquitecto de Conceptos"</h3>
                <div class="badge-container">
                    <div class="badge" id="badge-teorico">
                        <div class="badge-icon" id="badge-teorico-icon-placeholder">
                           <svg viewBox="0 0 100 100"><rect width="100" height="100" fill="#ddd"/><text x="50" y="50" text-anchor="middle" dominant-baseline="central" font-size="12">Arquitecto</text></svg>
                        </div>
                        <p>Arquitecto de Conceptos</p>
                    </div>
                </div>


                <div class="navigation-buttons">
                    <button class="btn btn-secundario btn-prev">Anterior</button>
                    <button class="btn btn-next">Siguiente</button>
                </div>
            </section>
            
            <!-- ============================================== -->
            <!-- ======== 7. SECCI√ìN: EVALUACI√ìN FORMATIVA ======== -->
            <!-- ============================================== -->
            <section id="seccion-evaluacion-formativa">
                <h2>Poniendo a Prueba el Aprendizaje</h2>
                 <p>Has recorrido un camino conceptual importante. Ahora es un buen momento para una autoevaluaci√≥n l√∫dica y sin presiones. Esto te ayudar√° a solidificar lo aprendido y a identificar √°reas que quiz√°s necesites repasar.</p>
                <h3>Reflexi√≥n previa al juego:</h3>
                <ul>
                    <li>Piensa en la discusi√≥n de Elena y Mateo. Si estuvieras en su lugar, ¬øc√≥mo redise√±ar√≠as la consigna del "informe sobre SAGUAPAC" para evaluar de manera justa y fomentar la creatividad aumentada?</li>
                    <li>¬øTe sientes m√°s optimista o m√°s preocupado sobre el futuro de la creatividad en la educaci√≥n despu√©s de lo que has aprendido? ¬øPor qu√©?</li>
                </ul>
                <p>Ahora, ¬°a jugar! Demuestra lo que has aprendido en este Quizizz.</p>
                <div class="iframe-container" style="min-height: 650px;">
                    <div style="width:100%;display:flex;flex-direction:column;gap:8px;min-height:635px;"><iframe src="https://quizizz.com/embed/quiz/6840b44b5c4298f8f5bd9c0b" title="quiz sobre ia y creatividad - quizizz" style="flex:1;" frameborder="0" allowfullscreen></iframe></div>
                </div>

                <h3>Insignia "Catalizador de Ideas"</h3>
                <div class="badge-container">
                    <div class="badge" id="badge-formativo">
                        <div class="badge-icon" id="badge-formativo-icon-placeholder">
                             <svg viewBox="0 0 100 100"><rect width="100" height="100" fill="#ddd"/><text x="50" y="50" text-anchor="middle" dominant-baseline="central" font-size="12">Catalizador</text></svg>
                        </div>
                        <p>Catalizador de Ideas</p>
                    </div>
                </div>
                
                <div class="navigation-buttons">
                    <button class="btn btn-secundario btn-prev">Anterior</button>
                    <button class="btn btn-next">Siguiente</button>
                </div>
            </section>
            
            <!-- ==================================== -->
            <!-- ======== 8. SECCI√ìN: EVALUACI√ìN ======== -->
            <!-- ==================================== -->
            <section id="seccion-evaluacion">
                <h2>Evaluaci√≥n Final: Demuestra tu Dominio</h2>
                <div class="contenedor-central">
                    <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg>
                </div>
                <p>¬°Has llegado a la prueba final, <span class="nombre-usuario">participante</span>! Este es el momento de consolidar todo tu aprendizaje. A continuaci√≥n, encontrar√°s un test de 6 preguntas que abarca todos los temas de la c√°psula.</p>
                <div class="glassmorphism" style="text-align:center;">
                    <p><strong>Reglas del juego:</strong></p>
                    <ul>
                        <li><strong>Tiempo L√≠mite:</strong> <span id="tiempo-restante">30:00</span> minutos.</li>
                        <li><strong>Porcentaje de Aprobaci√≥n:</strong> 70% (necesitas al menos 4 respuestas correctas).</li>
                        <li><strong>Intentos:</strong> Tienes <span id="intentos-restantes">3</span> intentos.</li>
                    </ul>
                </div>
                
                <div id="test-container" style="margin-top: 2rem;">
                    <div id="pregunta-test-actual"></div>
                    <div id="opciones-test-final"></div>
                    <button id="btn-evaluar-respuesta" class="btn" style="margin-top:1rem;">Evaluar Respuesta</button>
                    <p id="feedback-test" style="margin-top:1rem; font-weight:bold;"></p>
                </div>

                 <div id="resultado-test" style="display:none; text-align:center;">
                    <h3 id="resultado-titulo"></h3>
                    <p id="resultado-texto"></p>
                    <button id="btn-reintentar-test" class="btn" style="display:none;">Intentar de Nuevo</button>
                 </div>
                
                <div class="navigation-buttons">
                    <button class="btn btn-secundario btn-prev">Anterior</button>
                    <button class="btn btn-next" disabled>Siguiente (Completa el test)</button>
                </div>
            </section>
            
            <!-- ================================== -->
            <!-- ======== 9. SECCI√ìN: S√çNTESIS ======== -->
            <!-- ================================== -->
            <section id="seccion-sintesis">
                <h2>S√≠ntesis: Las Grandes Ideas</h2>
                <p>Repasemos los puntos m√°s importantes de nuestro viaje:</p>
                <ol>
                    <li><strong>La IA es un Colaborador, no un Or√°culo:</strong> La verdadera sinergia emerge cuando usamos la IA para potenciar nuestro proceso creativo (generando ideas, explorando variaciones), no para reemplazar nuestro juicio o visi√≥n.</li>
                    <li><strong>El Criterio es el Nuevo Superpoder:</strong> En un mundo inundado de contenido generado por IA, la habilidad m√°s valiosa es el criterio humano: la capacidad de seleccionar, refinar y dar sentido, una habilidad forjada a trav√©s de la pr√°ctica y la "transpiraci√≥n".</li>
                    <li><strong>La Educaci√≥n debe Adaptar sus Consignas:</strong> No podemos seguir evaluando como si la IA no existiera. Nuestro rol como educadores es dise√±ar tareas que exijan pensamiento cr√≠tico, <span class="definicion" data-term="Etnograf√≠a Digital">Etnograf√≠a Digital</span>, y la defensa de la metodolog√≠a, transformando la evaluaci√≥n en una oportunidad de aprendizaje meta-cognitivo.</li>
                </ol>

                <div class="contenedor-central" style="margin-top: 2rem; margin-bottom: 2rem; gap: 2rem;">
                    <a href="https://elmejorequipo.github.io/iacreatividad/infografia.html" target="_blank" class="btn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="white" style="vertical-align: middle; margin-right: 8px;"><path d="M12,2A9,9 0 0,0 3,11V22L6,19L9,22L12,19L15,22L18,19L21,22V11A9,9 0 0,0 12,2M12,11.5A2.5,2.5 0 0,1 9.5,9A2.5,2.5 0 0,1 12,6.5A2.5,2.5 0 0,1 14.5,9A2.5,2.5 0 0,1 12,11.5Z"/></svg>
                        Ver Infograf√≠a Resumen
                    </a>
                </div>
                
                <h3>Para el Viaje a Casa: Un Podcast</h3>
                <p>Si prefieres escuchar, aqu√≠ tienes una reflexi√≥n en audio sobre el tema. ¬°Perfecto para ponerte los aud√≠fonos y seguir meditando sobre estas ideas!</p>
                <div class="iframe-container" style="padding-top: unset; height: auto;">
                    <iframe width="100%" height="300" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/2107792848&color=%230066cc&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true&visual=true" title="Podcast sobre creatividad e IA"></iframe>
                </div>

                <div class="navigation-buttons">
                    <button class="btn btn-secundario btn-prev">Anterior</button>
                    <button class="btn btn-next">Siguiente</button>
                </div>
            </section>
            
             <!-- ================================================== -->
            <!-- ======== 10. SECCI√ìN: CIERRE Y METACOGNICI√ìN ======== -->
            <!-- ================================================== -->
            <section id="seccion-cierre">
                <h2>Cierre: Mirando Hacia Adentro y Hacia Adelante</h2>
                <p>¬°Felicidades, <span class="nombre-usuario">explorador/a</span>! Has completado el recorrido. La √∫ltima parada no es un examen, sino una oportunidad para la reflexi√≥n personal. Tus respuestas nos ayudan a entender el impacto de esta experiencia.</p>
                <form id="form-metacognicion">
                    <div class="input-group">
                        <label for="reflexion1"><strong>1. Aplicaci√≥n Pr√°ctica:</strong> ¬øCu√°l es el cambio m√°s inmediato y concreto que planeas implementar en tu pr√°ctica docente despu√©s de esta c√°psula?</label>
                        <textarea id="reflexion1" rows="4" class="input-metacognicion" placeholder="Ej: Redise√±ar√© la consigna del ensayo final para que incluya..."></textarea>
                    </div>
                    <div class="input-group">
                        <label for="reflexion2"><strong>2. Cambio de Perspectiva:</strong> ¬øCu√°l fue la idea m√°s "disruptiva" o que m√°s desafi√≥ tu pensamiento previo sobre la IA en la educaci√≥n?</label>
                        <textarea id="reflexion2" rows="4" class="input-metacognicion" placeholder="Ej: Me impact√≥ la idea de la 'etnograf√≠a digital' como..."></textarea>
                    </div>
                    <div class="input-group">
                        <label for="reflexion3"><strong>3. Pr√≥ximos Pasos:</strong> ¬øQu√© pregunta o √°rea de inter√©s te gustar√≠a explorar m√°s a fondo a partir de ahora?</label>
                        <textarea id="reflexion3" rows="4" class="input-metacognicion" placeholder="Ej: Quiero investigar m√°s sobre herramientas de IA espec√≠ficas para mi campo, como..."></textarea>
                    </div>
                </form>

                <button id="btn-guardar-cierre" class="btn">Guardar Reflexiones y ver Reporte Final</button>

                <hr style="margin: 2rem 0; border: 0; border-top: 1px solid var(--color-borde);">
                
                <h3>R√∫brica de Autoevaluaci√≥n para Respuestas</h3>
                <p>Usa esta r√∫brica para autoevaluar la profundidad de tus propias reflexiones. Est√° alineada con el nivel "Crear" de la Taxonom√≠a de Bloom.</p>
                <div class="rubrica-table-container" style="overflow-x: auto;">
                    <table class="rubrica-table">
                        <thead>
                            <tr>
                                <th>Criterio</th>
                                <th>En Desarrollo</th>
                                <th>Desarrollo Aceptable</th>
                                <th>Desarrollo √ìptimo</th>
                                <th>Desarrollo Pleno (Crear)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Conexi√≥n Pr√°ctica</strong></td>
                                <td>Menciona una idea general, sin un plan concreto.</td>
                                <td>Describe un cambio posible pero poco detallado.</td>
                                <td>Detalla un cambio espec√≠fico y aplicable en su contexto.</td>
                                <td><strong>Propone un nuevo enfoque o redise√±o completo</strong> de una actividad, justificando su innovaci√≥n.</td>
                            </tr>
                            <tr>
                                <td><strong>Profundidad de la Reflexi√≥n</strong></td>
                                <td>Repite ideas de la c√°psula.</td>
                                <td>Compara una idea nueva con sus pensamientos previos.</td>
                                <td>Analiza c√≥mo una idea nueva cambia su marco de pensamiento.</td>
                                <td><strong>Sintetiza m√∫ltiples ideas</strong> para formular una perspectiva personal nueva y coherente sobre su rol docente.</td>
                            </tr>
                             <tr>
                                <td><strong>Planificaci√≥n Futura</strong></td>
                                <td>Indica un inter√©s vago.</td>
                                <td>Identifica un tema a investigar.</td>
                                <td>Formula una pregunta de investigaci√≥n clara.</td>
                                <td><strong>Esboza un plan o proyecto personal</strong> para explorar la pregunta, integrando el conocimiento adquirido.</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="navigation-buttons">
                    <button class="btn btn-secundario btn-prev">Anterior</button>
                </div>
            </section>
            
             <!-- ============================================== -->
            <!-- ======== 11. SECCI√ìN: REPORTE Y CERTIFICADO ======== -->
            <!-- ============================================== -->
            <section id="seccion-final">
                <div id="reporte-final-content" class="seccion-final">
                    <div class="contenedor-central">
                        <h2>¬°Misi√≥n Cumplida, <span class="nombre-usuario">Innovador/a</span>!</h2>
                        <p>Has navegado con √©xito las complejidades de la IA y la creatividad. Aqu√≠ tienes un resumen de tu extraordinario viaje.</p>
                    </div>

                    <div class="report-section">
                        <h3>Tu Desempe√±o</h3>
                        <p><strong>Puntuaci√≥n Final:</strong> <span id="reporte-puntuacion">N/A</span>%</p>
                        <p><strong>Tiempo Total en Test:</strong> <span id="reporte-tiempo">N/A</span></p>
                        <p><strong>Insignias Desbloqueadas:</strong></p>
                        <div id="reporte-insignias" class="badge-container">
                            <!-- Insignias se llenan con JS -->
                        </div>
                    </div>
                     <div class="report-section">
                        <h3>Tus Reflexiones</h3>
                        <div id="reporte-reflexiones">
                            <!-- Reflexiones se llenan con JS -->
                        </div>
                    </div>

                    <div class="contenedor-central" style="margin-top: 2rem; gap: 1rem;">
                        <button onclick="window.print()" class="btn">Guardar Reporte como PDF</button>
                        <button id="btn-ver-certificado" class="btn" disabled>Generar Certificado</button>
                        <button id="btn-reiniciar-curso" class="btn btn-secundario">Reiniciar Curso</button>
                    </div>
                </div>

                <div id="certificado-wrapper" class="seccion-final">
                     <h2 style="text-align:center;">Tu Certificado de Participaci√≥n</h2>
                     <p style="text-align:center;">¬°Felicidades por tu logro! Haz clic en el bot√≥n de abajo para descargar tu certificado en formato PDF.</p>
                     <!-- Previsualizaci√≥n del certificado -->
                     <div id="certificado-preview" style="width: 100%; max-width: 800px; margin: 20px auto; border: 1px solid #ccc; padding: 20px; aspect-ratio: 8.5/11;">
                        <!-- Contenido del certificado se genera con JS -->
                     </div>
                     <div class="contenedor-central">
                        <button id="btn-descargar-pdf" class="btn">Descargar PDF</button>
                     </div>
                </div>
                 <!-- Elemento para generar el PDF (no visible, solo para la librer√≠a) -->
                 <div id="certificado-html-source" style="display: none; position: absolute; left: -9999px; width:816px; height:1056px;"></div>

                 <div class="navigation-buttons">
                    <button class="btn btn-secundario btn-prev">Anterior</o>
                 </div>
            </section>
        
        </main>
        
        <footer class="no-print" style="text-align: center; padding: 2rem; color: var(--color-texto-claro);">
            <p>Una c√°psula educativa dise√±ada por el Equipo de Desarrollo Creativo.</p>
            <button id="btn-borrar-datos" style="font-size: 0.8em; background:none; border:none; color:var(--color-secundario); cursor:pointer;">Borrar mis datos y reiniciar</button>
        </footer>
    </div>
    
    <!-- INICIO DEL JAVASCRIPT EMBEBIDO -->
    <script>
    document.addEventListener('DOMContentLoaded', () => {

        // ===========================================
        // #1. DEFINICI√ìN DE VARIABLES Y ESTADO GLOBAL
        // ===========================================
        const secciones = document.querySelectorAll('main > section');
        const progressBar = document.getElementById('progress-bar');
        const floatingMenu = document.getElementById('floating-menu');

        let estadoUsuario = {
            nombre: '',
            email: '',
            telefono: '',
            seccionActual: 'seccion-ingreso',
            progreso: 0,
            testFinal: {
                puntuacion: null,
                intentos: 3,
                tiempo: 0,
                completado: false,
                aprobado: false,
            },
            insignias: [],
            respuestasMetacognitivas: {}
        };
        
        const SECCIONES_DATA = [
            { id: 'seccion-ingreso', nombre: 'Ingreso' },
            { id: 'seccion-portada', nombre: 'Portada' },
            { id: 'seccion-introduccion', nombre: 'Introducci√≥n' },
            { id: 'seccion-activacion', nombre: 'Activaci√≥n' },
            { id: 'seccion-desarrollo-practico', nombre: 'Pr√°ctica' },
            { id: 'seccion-desarrollo-teorico', nombre: 'Teor√≠a' },
            { id: 'seccion-evaluacion-formativa', nombre: 'Formativa' },
            { id: 'seccion-evaluacion', nombre: 'Evaluaci√≥n' },
            { id: 'seccion-sintesis', nombre: 'S√≠ntesis' },
            { id: 'seccion-cierre', nombre: 'Cierre' },
            { id: 'seccion-final', nombre: 'Reporte' }
        ];

        const TOTAL_SECCIONES_PROGRESO = SECCIONES_DATA.length;
        
        const videoQuizData = [
            {
                tiempo: 59, // ~00:59
                pregunta: 'Seg√∫n el ponente, un estudiante le pregunt√≥ si ten√≠a sentido seguir aprendiendo a dibujar debido a la IA. ¬øQu√© emoci√≥n transmit√≠a el estudiante?',
                opciones: ['Entusiasmo y curiosidad', 'Pesadumbre y falta de ilusi√≥n', 'Enojo y frustraci√≥n', 'Indiferencia total'],
                correcta: 1
            },
            {
                tiempo: 169, // ~02:49
                pregunta: 'El ponente cita a Picasso, quien dec√≠a: "Los ordenadores son in√∫tiles, solo pueden darnos respuestas". ¬øQu√© quiere destacar Picasso con esta frase?',
                opciones: ['La inutilidad de la tecnolog√≠a', 'La superioridad de las respuestas sobre las preguntas', 'La importancia fundamental de hacerse las preguntas correctas', 'Que las respuestas son la clave de la creatividad'],
                correcta: 2
            },
            {
                tiempo: 359, // ~05:59
                pregunta: '¬øQu√© consecuencia positiva tuvo la invenci√≥n de la fotograf√≠a para la pintura, seg√∫n el ponente?',
                opciones: [
                    'Hizo que la pintura se volviera obsoleta.', 
                    'Liber√≥ a la pintura de la obligaci√≥n de copiar la realidad, permitiendo nuevos movimientos art√≠sticos.',
                    'Confirm√≥ que la pintura era superior a la fotograf√≠a.', 
                    'No tuvo ninguna consecuencia relevante.'
                ],
                correcta: 1
            },
            {
                tiempo: 588, // ~09:48
                pregunta: 'El ponente menciona tres cosas que los humanos aportan y las m√°quinas no. ¬øCu√°l de las siguientes NO es una de ellas?',
                opciones: ['Originalidad', 'Destreza y criterio', 'Velocidad y cantidad de datos', 'Visi√≥n y objetivo final'],
                correcta: 2
            }
        ];
        
        let videoQuizState = {
            preguntaActual: -1,
            relojVideo: null
        };
        
        const testFinalData = [
             {
                pregunta: 'En la historia "El Informe Perfecto", ¬øcu√°l es el concepto clave que introduce el Dr. Mateo para reinterpretar el trabajo del estudiante?',
                opciones: ['Plagio digital', 'Creatividad Aumentada', 'Etnograf√≠a Digital', 'Fraude Acad√©mico'],
                correcta: 'Etnograf√≠a Digital'
            },
            {
                pregunta: 'Seg√∫n el ponente del video TEDx, ¬øcu√°l es la habilidad humana que se desarrolla con horas de pr√°ctica y permite diferenciar entre las m√∫ltiples respuestas que da una IA?',
                opciones: ['La inspiraci√≥n', 'El criterio', 'La originalidad', 'La velocidad'],
                correcta: 'El criterio'
            },
            {
                pregunta: 'De acuerdo al modelo de las "4 P" de la creatividad, ¬øen qu√© dos √°reas impacta la IA de forma m√°s directa?',
                opciones: ['Persona y Proceso', 'Proceso y Producto', 'Producto y Presi√≥n', 'Persona y Presi√≥n'],
                correcta: 'Proceso y Producto'
            },
            {
                pregunta: '¬øCu√°l es la funci√≥n principal del sistema de video-quiz implementado en esta c√°psula?',
                opciones: ['Evaluar la memoria a corto plazo', 'Asegurar una visualizaci√≥n pasiva del contenido', 'Fomentar el aprendizaje activo y la atenci√≥n sostenida', 'Medir la velocidad de lectura del estudiante'],
                correcta: 'Fomentar el aprendizaje activo y la atenci√≥n sostenida'
            },
            {
                pregunta: '¬øQu√© significa usar la IA como "colaborador creativo" en lugar de solo como "herramienta"?',
                opciones: [
                    'Dejar que la IA haga todo el trabajo.', 
                    'Usarla solo para corregir errores gramaticales.', 
                    'Integrarla en el proceso de ideaci√≥n para que proponga caminos inesperados y nuevas combinaciones.',
                    'Limitar su uso a la b√∫squeda de informaci√≥n.'
                ],
                correcta: 'Integrarla en el proceso de ideaci√≥n para que proponga caminos inesperados y nuevas combinaciones.'
            },
            {
                pregunta: 'Al final de la c√°psula, se presenta una r√∫brica alineada con el nivel "Crear" de Bloom. ¬øCu√°l es el prop√≥sito de esta herramienta?',
                opciones: [
                    'Asignar una calificaci√≥n num√©rica a las respuestas abiertas.',
                    'Ofrecer un modelo para que los estudiantes copien sus respuestas.',
                    'Limitar la creatividad en las respuestas.',
                    'Proporcionar un marco para la autoevaluaci√≥n de la profundidad y originalidad de la reflexi√≥n personal.'
                ],
                correcta: 'Proporcionar un marco para la autoevaluaci√≥n de la profundidad y originalidad de la reflexi√≥n personal.'
            }
        ];

        let testFinalState = {
            preguntaActual: 0,
            puntuacion: 0,
            respuestasUsuario: [],
            temporizador: null,
            tiempoRestante: 30 * 60, // 30 minutos
        };

        const definiciones = {
            'Criterio': 'En este contexto, el Criterio es la capacidad desarrollada, a trav√©s de la experiencia y el conocimiento profundo, para juzgar la calidad, relevancia y adecuaci√≥n de una idea o producto. Es lo que permite a un experto elegir la mejor opci√≥n entre miles que una IA puede generar.',
            'Etnograf√≠a Digital': 'Es la adaptaci√≥n de los m√©todos de la etnograf√≠a (estudio de pueblos y culturas) al mundo digital. En lugar de observar personas en un espacio f√≠sico, se investigan comunidades, interacciones y artefactos culturales en plataformas en l√≠nea, como redes sociales o foros.',
            'Creatividad Computacional': 'Un subcampo de la inteligencia artificial dedicado a construir software que exhibe comportamientos que ser√≠an considerados creativos en humanos. Va m√°s all√° de la simple generaci√≥n; busca la novedad y el valor en sus creaciones.'
        };
        
        // ============================
        // #2. FUNCIONES DE INICIALIZACI√ìN Y MANEJO DE ESTADO
        // ============================
        function init() {
            cargarEstado();
            generarMenuFlotante();
            mostrarSeccion(estadoUsuario.seccionActual);
            actualizarUI();
            inyectarSVGs();
            adjuntarEventListeners();

            // Si el usuario ya complet√≥ el formulario, poblar campos y UI
            if (estadoUsuario.nombre) {
                document.querySelectorAll('.nombre-usuario').forEach(span => span.textContent = estadoUsuario.nombre);
                document.getElementById('nombre-completo').value = estadoUsuario.nombre;
                document.getElementById('email').value = estadoUsuario.email;
                document.getElementById('telefono').value = estadoUsuario.telefono;
            }
        }
        
        function salvarEstado() {
            try {
                localStorage.setItem('estadoUsuarioIA', JSON.stringify(estadoUsuario));
            } catch(e) {
                console.error("No se pudo guardar el estado en localStorage:", e);
            }
        }

        function cargarEstado() {
            const estadoGuardado = localStorage.getItem('estadoUsuarioIA');
            if (estadoGuardado) {
                estadoUsuario = JSON.parse(estadoGuardado);
            }
        }
        
        function reiniciarCurso() {
            if(confirm('¬øEst√°s seguro de que quieres borrar todos tus datos y reiniciar el curso? Esta acci√≥n no se puede deshacer.')) {
                localStorage.removeItem('estadoUsuarioIA');
                if (videoQuizState.relojVideo) clearInterval(videoQuizState.relojVideo);
                if (testFinalState.temporizador) clearInterval(testFinalState.temporizador);
                window.location.reload();
            }
        }
        
        // ============================
        // #3. MANEJO DE LA NAVEGACI√ìN Y UI
        // ============================
        function mostrarSeccion(idSeccion) {
            let seccionEncontrada = false;
            secciones.forEach(s => {
                if (s.id === idSeccion) {
                    s.style.display = 'block';
                    seccionEncontrada = true;
                } else {
                    s.style.display = 'none';
                }
            });
            
            if (!seccionEncontrada) {
                 // caso especial para seccion-final que tiene sub-partes
                if (idSeccion === 'seccion-final') {
                    document.getElementById('seccion-final').style.display = 'block';
                } else {
                    console.warn(`Secci√≥n no encontrada: ${idSeccion}, mostrando la primera.`);
                    document.getElementById('seccion-ingreso').style.display = 'block';
                    idSeccion = 'seccion-ingreso';
                }
            }

            estadoUsuario.seccionActual = idSeccion;
            actualizarProgreso();
            salvarEstado();
            window.scrollTo(0, 0);
        }

        function actualizarProgreso() {
            const indiceActual = SECCIONES_DATA.findIndex(s => s.id === estadoUsuario.seccionActual);
            const porcentaje = (indiceActual / (TOTAL_SECCIONES_PROGRESO - 1)) * 100;
            progressBar.style.width = `${porcentaje}%`;

            // Actualizar men√∫ flotante
            document.querySelectorAll('.menu-dot').forEach((dot, index) => {
                dot.classList.toggle('active', index === indiceActual);
            });
        }
        
        function generarMenuFlotante() {
            floatingMenu.innerHTML = '';
            SECCIONES_DATA.forEach((sec, index) => {
                const dot = document.createElement('div');
                dot.className = 'menu-dot';
                dot.dataset.seccion = sec.id;
                
                const tooltip = document.createElement('span');
                tooltip.className = 'tooltiptext';
                tooltip.textContent = sec.nombre;
                
                dot.appendChild(tooltip);
                dot.addEventListener('click', () => {
                     // Solo permite navegar a secciones pasadas o a la actual.
                    const indiceTarget = SECCIONES_DATA.findIndex(s => s.id === sec.id);
                    const indiceActual = SECCIONES_DATA.findIndex(s => s.id === estadoUsuario.seccionActual);
                     if (indiceTarget <= indiceActual || esSeccionAccesible(sec.id)) {
                        mostrarSeccion(sec.id);
                     } else {
                        alert("Completa las secciones anteriores para acceder a esta.");
                     }
                });
                floatingMenu.appendChild(dot);
            });
        }
        
        function esSeccionAccesible(idSeccion) {
            // Reglas de acceso
            if (idSeccion === 'seccion-final' && !estadoUsuario.respuestasMetacognitivas.reflexion1) return false;
            if (idSeccion === 'seccion-certificado' && !estadoUsuario.testFinal.aprobado) return false;
            return true;
        }

        function actualizarUI() {
            // Actualizar nombre
             document.querySelectorAll('.nombre-usuario').forEach(span => {
                span.textContent = estadoUsuario.nombre ? estadoUsuario.nombre : 'participante';
            });
            // Habilitar/deshabilitar botones de navegaci√≥n
            const indiceActual = SECCIONES_DATA.findIndex(s => s.id === estadoUsuario.seccionActual);
            document.querySelectorAll('.btn-prev').forEach(btn => btn.disabled = (indiceActual === 0));
            document.querySelectorAll('.btn-next').forEach(btn => {
                const esUltimaSeccion = (indiceActual >= TOTAL_SECCIONES_PROGRESO - 1);
                let deshabilita = esUltimaSeccion;

                // Reglas espec√≠ficas para deshabilitar "Siguiente"
                if (estadoUsuario.seccionActual === 'seccion-desarrollo-practico' && estadoUsuario.insignias.indexOf('explorador') === -1) {
                    deshabilita = true;
                }
                if (estadoUsuario.seccionActual === 'seccion-evaluacion' && !estadoUsuario.testFinal.completado) {
                    deshabilita = true;
                }
                 btn.disabled = deshabilita;
            });
        }

        // ============================
        // #4. L√ìGICA DE FORMULARIOS Y VALIDACI√ìN
        // ============================
        function validarFormularioIngreso(e) {
            e.preventDefault();
            const nombreInput = document.getElementById('nombre-completo');
            const emailInput = document.getElementById('email');
            let esValido = true;
            
            // Validar nombre
            if(nombreInput.value.trim() === '') {
                nombreInput.classList.add('invalido');
                nombreInput.nextElementSibling.style.display = 'block';
                esValido = false;
            } else {
                nombreInput.classList.remove('invalido');
                nombreInput.nextElementSibling.style.display = 'none';
            }

            // Validar email
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if(!emailRegex.test(emailInput.value)) {
                emailInput.classList.add('invalido');
                emailInput.nextElementSibling.style.display = 'block';
                esValido = false;
            } else {
                emailInput.classList.remove('invalido');
                emailInput.nextElementSibling.style.display = 'none';
            }

            if(esValido) {
                estadoUsuario.nombre = nombreInput.value.trim();
                estadoUsuario.email = emailInput.value.trim();
                estadoUsuario.telefono = document.getElementById('telefono').value.trim();
                
                document.querySelectorAll('.nombre-usuario').forEach(span => span.textContent = estadoUsuario.nombre);
                
                navegarSiguiente();
            }
        }
        
        function guardarReflexiones() {
            const r1 = document.getElementById('reflexion1').value.trim();
            const r2 = document.getElementById('reflexion2').value.trim();
            const r3 = document.getElementById('reflexion3').value.trim();

            if (!r1 || !r2 || !r3) {
                alert("Por favor, completa todas las reflexiones para continuar.");
                return;
            }
            
            estadoUsuario.respuestasMetacognitivas = {
                reflexion1: r1,
                reflexion2: r2,
                reflexion3: r3
            };
            
            poblarReporteFinal();
            mostrarSeccion('seccion-final');
        }

        function debounce(func, delay) {
            let timeout;
            return function(...args) {
                clearTimeout(timeout);
                timeout = setTimeout(() => func.apply(this, args), delay);
            };
        }

        // ============================
        // #5. L√ìGICA DE QUIZZES Y EVALUACIONES
        // ============================

        // --- Video-Quiz ---
        function iniciarVideoQuiz() {
            videoQuizState.preguntaActual = -1;
            let tiempoVideoConceptual = 0;
            const modal = document.getElementById('video-quiz-modal');
            const iframe = document.getElementById('video-principal');

             // Detiene el temporizador si el iframe pierde el foco.
            let isFocused = true;
            window.addEventListener('blur', () => isFocused = false);
            window.addEventListener('focus', () => isFocused = true);
            iframe.addEventListener('focus', () => isFocused = true);


            // Pausar conceptualmente el "reloj" cuando se muestra una pregunta.
            let pausado = false;
            const reanudarVideo = () => { pausado = false; };
            const pausarVideo = () => { pausado = true; };

            videoQuizState.relojVideo = setInterval(() => {
                if(pausado || !isFocused || estadoUsuario.seccionActual !== 'seccion-desarrollo-practico') {
                     return; // No hacer nada si est√° pausado, no enfocado, o en otra secci√≥n
                }
                tiempoVideoConceptual++;
                const siguientePreguntaIndex = videoQuizState.preguntaActual + 1;
                
                if (siguientePreguntaIndex < videoQuizData.length && tiempoVideoConceptual >= videoQuizData[siguientePreguntaIndex].tiempo) {
                    pausarVideo();
                    videoQuizState.preguntaActual = siguientePreguntaIndex;
                    mostrarPreguntaVideoQuiz(siguientePreguntaIndex, reanudarVideo);
                }

                if (siguientePreguntaIndex >= videoQuizData.length) {
                    clearInterval(videoQuizState.relojVideo); // Todas las preguntas contestadas
                     otorgarInsignia('explorador', 'Inquisidor Digital');
                     // Habilitar el bot√≥n "Siguiente"
                    document.querySelector('#seccion-desarrollo-practico .btn-next').disabled = false;
                }
            }, 1000);
        }

        function mostrarPreguntaVideoQuiz(index, callbackReanudar) {
            const preguntaData = videoQuizData[index];
            const modal = document.getElementById('video-quiz-modal');
            const preguntaEl = document.getElementById('pregunta-video-quiz');
            const opcionesEl = document.getElementById('opciones-video-quiz');
            const feedbackEl = document.getElementById('feedback-video-quiz');

            preguntaEl.textContent = preguntaData.pregunta;
            opcionesEl.innerHTML = '';
            feedbackEl.textContent = '';
            feedbackEl.style.color = '';

            preguntaData.opciones.forEach((opcion, i) => {
                const btn = document.createElement('button');
                btn.textContent = opcion;
                btn.className = 'btn';
                btn.onclick = () => {
                    if(i === preguntaData.correcta) {
                        feedbackEl.textContent = '¬°Correcto! Excelente atenci√≥n.';
                        feedbackEl.style.color = 'var(--color-exito)';
                        setTimeout(() => {
                            modal.style.display = 'none';
                            callbackReanudar();
                        }, 1500);
                    } else {
                        btn.style.borderColor = 'var(--color-error)';
                        feedbackEl.textContent = 'Int√©ntalo de nuevo. Piensa en el tono del ponente.';
                        feedbackEl.style.color = 'var(--color-error)';
                    }
                };
                opcionesEl.appendChild(btn);
            });
            modal.style.display = 'flex';
        }

        // --- Test Final ---
        function iniciarTestFinal() {
            testFinalState.preguntaActual = 0;
            testFinalState.puntuacion = 0;
            testFinalState.respuestasUsuario = [];
            testFinalState.tiempoRestante = 30 * 60;
            estadoUsuario.testFinal.intentos--;

            document.getElementById('test-container').style.display = 'block';
            document.getElementById('resultado-test').style.display = 'none';
            document.getElementById('intentos-restantes').textContent = estadoUsuario.testFinal.intentos;

            mostrarPreguntaTest();
            iniciarTemporizadorTest();
        }
        
        function iniciarTemporizadorTest() {
            const display = document.getElementById('tiempo-restante');
            testFinalState.temporizador = setInterval(() => {
                testFinalState.tiempoRestante--;
                const minutos = Math.floor(testFinalState.tiempoRestante / 60);
                const segundos = testFinalState.tiempoRestante % 60;
                display.textContent = `${minutos.toString().padStart(2, '0')}:${segundos.toString().padStart(2, '0')}`;
                if (testFinalState.tiempoRestante <= 0) {
                    finalizarTest('tiempo');
                }
            }, 1000);
        }

        function mostrarPreguntaTest() {
            const preguntaContainer = document.getElementById('pregunta-test-actual');
            const opcionesContainer = document.getElementById('opciones-test-final');
            const pregunta = testFinalData[testFinalState.preguntaActual];
            
            preguntaContainer.innerHTML = `<h3>Pregunta ${testFinalState.preguntaActual + 1}/${testFinalData.length}</h3><p>${pregunta.pregunta}</p>`;
            opcionesContainer.innerHTML = '';
            
            pregunta.opciones.forEach(opcion => {
                const btn = document.createElement('button');
                btn.className = 'opcion-test';
                btn.textContent = opcion;
                btn.dataset.respuesta = opcion;
                btn.onclick = () => {
                    // Desmarcar otras opciones
                    document.querySelectorAll('.opcion-test').forEach(b => b.classList.remove('seleccionado'));
                    // Marcar la seleccionada
                    btn.classList.add('seleccionado');
                };
                opcionesContainer.appendChild(btn);
            });
            document.getElementById('feedback-test').textContent = '';
            document.getElementById('btn-evaluar-respuesta').style.display = 'block';
        }

        function evaluarRespuestaTest() {
            const seleccionada = document.querySelector('.opcion-test.seleccionado');
            if (!seleccionada) {
                alert('Por favor, selecciona una respuesta.');
                return;
            }

            // Deshabilitar bot√≥n para prevenir doble clic
            const btnEvaluar = document.getElementById('btn-evaluar-respuesta');
            btnEvaluar.disabled = true;

            const respuestaUsuario = seleccionada.dataset.respuesta;
            const preguntaActual = testFinalData[testFinalState.preguntaActual];
            const esCorrecta = (respuestaUsuario === preguntaActual.correcta);

            testFinalState.respuestasUsuario.push(respuestaUsuario);
            
            if (esCorrecta) {
                seleccionada.classList.add('correcto');
                testFinalState.puntuacion++;
                document.getElementById('feedback-test').textContent = '¬°Respuesta Correcta!';
                document.getElementById('feedback-test').style.color = 'var(--color-exito)';
            } else {
                seleccionada.classList.add('incorrecto');
                 document.getElementById('feedback-test').textContent = `Incorrecto. La respuesta correcta era: "${preguntaActual.correcta}"`;
                 document.getElementById('feedback-test').style.color = 'var(--color-error)';
                // Marcar tambi√©n la correcta
                 document.querySelector(`.opcion-test[data-respuesta="${preguntaActual.correcta}"]`).classList.add('correcto');
            }
             
            // Deshabilitar todas las opciones
            document.querySelectorAll('.opcion-test').forEach(b => b.onclick = null);

            setTimeout(() => {
                if (testFinalState.preguntaActual < testFinalData.length - 1) {
                    testFinalState.preguntaActual++;
                    mostrarPreguntaTest();
                } else {
                    finalizarTest();
                }
                 btnEvaluar.disabled = false;
                 btnEvaluar.style.display = 'none'; // ocultar el boton y esperar la transicion
                setTimeout(()=>btnEvaluar.style.display='block', 1500)
            }, 2000);
        }
        
        function finalizarTest(motivo = 'completado') {
            clearInterval(testFinalState.temporizador);
            estadoUsuario.testFinal.completado = true;

            const resultadoCont = document.getElementById('resultado-test');
            const resultadoTitulo = document.getElementById('resultado-titulo');
            const resultadoTexto = document.getElementById('resultado-texto');
            const btnReintentar = document.getElementById('btn-reintentar-test');
            
            document.getElementById('test-container').style.display = 'none';
            resultadoCont.style.display = 'block';
            
            if (motivo === 'tiempo') {
                resultadoTitulo.textContent = '¬°Se acab√≥ el tiempo!';
            }

            const puntajePorcentaje = Math.round((testFinalState.puntuacion / testFinalData.length) * 100);
            estadoUsuario.testFinal.puntuacion = puntajePorcentaje;
            
            if(puntajePorcentaje >= 70) {
                estadoUsuario.testFinal.aprobado = true;
                resultadoTitulo.textContent = `¬°Felicidades, ${estadoUsuario.nombre}! Has aprobado.`;
                resultadoTexto.textContent = `Tu puntuaci√≥n final es: ${puntajePorcentaje}%. Has demostrado un excelente dominio del tema.`;
                btnReintentar.style.display = 'none';
                 document.querySelector('#seccion-evaluacion .btn-next').disabled = false;
            } else {
                 resultadoTitulo.textContent = '¬°Oh, no! No has alcanzado el puntaje necesario.';
                 resultadoTexto.textContent = `Tu puntuaci√≥n fue de ${puntajePorcentaje}%. Necesitas al menos 70% para aprobar.`;
                if(estadoUsuario.testFinal.intentos > 0) {
                    resultadoTexto.textContent += ` Te quedan ${estadoUsuario.testFinal.intentos} intentos.`;
                    btnReintentar.style.display = 'inline-block';
                } else {
                     resultadoTexto.textContent += ' No te quedan m√°s intentos.';
                    btnReintentar.style.display = 'none';
                    // Si se acaban los intentos, no puede avanzar.
                     document.querySelector('#seccion-evaluacion .btn-next').disabled = true;
                }
            }
             salvarEstado();
        }

        // ===========================================
        // #6. GAMIFICACI√ìN Y RECOMPENSAS (INSIGNIAS)
        // ===========================================
        const insigniasData = {
            'explorador': {
                nombre: 'Inquisidor Digital',
                svg: `<svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M50 2L95 25V75L50 98L5 75V25L50 2Z" fill="#e0f7fa"/><path d="M50 2L95 25V75L50 98L5 75V25L50 2Z" stroke="#005f73" stroke-width="3"/><path d="M50 35C41.7157 35 35 41.7157 35 50C35 58.2843 41.7157 65 50 65C58.2843 65 65 58.2843 65 50C65 41.7157 58.2843 35 50 35ZM50 60C44.4772 60 40 55.5228 40 50C40 44.4772 44.4772 40 50 40C55.5228 40 60 44.4772 60 50C60 55.5228 55.5228 60 50 60Z" fill="#0a9396"/><line x1="50" y1="65" x2="50" y2="75" stroke="#0a9396" stroke-width="3"/><text x="50" y="55" font-family="Arial" font-size="18" fill="white" text-anchor="middle">?</text></svg>`
            },
            'teorico': {
                nombre: 'Arquitecto de Conceptos',
                svg: `<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><path d="M50 2L95 25V75L50 98L5 75V25L50 2Z" fill="#e9ecef"/><path d="M50 2L95 25V75L50 98L5 75V25L50 2Z" stroke="#0d1b2a" stroke-width="3"/><path d="M25 70 L50 30 L75 70 Z" fill="#4a4a4a"/><rect x="45" y="70" width="10" height="15" fill="#4a4a4a"/></svg>`
            },
             'formativo': {
                nombre: 'Catalizador de Ideas',
                svg: `<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><path d="M50 2L95 25V75L50 98L5 75V25L50 2Z" fill="#fffbe6" /><path d="M50 2L95 25V75L50 98L5 75V25L50 2Z" stroke="#ee9b00" stroke-width="3"/><path d="M50 30 A 20 20 0 1 1 50 70 A 20 20 0 1 1 50 30" fill="#fefae0"/><path d="M50 30 l 0 -15 M65 35 l 10 -10 M70 50 l 15 0 M65 65 l 10 10 M50 70 l 0 15 M35 65 l -10 10 M30 50 l -15 0 M35 35 l-10 -10" stroke="#ee9b00" stroke-width="4" stroke-linecap="round"/></svg>`
            },
        };

        function otorgarInsignia(id, nombre) {
            if (!estadoUsuario.insignias.includes(id)) {
                estadoUsuario.insignias.push(id);

                // Actualizar UI
                const badgeEl = document.getElementById(`badge-${id}`);
                if(badgeEl) {
                    badgeEl.classList.add('earned');
                    const placeholder = document.getElementById(`badge-${id}-icon-placeholder`);
                    if(placeholder) placeholder.innerHTML = insigniasData[id].svg;
                }
                
                // Mostrar notificaci√≥n (toast)
                const toast = document.getElementById('badge-toast');
                document.getElementById('toast-icon').innerHTML = insigniasData[id].svg;
                document.getElementById('toast-text').textContent = `¬°Insignia Desbloqueada: ${nombre}!`;
                toast.style.display = 'flex';
                setTimeout(() => {
                    toast.style.display = 'none';
                }, 4000);
            }
        }
        
        function inyectarSVGs() {
             for (const [id, data] of Object.entries(insigniasData)) {
                 const placeholder = document.getElementById(`badge-${id}-icon-placeholder`);
                 if(placeholder) {
                     placeholder.innerHTML = data.svg;
                 }
                 const badgeEl = document.getElementById(`badge-${id}`);
                 if(badgeEl && estadoUsuario.insignias.includes(id)) {
                     badgeEl.classList.add('earned');
                }
             }
        }
        
        // ================================
        // #7. L√ìGICA DE REPORTE Y CERTIFICADO
        // ================================
        
        function poblarReporteFinal() {
            // Puntuaci√≥n
            const puntaje = estadoUsuario.testFinal.puntuacion || 'N/A';
            document.getElementById('reporte-puntuacion').textContent = puntaje;
            
            // Tiempo
            // ... se podr√≠a calcular y guardar el tiempo

            // Insignias
            const insigniasCont = document.getElementById('reporte-insignias');
            insigniasCont.innerHTML = '';
             if(estadoUsuario.insignias.length > 0){
                estadoUsuario.insignias.forEach(id => {
                    const badgeData = insigniasData[id];
                    const badgeHTML = `
                        <div class="badge earned">
                            <div class="badge-icon">${badgeData.svg}</div>
                            <p>${badgeData.nombre}</p>
                        </div>`;
                    insigniasCont.innerHTML += badgeHTML;
                });
            } else {
                 insigniasCont.innerHTML = "<p>No has ganado insignias a√∫n.</p>";
            }

            // Reflexiones
            const reflexionesCont = document.getElementById('reporte-reflexiones');
            reflexionesCont.innerHTML = `
                <h4>1. Aplicaci√≥n Pr√°ctica:</h4>
                <p><em>${estadoUsuario.respuestasMetacognitivas.reflexion1}</em></p>
                <h4>2. Cambio de Perspectiva:</h4>
                <p><em>${estadoUsuario.respuestasMetacognitivas.reflexion2}</em></p>
                <h4>3. Pr√≥ximos Pasos:</h4>
                <p><em>${estadoUsuario.respuestasMetacognitivas.reflexion3}</em></p>
            `;

            if(estadoUsuario.testFinal.aprobado){
                document.getElementById('btn-ver-certificado').disabled = false;
            }
        }

        function generarCertificadoHTML() {
            const fecha = new Date().toLocaleDateString('es-ES', { day: 'numeric', month: 'long', year: 'numeric' });
            let insigniasHTML = '';
             estadoUsuario.insignias.forEach(id => {
                insigniasHTML += `<div style="display: inline-block; text-align: center; margin: 0 10px;">
                    ${insigniasData[id].svg}
                    <p style="font-size: 10px; margin-top: 5px;">${insigniasData[id].nombre}</p>
                 </div>`;
             });

            return `
            <div style="width: 816px; height: 1056px; border: 10px solid var(--color-primario); padding: 40px; box-sizing: border-box; font-family: 'Georgia', serif; background-color: #f8fafd; display: flex; flex-direction: column; justify-content: space-between; position: relative;">
                
                <div style="position: absolute; top: 10px; left: 10px; background: var(--color-primario); color: white; padding: 5px 15px; font-family: sans-serif; font-size: 12px;">Universidad de la Vida</div>

                 <div style="position: absolute; top: 20px; right: 20px; z-index:10;">
                    <img src="https://api.qrserver.com/v1/create-qr-code/?size=80x80&data=https://elmejorequipo.github.io/iacreatividad/capsula09" alt="QR de Verificaci√≥n"/>
                 </div>
                
                <div style="text-align: center;">
                    <h1 style="font-size: 48px; color: var(--color-primario); margin: 0;">Certificado de Participaci√≥n</h1>
                    <p style="font-size: 18px; margin-top: 20px;">Se otorga a:</p>
                    <p style="font-size: 36px; color: var(--color-acento); margin: 20px 0; border-bottom: 2px solid var(--color-secundario); padding-bottom: 10px;">${estadoUsuario.nombre}</p>
                </div>
                
                <div style="text-align: center; font-size: 18px; line-height: 1.6;">
                    Por haber completado satisfactoriamente la c√°psula educativa
                    <br><strong>"IA: Creatividad Aumentada o Amenazada"</strong>
                    <br>con una duraci√≥n de 1 hora acad√©mica.
                    <br>
                    <p>Calificaci√≥n Obtenida: <strong>${estadoUsuario.testFinal.puntuacion}%</strong></p>
                </div>

                <div style="text-align: center; margin-top: 20px;">
                     <h3 style="font-size: 16px; color: var(--color-primario); margin-bottom: 10px;">Insignias Obtenidas</h3>
                     <div style="height: 120px;">${insigniasHTML}</div>
                </div>
                
                <div style="margin-top: 40px; display: flex; justify-content: space-between; align-items: flex-end;">
                    <div style="text-align: center; width: 45%;">
                        <p style="font-family: 'Brush Script MT', cursive; font-size: 24px; margin:0;">Lic. Luis Alfredo Andia Valverde</p>
                        <hr style="border-top: 1px solid var(--color-primario); margin: 5px 0 0 0;">
                        <p style="font-size: 14px; margin: 0;">Instructor</p>
                    </div>
                    <div style="text-align: center; width: 45%;">
                         <p style="font-size: 16px; margin: 0;">${fecha}</p>
                         <hr style="border-top: 1px solid var(--color-primario); margin: 5px 0 0 0;">
                         <p style="font-size: 14px; margin: 0;">Fecha de Emisi√≥n</p>
                    </div>
                </div>
                 <div style="font-size: 10px; text-align: center; color: #aaa; position: absolute; bottom: 10px; width: calc(100% - 80px);">
                     Validez: El conocimiento, nadie te lo quita. URL de verificaci√≥n: https://elmejorequipo.github.io/iacreatividad/capsula09
                 </div>
            </div>`;
        }

        function descargarCertificado() {
            const el = document.getElementById('certificado-html-source');
            el.innerHTML = generarCertificadoHTML();
            
            const opt = {
                margin:       0,
                filename:     `Certificado_${estadoUsuario.nombre.replace(/ /g, '_')}.pdf`,
                image:        { type: 'jpeg', quality: 0.98 },
                html2canvas:  { scale: 2, useCORS: true },
                jsPDF:        { unit: 'px', format: 'letter', orientation: 'portrait' }
            };

            html2pdf().from(el).set(opt).save();
        }

        // ============================
        // #8. EVENT LISTENERS
        // ============================
        function adjuntarEventListeners() {
            // Navegaci√≥n
            document.querySelectorAll('.btn-next').forEach(btn => {
                btn.addEventListener('click', navegarSiguiente);
            });
            document.querySelectorAll('.btn-prev').forEach(btn => {
                btn.addEventListener('click', navegarAnterior);
            });
            
            // Formularios
            document.getElementById('form-ingreso').addEventListener('submit', validarFormularioIngreso);
             const btnGuardarCierreDebounced = debounce(() => guardarReflexiones(), 500);
            document.getElementById('btn-guardar-cierre').addEventListener('click', btnGuardarCierreDebounced);

            // Test
             document.getElementById('btn-evaluar-respuesta').addEventListener('click', () => {
                document.getElementById('btn-evaluar-respuesta').disabled = true;
                evaluarRespuestaTest();
                setTimeout(() => { document.getElementById('btn-evaluar-respuesta').disabled = false; }, 2000);
            });

             document.getElementById('btn-reintentar-test').addEventListener('click', iniciarTestFinal);
             document.getElementById('btn-borrar-datos').addEventListener('click', reiniciarCurso);
             document.getElementById('btn-reiniciar-curso').addEventListener('click', reiniciarCurso);

            // Chatbot
            document.getElementById('chatbot-button').addEventListener('click', () => {
                document.getElementById('chatbot-popup').style.display = 'flex';
            });
             document.getElementById('cerrar-chatbot').addEventListener('click', () => {
                document.getElementById('chatbot-popup').style.display = 'none';
            });

            // Definiciones
            document.querySelectorAll('.definicion').forEach(span => {
                span.addEventListener('click', () => {
                    const term = span.dataset.term;
                    const definicionData = definiciones[term];
                    if (definicionData) {
                        document.getElementById('definicion-titulo').textContent = term;
                        document.getElementById('definicion-texto').textContent = definicionData;
                        document.getElementById('definicion-modal').style.display = 'flex';
                    }
                });
            });
            const cerrarModalDefinicion = () => {
                 document.getElementById('definicion-modal').style.display = 'none';
            }
             document.getElementById('cerrar-definicion').addEventListener('click', cerrarModalDefinicion);
             document.getElementById('definicion-modal').addEventListener('click', (e) => {
                if(e.target.id === 'definicion-modal') { // cerrar si se clica fuera del contenido
                     cerrarModalDefinicion();
                }
             });

            // Certificado
            document.getElementById('btn-ver-certificado').addEventListener('click', ()=>{
                document.getElementById('reporte-final-content').style.display = 'none';
                document.getElementById('certificado-wrapper').style.display = 'block';
                const preview = document.getElementById('certificado-preview');
                // Clonamos el elemento generado para el PDF para no interferir
                const elCertificado = document.createElement('div');
                elCertificado.innerHTML = generarCertificadoHTML();
                preview.innerHTML = ''; // Limpiar previo
                preview.appendChild(elCertificado.firstChild);
            });
            document.getElementById('btn-descargar-pdf').addEventListener('click', descargarCertificado);

        }
        
        function navegarSiguiente() {
            const indiceActual = SECCIONES_DATA.findIndex(s => s.id === estadoUsuario.seccionActual);
            if (indiceActual < TOTAL_SECCIONES_PROGRESO - 1) {
                const nuevaSeccionId = SECCIONES_DATA[indiceActual + 1].id;
                mostrarSeccion(nuevaSeccionId);
                gestionarAccionesAlEntrarSeccion(nuevaSeccionId);
            }
        }
        
        function navegarAnterior() {
            const indiceActual = SECCIONES_DATA.findIndex(s => s.id === estadoUsuario.seccionActual);
             if (indiceActual > 0) {
                 if (estadoUsuario.seccionActual === 'seccion-final' && document.getElementById('certificado-wrapper').style.display === 'block'){
                     document.getElementById('reporte-final-content').style.display = 'block';
                     document.getElementById('certificado-wrapper').style.display = 'none';
                     return;
                 }
                mostrarSeccion(SECCIONES_DATA[indiceActual - 1].id);
             }
        }

        function gestionarAccionesAlEntrarSeccion(idSeccion) {
            // Acciones espec√≠ficas al entrar a una secci√≥n
            switch(idSeccion) {
                case 'seccion-desarrollo-practico':
                    if (!videoQuizState.relojVideo) {
                        iniciarVideoQuiz();
                    }
                    break;
                case 'seccion-desarrollo-teorico':
                    otorgarInsignia('teorico', 'Arquitecto de Conceptos');
                    break;
                 case 'seccion-evaluacion-formativa':
                    otorgarInsignia('formativo', 'Catalizador de Ideas');
                    break;
                case 'seccion-evaluacion':
                    if (estadoUsuario.testFinal.intentos > 0 && !estadoUsuario.testFinal.aprobado) {
                        iniciarTestFinal();
                    } else if (estadoUsuario.testFinal.aprobado){
                         finalizarTest(); // Mostrar resultado de aprobaci√≥n si ya pas√≥
                    }
                    break;
                // ...otros casos
            }
            actualizarUI();
        }

        // ============================
        // #9. PUNTO DE ENTRADA
        // ============================
        init();

    });
    </script>
    <!-- FIN DEL JAVASCRIPT EMBEBIDO -->
</body>
</html>
