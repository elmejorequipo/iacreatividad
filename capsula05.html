<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IA: Creatividad Aumentada o Amenazada</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="C√°psula educativa completa sobre el impacto de la Inteligencia Artificial en la creatividad. Explora si la IA es una herramienta que aumenta nuestras capacidades o una amenaza para los artistas y creadores.">
    <meta name="keywords" content="IA, Inteligencia Artificial, Creatividad, Educaci√≥n, Dise√±o Instruccional, EdTech, Futuro del Arte, Desarrollo Profesional Docente">
    <meta name="author" content="Equipo de Desarrollo Educativo">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://elmejorequipo.github.io/iacreatividad/">
    <meta property="og:title" content="IA: Creatividad Aumentada o Amenazada">
    <meta property="og:description" content="Una experiencia de aprendizaje interactiva sobre la relaci√≥n entre la IA y la creatividad humana.">
    
    <!-- Favicon SVG -->
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3Eü§ñ%3C/text%3E%3C/svg%3E">

    <!-- Libraries from CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrious/4.0.2/qrious.min.js"></script>

    <style>
        /* CSS Integrado (style.css) */
        /* --- Fuentes y Configuraci√≥n Base --- */
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap');

        :root {
            --bg-color: #0f172a; /* Azul noche oscuro */
            --primary-color: #38bdf8; /* Azul cielo vibrante */
            --secondary-color: #818cf8; /* Lavanda suave */
            --text-color: #e2e8f0; /* Gris claro (casi blanco) */
            --text-muted: #94a3b8; /* Gris medio */
            --card-bg: rgba(30, 41, 59, 0.6); /* Azul-gris semi-transparente */
            --border-color: rgba(71, 85, 105, 0.6);
            --success-color: #34d399; /* Verde esmeralda */
            --error-color: #f87171; /* Rojo claro */
            --glass-blur: backdrop-filter: blur(10px);
        }

        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            scroll-behavior: smooth;
            font-size: 16px;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.7;
            overflow-x: hidden;
            background-image:
                radial-gradient(circle at 10% 20%, var(--secondary-color, #818cf8) 0px, transparent 20%),
                radial-gradient(circle at 80% 90%, var(--primary-color, #38bdf8) 0px, transparent 25%);
            background-attachment: fixed;
        }

        /* --- Dise√±o General y Contenedores --- */
        .container {
            width: 90%;
            max-width: 900px;
            margin: 2rem auto;
            padding: 2rem;
            background: var(--card-bg);
            border-radius: 15px;
            border: 1px solid var(--border-color);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.2);
            -webkit-backdrop-filter: var(--glass-blur);
            backdrop-filter: var(--glass-blur);
        }
        
        .educational-capsule {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        section {
            display: none; /* Ocultas por defecto */
            animation: fadeIn 0.8s ease-in-out;
            padding-top: 80px; /* Espacio para el men√∫ flotante y barra de progreso */
        }

        section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* --- Tipograf√≠a y Texto --- */
        h1, h2, h3, h4 {
            color: var(--primary-color);
            font-weight: 700;
            margin-bottom: 1rem;
            text-align: center;
            letter-spacing: 1px;
        }
        
        h1 { font-size: 2.8rem; text-transform: uppercase; }
        h2 { font-size: 2.2rem; }
        h3 { font-size: 1.8rem; color: var(--secondary-color); }
        h4 { font-size: 1.4rem; }
        
        p, li {
            text-align: justify;
            margin-bottom: 1rem;
            color: var(--text-color);
            hyphens: auto;
        }
        
        strong, b { color: var(--primary-color); }
        em, i { color: var(--secondary-color); }

        blockquote {
            margin: 1.5rem 0;
            padding: 1rem 1.5rem;
            border-left: 5px solid var(--secondary-color);
            background-color: rgba(129, 140, 248, 0.1);
            border-radius: 0 8px 8px 0;
            font-style: italic;
        }

        /* --- Botones y Elementos Interactivos --- */
        .btn {
            display: inline-block;
            padding: 0.8rem 1.8rem;
            background: linear-gradient(90deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: #0f172a;
            border: none;
            border-radius: 50px;
            font-weight: 600;
            text-decoration: none;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(56, 189, 248, 0.3);
            text-align: center;
        }

        .btn:hover, .btn:focus-visible {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 25px rgba(56, 189, 248, 0.4);
            outline: 2px solid var(--primary-color);
            outline-offset: 3px;
        }
        
        .btn-secondary {
            background: transparent;
            border: 2px solid var(--secondary-color);
            color: var(--secondary-color);
            box-shadow: none;
        }
        
        .btn-secondary:hover {
            background: var(--secondary-color);
            color: #0f172a;
        }
        
        .btn-container {
            text-align: center;
            margin-top: 2rem;
        }

        /* --- Formularios --- */
        .form-group {
            margin-bottom: 1.5rem;
        }
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--text-muted);
        }
        .form-group input {
            width: 100%;
            padding: 0.8rem 1rem;
            background: rgba(15, 23, 42, 0.8);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-color);
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }
        .form-group input:focus {
            outline: none;
            border-color: var(--primary-color);
        }
        .form-group input.invalid {
            border-color: var(--error-color);
        }
        .form-feedback {
            font-size: 0.85rem;
            color: var(--error-color);
            margin-top: 0.25rem;
            display: none;
        }
        input.invalid + .form-feedback {
            display: block;
        }

        /* --- Navegaci√≥n del Curso --- */
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 2.5rem;
            border-top: 1px solid var(--border-color);
            padding-top: 1.5rem;
        }

        /* --- Componentes Espec√≠ficos --- */
        /* SVG Animado Portada */
        #animated-svg-portada {
            width: 250px;
            height: 250px;
            margin: 2rem auto;
            display: block;
        }
        #animated-svg-portada .brain-path {
            stroke-dasharray: 1000;
            stroke-dashoffset: 1000;
            animation: draw 5s ease-in-out infinite alternate;
        }
        #animated-svg-portada .gears {
            animation: rotate 10s linear infinite;
            transform-origin: center;
        }
        #animated-svg-portada .dots {
            animation: pulse 2s ease-in-out infinite alternate;
        }
        @keyframes draw {
            to { stroke-dashoffset: 0; }
        }
        @keyframes rotate {
            to { transform: rotate(360deg); }
        }
        @keyframes pulse {
            from { r: 3; opacity: 0.5;}
            to { r: 5; opacity: 1;}
        }

        /* Video Quiz */
        #video-container {
            position: relative;
            width: 100%;
            padding-top: 56.25%; /* 16:9 Aspect Ratio */
            margin-bottom: 2rem;
            border-radius: 10px;
            overflow: hidden;
        }
        #video-player {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        #video-quiz-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            -webkit-backdrop-filter: var(--glass-blur);
            backdrop-filter: var(--glass-blur);
            display: none; /* Cambiar a flex para mostrar */
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        #video-quiz-modal.show {
            display: flex;
            opacity: 1;
        }

        .video-quiz-content {
            background: var(--card-bg);
            padding: 2.5rem;
            border-radius: 15px;
            border: 1px solid var(--border-color);
            width: 90%;
            max-width: 600px;
            text-align: center;
        }
        
        .video-quiz-option {
            display: block;
            width: 100%;
            margin: 1rem 0;
            padding: 1rem;
            background: rgba(15, 23, 42, 0.9);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .video-quiz-option:hover {
            border-color: var(--primary-color);
            transform: translateY(-2px);
        }

        /* Final Test */
        .quiz-option {
            display: block;
            margin: 1rem auto;
            padding: 1rem;
            background: rgba(15, 23, 42, 0.9);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            cursor: pointer;
            width: 100%;
            max-width: 600px;
            text-align: left;
            transition: all 0.2s ease;
        }
        
        .quiz-option.selected {
            border-color: var(--primary-color);
            background-color: rgba(56, 189, 248, 0.2);
        }

        .quiz-option.correct {
            border-color: var(--success-color);
            background-color: rgba(52, 211, 153, 0.2);
        }
        
        .quiz-option.incorrect {
            border-color: var(--error-color);
            background-color: rgba(248, 113, 113, 0.2);
        }
        
        #test-timer {
            position: fixed;
            top: 90px;
            right: 20px;
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--secondary-color);
            background: var(--card-bg);
            padding: 0.5rem 1rem;
            border-radius: 8px;
            display: none; /* Mostrado por JS */
            z-index: 50;
        }
        
        #test-result {
            text-align: center;
        }
        #test-result .result-message {
            font-size: 1.5rem;
            font-weight: bold;
        }
        .pass { color: var(--success-color); }
        .fail { color: var(--error-color); }
        
        /* Iframe Responsive */
        .iframe-container {
            position: relative;
            width: 100%;
            padding-bottom: 56.25%; /* 16:9 */
            height: 0;
            margin: 1rem 0;
        }
        .iframe-container-educaplay {
             position: relative;
             width: 100%;
             padding-bottom: 86.79%; /* 795/690 */
             height: 0;
             margin: 1rem 0;
        }
        .iframe-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 10px;
        }
        
        /* S√≠ntesis */
        .key-ideas {
            list-style: none;
            padding-left: 0;
        }
        .key-ideas li {
            background: rgba(129, 140, 248, 0.1);
            padding: 1.5rem;
            border-radius: 8px;
            border-left: 4px solid var(--secondary-color);
            margin-bottom: 1rem;
            text-align: left;
        }
        .key-ideas li::before {
            content: "üí°";
            margin-right: 1rem;
            font-size: 1.5rem;
        }

        /* Cierre y R√∫brica */
        .metacognitive-question {
            background: var(--card-bg);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border-radius: 8px;
            border: 1px solid var(--border-color);
        }
        .metacognitive-question label {
            display: block;
            font-weight: 600;
            color: var(--secondary-color);
            margin-bottom: 0.75rem;
        }
        .metacognitive-question textarea {
            width: 100%;
            height: 120px;
            background: rgba(15, 23, 42, 0.8);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-color);
            padding: 1rem;
            font-size: 1rem;
            resize: vertical;
        }
        .metacognitive-question textarea:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        .rubric-container {
            margin-top: 2rem;
        }
        .rubric-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
        }
        .rubric-table th, .rubric-table td {
            border: 1px solid var(--border-color);
            padding: 0.8rem;
            text-align: left;
            text-align: justify;
        }
        .rubric-table th {
            background-color: var(--card-bg);
            color: var(--secondary-color);
        }
        .rubric-table td:first-child {
            font-weight: bold;
            color: var(--primary-color);
            width: 15%;
        }

        /* --- Elementos Flotantes --- */
        #floating-menu {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--card-bg);
            border-radius: 50px;
            padding: 0.5rem;
            z-index: 100;
            display: flex;
            gap: 0.5rem;
            border: 1px solid var(--border-color);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            -webkit-backdrop-filter: var(--glass-blur);
            backdrop-filter: var(--glass-blur);
        }
        
        #floating-menu .menu-item {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            border: none;
            cursor: pointer;
            font-size: 1.2rem;
            line-height: 30px;
            text-align: center;
            background: transparent;
            color: var(--text-muted);
            transition: all 0.3s ease;
        }

        #floating-menu .menu-item:hover, #floating-menu .menu-item.active-nav {
            background-color: var(--primary-color);
            color: var(--bg-color);
        }

        #progress-bar-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 8px;
            background-color: transparent;
            z-index: 101;
        }

        #progress-bar {
            height: 100%;
            width: 0;
            background: linear-gradient(90deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            transition: width 0.4s ease-out;
            border-radius: 0 5px 5px 0;
        }
        
        #chatbot-button {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            background: linear-gradient(90deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            border-radius: 50%;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            transition: transform 0.3s ease;
            z-index: 90;
        }
        #chatbot-button:hover {
            transform: scale(1.1);
        }
        
        #settings-button {
            position: fixed;
            bottom: 90px;
            right: 20px;
            width: 60px;
            height: 60px;
            background-color: var(--card-bg);
            border: 1px solid var(--border-color);
            color: var(--text-muted);
            border-radius: 50%;
            cursor: pointer;
            z-index: 90;
            font-size: 1.5rem;
            transition: all 0.3s ease;
        }
        
        #settings-button:hover {
             transform: scale(1.1) rotate(90deg);
             color: var(--primary-color);
        }

        /* --- Certificado --- */
        #certificate-wrapper {
            visibility: hidden;
            position: absolute;
            left: -9999px;
        }
        #certificate {
            width: 1122px; /* A4 landscape */
            height: 793px;
            padding: 50px;
            box-sizing: border-box;
            background-color: #fff;
            color: #1a202c;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
            font-family: 'Times New Roman', serif;
            position: relative;
            background-image: url("data:image/svg+xml,%3csvg width='100%25' height='100%25' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='100%25' height='100%25' fill='none' rx='20' ry='20' stroke='%2338BDF8FF' stroke-width='10' stroke-dasharray='30%2c 10' stroke-dashoffset='0' stroke-linecap='square'/%3e%3c/svg%3e");
            border-radius: 20px;
        }
        
        .cert-header { text-align: center; }
        .cert-header h1 { font-size: 52px; color: #0f172a; margin-bottom: 10px; }
        .cert-header h2 { font-size: 24px; color: #2d3748; margin: 0; }
        
        .cert-body p { text-align: center; font-size: 20px; margin: 20px 0; color: #4a5568;}
        #cert-user-name {
            font-size: 48px;
            font-family: 'Brush Script MT', cursive;
            color: #38bdf8;
            border-bottom: 2px solid #2d3748;
            padding-bottom: 10px;
        }
        .cert-description {
            width: 80%;
            margin: 0 auto;
        }
        
        .cert-footer {
            width: 100%;
            display: flex;
            justify-content: space-around;
            align-items: flex-end;
            margin-top: 50px;
        }
        
        .cert-signature, .cert-qr {
            text-align: center;
            width: 40%;
        }

        .cert-signature p, .cert-qr p {
             font-size: 16px; margin: 0; padding: 0;
        }

        .cert-signature .line {
            border-top: 1px solid #4a5568;
            margin-top: 5px;
            padding-top: 5px;
        }
        
        /* Insignias y Gamificaci√≥n */
        .badge-container {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            padding: 1.5rem 2rem;
            background: linear-gradient(135deg, var(--success-color), #2dd4bf);
            color: var(--bg-color);
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            z-index: 2000;
            display: none; /* JS control */
            text-align: center;
            opacity: 0;
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            font-weight: 600;
        }

        .badge-container.show {
            display: block;
            opacity: 1;
            transform: translateX(-50%) translateY(20px);
        }
        .badge-icon { width: 60px; height: 60px; margin: 0 auto 0.5rem; }

        .points-display {
            position: fixed;
            top: 130px;
            right: 20px;
            background: var(--card-bg);
            color: var(--primary-color);
            padding: 0.5rem 1rem;
            border-radius: 8px;
            font-weight: 600;
            z-index: 50;
            transition: all 0.3s ease;
        }

        /* Reducci√≥n de movimiento por accesibilidad */
        @media (prefers-reduced-motion: reduce) {
            html {
                scroll-behavior: auto;
            }
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
                scroll-behavior: auto !important;
            }
        }
        
        /* Dise√±o Responsivo */
        @media (max-width: 768px) {
            h1 { font-size: 2.2rem; }
            h2 { font-size: 1.8rem; }
            .container { padding: 1.5rem; width: 95%; }
            #floating-menu {
                width: 90%;
                justify-content: space-around;
            }
            .navigation-buttons { flex-direction: column; gap: 1rem; }
            .btn { width: 100%; }
        }

        /* Estilos para impresi√≥n */
        @media print {
            body {
                background: none;
                color: #000;
            }
            section { display: none !important; } /* Ocultar todo */
            #reporte-final-imprimible {
                display: block !important; /* Mostrar solo el reporte */
            }
            #reporte-final-imprimible * {
                color: #000 !important;
                background: none !important;
            }
            .no-print {
                display: none !important;
            }
            .container, .rubric-table {
                box-shadow: none;
                border: 1px solid #ccc;
            }
        }
    </style>
</head>
<body>

    <div id="progress-bar-container"><div id="progress-bar"></div></div>
    
    <div id="floating-menu" class="no-print"></div>

    <main class="educational-capsule">
        
        <!-- ======================= SECCI√ìN 0: FORMULARIO DE INGRESO ======================= -->
        <section id="ingreso" class="active">
            <div class="container">
                <div style="text-align: center;">
                    <!-- Logo/Icono de bienvenida -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="color: var(--primary-color); margin-bottom: 1rem;"><path d="M12 8V4H8"/><rect x="4" y="12" width="16" height="8" rx="2"/><path d="M12 12v4"/><path d="M8 12v4"/><path d="M16 12v4"/><path d="m20 12-1.25-2.5-1.25 2.5"/><path d="m14 12-1.25-2.5-1.25 2.5"/></svg>
                    <h2>¬°Te damos la bienvenida, futuro explorador creativo!</h2>
                </div>
                <p>Est√°s a punto de iniciar un viaje de descubrimiento sobre el fascinante cruce de caminos entre la <strong>Inteligencia Artificial y la Creatividad Humana</strong>. Para que tu experiencia sea completa y podamos reconocerte como mereces al final, por favor, completa estos datos.</p>
                <p class="text-muted" style="font-size: 0.9em;"><em>Estos datos son necesarios para generar tu certificado de aprobaci√≥n personalizado. ¬°No te preocupes! Los guardaremos de forma segura solo en tu navegador.</em></p>
                
                <form id="user-form">
                    <div class="form-group">
                        <label for="fullName">Nombre Completo</label>
                        <input type="text" id="fullName" name="fullName" placeholder="Ej: Ana Mar√≠a Quispe" required>
                        <div class="form-feedback">Por favor, ingresa tu nombre completo.</div>
                    </div>
                    <div class="form-group">
                        <label for="email">Correo Electr√≥nico</label>
                        <input type="email" id="email" name="email" placeholder="Ej: ana.quispe@email.com" required>
                        <div class="form-feedback">Por favor, ingresa un correo electr√≥nico v√°lido.</div>
                    </div>
                    <div class="form-group">
                        <label for="phone">Tel√©fono (Opcional)</label>
                        <input type="tel" id="phone" name="phone" placeholder="Ej: 71234567">
                    </div>
                    <div class="btn-container">
                        <button type="submit" class="btn">Comenzar Aventura</button>
                    </div>
                </form>
            </div>
        </section>

        <!-- ======================= SECCI√ìN 1: PORTADA ======================= -->
        <section id="portada">
            <div class="container" style="text-align: center;">
                <h1 style="font-size: 3.5rem;">IA: Creatividad<br>Aumentada o Amenaza</h1>
                <p class="text-muted" style="max-width: 600px; margin: 1rem auto;">Una exploraci√≥n sobre el futuro de la creaci√≥n en la era de la inteligencia artificial.</p>
                
                <!-- SVG Animado -->
                <svg id="animated-svg-portada" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                  <defs>
                    <filter id="glow">
                      <feGaussianBlur stdDeviation="3.5" result="coloredBlur"/>
                      <feMerge>
                        <feMergeNode in="coloredBlur"/>
                        <feMergeNode in="SourceGraphic"/>
                      </feMerge>
                    </filter>
                  </defs>
                  <g class="gears">
                     <path fill="none" stroke="#38bdf8" stroke-width="8" d="M100,50 a50,50 0 0,1 0,100 a50,50 0 0,1 0,-100" />
                     <path class="brain-path" fill="none" stroke="#818cf8" stroke-width="2" d="M100,70 Q80,75 80,90 T100,110 Q120,115 120,130 T100,150" filter="url(#glow)"/>
                     <path class="brain-path" fill="none" stroke="#818cf8" stroke-width="2" d="M100,70 Q120,75 120,90 T100,110 Q80,115 80,130 T100,150" filter="url(#glow)" style="animation-delay: 1s;"/>
                  </g>
                   <circle class="dots" cx="70" cy="70" r="4" fill="#38bdf8" />
                   <circle class="dots" cx="130" cy="70" r="4" fill="#818cf8" style="animation-delay: 0.5s;" />
                   <circle class="dots" cx="70" cy="130" r="4" fill="#818cf8" style="animation-delay: 0.8s;" />
                   <circle class="dots" cx="130" cy="130" r="4" fill="#38bdf8" style="animation-delay: 0.3s;" />
                </svg>

                <div class="btn-container">
                    <button class="btn btn-next">Empezar</button>
                </div>
            </div>
        </section>

        <!-- ======================= SECCI√ìN 2: INTRODUCCI√ìN ======================= -->
        <section id="introduccion">
            <div class="container">
                <h2>1. Introducci√≥n: Preparando el Terreno</h2>
                <h3>¬°Hola, <span class="username-placeholder">creador</span>! ¬°Qu√© bueno que est√°s ac√°!</h3>
                <p>Vamos a sumergirnos en un debate que est√° en boca de todos. La inteligencia artificial no es solo cosa de pel√≠culas de ciencia ficci√≥n; est√° aqu√≠, ahora, transformando la manera en que trabajamos, aprendemos y, sobre todo, creamos. ¬øEs un copiloto para nuestra imaginaci√≥n o un rival que amenaza con dejarnos obsoletos? En esta c√°psula, no te daremos respuestas definitivas, pero te daremos las herramientas para que formes tu propia opini√≥n.</p>
                
                <div class="metacognitive-question">
                    <h4 style="color: var(--secondary-color)">P√∫blico Objetivo</h4>
                    <p>Esta experiencia est√° dise√±ada especialmente para <strong>profesores, docentes y creativos en el √°mbito de la educaci√≥n superior</strong> que buscan comprender y adaptarse al nuevo paradigma de la IA.</p>
                </div>
                
                <div class="metacognitive-question">
                    <h4 style="color: var(--secondary-color)">Objetivos de Aprendizaje</h4>
                    <p>Al finalizar esta c√°psula, ser√°s capaz de:</p>
                    <ul style="list-style: none; padding-left: 0;">
                        <li>‚úÖ <strong>Analizar</strong> cr√≠ticamente el rol de la Inteligencia Artificial como herramienta para potenciar el proceso creativo en la educaci√≥n superior.</li>
                        <li>‚úÖ <strong>Diferenciar</strong> entre las tareas creativas que pueden ser automatizadas por la IA y aquellas que dependen intr√≠nsecamente de la cognici√≥n y visi√≥n humana.</li>
                        <li>‚úÖ <strong>Aplicar</strong> estrategias para integrar la IA de manera efectiva en las fases de documentaci√≥n e iteraci√≥n de proyectos creativos, manteniendo la originalidad y la visi√≥n personal.</li>
                        <li>‚úÖ <strong>Evaluar</strong> las implicaciones √©ticas y futuras de la IA generativa en las disciplinas art√≠sticas y creativas, formulando una perspectiva propia y fundamentada.</li>
                    </ul>
                </div>
                
                <h3>Transcripci√≥n de la Charla Inspiradora</h3>
                <p>Para entrar en materia, te invitamos a leer la transcripci√≥n de una charla que captura la esencia de este debate. Pon atenci√≥n, porque muchas de las ideas aqu√≠ planteadas ser√°n la base de nuestro recorrido.</p>
                <blockquote style="max-height: 200px; overflow-y: auto; font-size: 0.9rem;">
                    <em>(Transcripci√≥n de TurboScribe.ai)</em><br><br>
                    Todos los a√±os, siempre tengo que dar alguna charla o alg√∫n coloquio con motivo de estreno de alguna de mis pel√≠culas, y siempre son en ambientes, en colegios, en universidades, en escuelas, siempre con un ambiente creativo, con estudiantes, y siempre la pregunta de la inteligencia artificial que nos depara con la inteligencia artificial siempre sale de alguna manera. Hace no mucho, unos meses, en una charla que tuve en Roma, un estudiante me hizo una pregunta que me hizo reflexionar bastante, que era la siguiente, ¬øtiene sentido que siga aprendiendo a dibujar con todo lo que hay de la inteligencia artificial? Y lo que me llam√≥ la atenci√≥n, sobre todo, no era tanto la pregunta, sino el tono con el que me la hizo, que le vi como apesadumbrado, o sea, como con falta de ilusi√≥n, dijo un chaval que estaba empezando, que realmente se pregunta en serio si tiene que seguir su vocaci√≥n o la tiene que dejar de lado, que lo ve√≠a como una aut√©ntica amenaza lo que es la inteligencia artificial. Esto me llev√≥ a preguntarme la esencia de lo que es la creatividad, preguntarnos qu√© es exactamente la creatividad, porque creatividad no es inventar nada desde cero, no es crear, no somos dioses, sino es siempre adaptar la realidad que existe ah√≠, nosotros la adaptamos a nuestra manera, buscamos un nuevo enfoque y creamos nuevas cosas, a trav√©s de cosas que ya existen.<br><br>
                    Entonces, el proceso creativo, si lo vamos desgranando poco a poco o al rev√©s, o lo vamos simplificando, intentemos simplificarlo al m√°ximo posible para entender c√≥mo las m√°quinas pueden ayudarnos o no en todo ese proceso, pero simplific√°ndolo a lo bestia, que simplemente ser√≠an tres pasos para hacer el proceso creativo. Los tres pasos m√°s sencillos ser√≠an, el primero de todos es definir la pregunta, el ser humano es el √∫nico ser capaz, el √∫nico animal que se hace preguntas, que realmente ve las cosas y cuando algo no lo entiende dice, ¬øesto c√≥mo es?, tiene esa curiosidad, tiene esa imaginaci√≥n que dice, ¬øc√≥mo podemos hacer las cosas de manera diferente?, ¬øpor qu√© es as√≠ y no es as√≠?, los animales no pueden hacer eso y las m√°quinas tampoco, eso es algo exclusivamente de los humanos, esa curiosidad, esa b√∫squeda, es a intentar encontrar una cosa diferente. Como dir√≠a Einstein, la formulaci√≥n de un problema es m√°s importante que su soluci√≥n, que es la clave, lo primero que tenemos que hacer como seres humanos es, oye, hacernos las preguntas correctas, todos nos preguntamos cosas, hay preguntas m√°s profundas, menos profundas, el ser humano tiene ese deseo trascendental de conocer, ¬øpor qu√© existen las grandes preguntas?, ¬ød√≥nde venimos?, ¬øa d√≥nde vamos?, ¬øa qu√© hora comemos?, ese tipo de preguntas, es lo m√°s importante, definir la pregunta.<br><br>
                    Otro genio, hablando de lo mismo dec√≠a, Pablo Picasso, los ordenadores son in√∫tiles, solo pueden darnos respuestas, las respuestas no sirven para nada, viene a decir Picasso, lo importante son las preguntas. Entonces, est√° claro que la parte fundamental para m√≠, que es de la creatividad, que es hacernos esas preguntas, las m√°quinas no pueden hacer nada, pero entonces, ¬øen qu√© nos pueden ayudar las m√°quinas? Bueno, precisamente en eso, buscando las respuestas, es un sitio donde las m√°quinas nos pueden ayudar, que esto nos lleva a la segunda parte de nuestro proceso creativo simplificado, que ser√≠a documentarse, ese es el segundo paso, yo tengo una pregunta, ahora tengo que encontrar la respuesta. Los humanos, ¬øqu√© hacemos?, nos formamos durante toda nuestra vida, lo que hacemos es conocimientos del color, conocimientos de la narrativa, conocimientos de la perspectiva, conocimientos de los tres actos de Arist√≥teles, lo que sea, nos vamos formando para ser los mejores dentro de nuestra profesi√≥n, y cuando atacamos un tema concreto, nos hacemos esa pregunta, una pregunta concreta, lo que hacemos es investigamos sobre esa pregunta, si tengo una pel√≠cula que habla sobre el miedo, pues tendr√© que hacerme libros que te hablen sobre la psicolog√≠a del miedo, o si est√° ambientada mi pel√≠cula en √Åfrica, pues tendr√© que conocer la cultura africana.<br><br>
                    Nos formamos, nos formamos, nos documentamos, pero los seres humanos tenemos un l√≠mite, y hay un punto en el que por tiempo no podemos formarnos m√°s, entonces ah√≠ entra un poco en lo que nos pueden ayudar las m√°quinas, ¬øqu√© aportan las m√°quinas en todo esto?, b√°sicamente nos dan dos cosas, uno, nos aceleran el proceso y nos lo abaratan, o sea, tiempo y dinero, eso nos dan respuestas de una manera muy r√°pida, entonces nosotros ahorramos tiempo y dinero, y la segunda, nos dan multitud de respuestas, nos dan millones, es una metralleta de respuestas, nos puede dar un mont√≥n de respuestas, eso ayuda mucho dentro del proceso creativo. Al final de todo esto uno sigue pensando, cuando hablo con colegas de la profesi√≥n, pero al final, ¬øes amiga o enemiga?, ¬øesto est√° ayudando al proceso creativo o lo est√° minando?, que es una gran pregunta y es un gran debate, yo creo que tampoco tengo la respuesta, pero s√≠ que est√° candente todo el tiempo, ¬øesto est√° mejorando el proceso creativo o lo est√° empeorando?, yo creo que parte de la respuesta est√° aqu√≠, en 1838, que este es el a√±o en el que se invent√≥ la fotograf√≠a, para mucha gente fue, esto es el final de la pintura, realmente ya no tiene sentido pintar, porque ahora cualquier persona con ning√∫n tipo de conocimiento de dibujo, ni de perspectiva, ni de encuadre, puede hacer una fotograf√≠a y lo va a hacer igual de bien que yo con todos mis a√±os de dedicaci√≥n, y realmente la pintura en muchas cosas fue modificada y el uso de la pintura en muchos sitios se perdi√≥, los retratos que la gente se hac√≠a para recordar c√≥mo era su abuelo, pues la fotograf√≠a sustituy√≥ todo eso, pero creo que una cosa fundamental que pas√≥ a partir de ese momento fue, que la pintura se liber√≥ completamente de una carga que ten√≠a, que hasta ese momento la obsesi√≥n de la pintura era copiar la realidad, era intentar hacerlo lo m√°s parecido a la realidad posible, y de repente, la fotograf√≠a cumple su objetivo, y yo como pintor puedo buscar otras cosas, en vez de copiar la realidad, reinterpreto la realidad, entonces empezaron a surgir movimientos tan interesantes como el impresionismo, que liber√≥ las formas, el cubismo, que liber√≥ la perspectiva, el expresionismo, que liber√≥ el color, entonces empezaron a investigar, los pintores ya no ten√≠an la expresi√≥n, yo puedo hacer lo que quiera, ya no tengo que copiar la realidad, puedo hacer lo que quiera, y otra cosa muy curiosa que pas√≥ es que la fotograf√≠a con los a√±os, la gente se fue especializando en ella, y se convirti√≥ en un arte completamente diferente, tiene cosas en com√∫n con la pintura, como puede ser la composici√≥n, pero otras cosas que no tienen nada que ver, pues tienen que aprender a manejar un obturador, a saber enfocar, a diferentes cosas que son muy concretas del mundo de la fotograf√≠a. Y ahora nos encontramos aqu√≠, 2025, tenemos internet plagado de cosas generadas por la inteligencia artificial, cuentos, fotograf√≠as, pinturas, canciones, estamos realmente saturados por un mont√≥n de material generado por la inteligencia artificial.<br><br>
                    ¬øQu√© va a pasar con todo esto? ¬øCu√°l es mi apuesta a lo que yo creo que va a pasar? Uno, que se va a normalizar, ahora simplemente sorprende por ver cosas absurdas creadas por la inteligencia artificial y nos llama mucho la atenci√≥n, llevar√° un momento en que eso se normalizar√° y no nos parecer√° una cosa as√≠ llamativa. Tambi√©n pasar√° que se empezar√° a crear una especie de experto en inteligencia artificial, gente que sepa utilizar muy bien esas herramientas y que poco a poco ir√° desarrollando, y qui√©n sabe que dentro de unos a√±os quiz√°s se le puede considerar un artista porque sabe utilizar las herramientas de una manera concreta. Pero para m√≠ lo m√°s interesante es lo que va a pasar con los artistas tradicionales, con aquellos que dir√°n, realmente para hacer la f√≥rmula que est√° haciendo todo el mundo, para coger esos clich√©s, esas cosas que la gente est√° consumiendo todos los d√≠as, b√°sicamente para hacer los Vengadores 26, pues que lo puede hacer la inteligencia artificial, pero yo como artista voy a buscar qu√© puedo hacer que una m√°quina no pueda hacer, qu√© puedo hacer que haga falta s√≠ o s√≠ al ser humano.<br><br>
                    Entonces creo que se va a empezar a desarrollar una l√≠nea art√≠stica s√∫per interesante Para ver m√°s de lo mismo, mucha inteligencia artificial. Si quieres algo aut√©ntico, yo creo que el p√∫blico cada vez ir√° pidiendo m√°s, hombre, es que esto ya lo he visto, porque no es m√°s que la fotocopia, pero si quiero ver algo aut√©ntico, pues me podr√≠a apoyar m√°s en ese otro tipo de arte, que al principio ser√° m√°s nicho, m√°s curioso, pero creo que el apetito les ir√° pidiendo pedir m√°s y m√°s eso. Y ahora centr√°ndonos, ¬øese artista tradicional qu√© puede aportar que no aporta las m√°quinas? O poni√©ndonos en positivo, ¬øqu√© es lo que s√≠ que aportamos los humanos? Que al final vamos a intentar buscar un h√≠brido entre a ver qu√© nos aporta la m√°quina y a ver qu√© aportamos nosotros para intentar potenciar nuestra creatividad.<br><br>
                    Entonces, lo que no tienen las m√°quinas es originalidad, eso lo tenemos que poner por nuestro lado. Ellos nos pueden dar muchas respuestas, pero al final lo √∫nico que es, es una fotocopia s√∫per sofisticada, te va cogiendo cositas de todos lados, te hace un collage enorme, pero no es original. La m√°quina lo que hace es el copy-paste, nosotros somos los que tenemos que aportar esa originalidad.<br><br>
                    Otra cosa que no tiene la m√°quina es la destreza, que es el haber estado horas y horas practicando con un piano, horas y horas pintando, horas y horas escribiendo, ¬øqu√© es lo que te da? Te da esa destreza que lo que te da es un criterio. Entonces, cuando la m√°quina te ense√±a 100 respuestas diferentes, si t√∫ tienes ese criterio podr√°s saber, de esas 100 respuestas, ¬øcu√°l es la respuesta correcta? Si no, pues elegir√°s al azar cualquier cosa y no sabr√°s diferenciar algo bueno de algo malo. Entonces, creo que es una de las claves, todas esas horas de trabajo te dan criterio.<br><br>
                    Y una tercera cosa que tenemos los humanos, que las m√°quinas no tienen, es una visi√≥n. Al final, el ser humano... o sea, la creatividad no es tener una idea genial, yo tengo esta idea genial, pues ya est√°, soy s√∫per creativo, sino es una sucesi√≥n de buenas ideas, que te llevan a un objetivo, como t√∫ tienes un objetivo final, que esa es tu visi√≥n final. Entonces, con las m√°quinas te dan muchas respuestas, pero si t√∫ tienes claro tu objetivo, si tienes clara tu visi√≥n, t√∫ puedes decir, vale, esta respuesta no me vale, esta s√≠, esta no, y t√∫ vas iterando, que es otra de las claves de la creatividad, el iterar, el ir desechando, cogiendo y vas puliendo un poco lo que t√∫ quieres crear.<br><br>
                    Y eso te ayuda a llegar, al final, a lo que ser√≠a el tercer punto de este proceso creativo, que es encontrar la respuesta correcta. Y esto es, al final, lo que te hace un poco diferenciarte. Cuando te encuentras la respuesta correcta, ¬øqu√© es encontrar la respuesta correcta?, es que otros seres humanos, eso las m√°quinas no lo saben, que otros seres humanos sepan que has elegido la respuesta correcta.<br><br>
                    Elegir la respuesta correcta es acercarse a esa verdad filos√≥fica, esa verdad con may√∫sculas, que es la que te hace un poco trascender en el tiempo. Cuando t√∫, entre todas las opciones, dices, pues mi tesis en esta pel√≠cula, en esta obra de artes, yo quiero hablar de este tema y creo que la verdad, la verdad objetiva, esa verdad filos√≥fica, es esta, cuanta m√°s gente piense que tiene raz√≥n en esa tesis que has planteado, esa obra gustar√° a m√°s gente y trascender√° m√°s en el tiempo, que es, al final, lo que est√°n buscando cualquier artista. Entonces, con esto, yo al final me quedo un poco con el estudiante que me dec√≠a, oye, ¬ømerece la pena aprender a dibujar? Pues mira, yo creo que s√≠, que s√≠, que s√≠ que merece la pena, pero lo que necesitamos es trabajar duro, como dec√≠a Edison, 1% de inspiraci√≥n, 99% de transpiraci√≥n, es mucho trabajo duro, mucho formarse, y con eso, uses o no uses las m√°quinas, que eso yo creo que es una elecci√≥n personal, cualquiera de las dos opciones, te vas a tener que matar a trabajar y a formarte muy bien.<br><br>
                    Entonces, qued√©monos con esta cita, para la pr√≥xima vez que nos enfrentemos a las m√°quinas, saber lo que tenemos que hacer. Muchas gracias.
                </blockquote>

                <div class="navigation-buttons">
                    <button class="btn btn-secondary btn-prev">Anterior</button>
                    <button class="btn btn-next">Siguiente</button>
                </div>
            </div>
        </section>

        <!-- ======================= SECCI√ìN 3: ACTIVACI√ìN ======================= -->
        <section id="activacion">
            <div class="container">
                <h2>2. Activaci√≥n: Calentando Motores Creativos</h2>
                <p>¬°Muy bien, <span class="username-placeholder">campe√≥n/a</span>! Antes de meternos de lleno, vamos a despertar esas neuronas y a ver qu√© tanto sabes (o intuyes) sobre este tema. Te presento un peque√±o juego de parejas.</p>
                <p><strong>Instrucciones:</strong> Haz clic en las tarjetas para voltearlas. Tu misi√≥n es encontrar los pares que se correspondan. ¬°A ver cu√°ntos aciertas a la primera! ¬°Sin miedo a equivocarse, que para eso estamos, para aprender!</p>
                
                <div class="iframe-container-educaplay">
                    <iframe allow="fullscreen; autoplay; allow-top-navigation-by-user-activation" allowfullscreen width="795" height="690" frameborder="0" src="https://es.educaplay.com/juego/24152723-juego_de_parejas_ia_y_creatividad.html" aria-label="Juego interactivo de Educaplay sobre IA y Creatividad"></iframe>
                </div>

                <div class="navigation-buttons">
                    <button class="btn btn-secondary btn-prev">Anterior</button>
                    <button class="btn btn-next">Siguiente</button>
                </div>
            </div>
        </section>

        <!-- ======================= SECCI√ìN 4: DESARROLLO PR√ÅCTICO ======================= -->
        <section id="desarrollo_practico">
            <div class="container">
                <h2>3. Desarrollo Pr√°ctico: Conectando con la Realidad</h2>
                <p>La teor√≠a es importante, pero la reflexi√≥n personal es clave. Antes de ver el video central de esta c√°psula, tomate un momento para pensar en estas preguntas. No hay respuestas correctas o incorrectas, solo tu perspectiva, que es muy valiosa.</p>
                
                <blockquote style="border-left-color: var(--primary-color);">
                    <p>ü§î ¬øAlguna vez has usado una herramienta de IA (como ChatGPT, Midjourney, o incluso el autocorrector de tu celular) para una tarea creativa? ¬øC√≥mo te sentiste? ¬øFue una ayuda, un atajo o algo m√°s?</p>
                    <p>ü§î Piensa en tu campo profesional o √°rea de estudio. ¬øD√≥nde ves que la IA podr√≠a ser un "copiloto" incre√≠ble? ¬øY d√≥nde sientes que podr√≠a ser una amenaza para el trabajo humano?</p>
                </blockquote>

                <p>¬°Perfecto! Con esas ideas frescas en tu mente, ahora est√°s m√°s que listo/a para ver la charla que inspir√≥ esta c√°psula. Es la misma de la transcripci√≥n, pero ahora con el componente audiovisual. </p>
                <p><strong>¬°Atenci√≥n, <span class="username-placeholder">crack</span>!</strong> Durante el video, haremos unas pausas estrat√©gicas en momentos clave. Aparecer√° una pregunta que deber√°s responder correctamente para poder continuar. ¬°Es una forma de asegurar que no te pierdas ni un detalle importante! ¬°Dale play y disfruta!</p>

                <div id="video-container">
                    <div id="video-player"></div>
                </div>

                <div id="video-quiz-modal" role="dialog" aria-modal="true" aria-labelledby="video-quiz-question">
                    <div class="video-quiz-content">
                        <h3 id="video-quiz-question"></h3>
                        <div id="video-quiz-options"></div>
                        <div id="video-quiz-feedback" style="margin-top: 1rem; font-weight: bold;"></div>
                    </div>
                </div>
                
                <div class="navigation-buttons">
                    <button class="btn btn-secondary btn-prev">Anterior</button>
                    <button class="btn btn-next">Siguiente</button>
                </div>
            </div>
        </section>

        <!-- ======================= SECCI√ìN 5: DESARROLLO TE√ìRICO Y CONCEPTUAL ======================= -->
        <section id="desarrollo_teorico">
             <div class="container">
                <h2>4. Desarrollo Te√≥rico: Profundizando en los Conceptos</h2>
                <p>¬°Excelente trabajo, <span class="username-placeholder">explorador/a</span>! Has navegado las reflexiones iniciales y el video. Ahora, es momento de estructurar ese conocimiento. Vamos a desglosar los temas clave, con ejemplos y fuentes para que puedas seguir investigando.</p>
                
                <div class="metacognitive-question">
                    <h3>Tema 1: La Anatom√≠a del Proceso Creativo</h3>
                    <p>Como mencionaba el expositor, la creatividad no es un rayo m√°gico de inspiraci√≥n. Es un <strong>proceso</strong>. Si bien hay muchos modelos, podemos simplificarlo en tres grandes etapas que dialogan constantemente con la IA.</p>
                    <p><strong>1. La Pregunta (El Dominio Humano):</strong> Es el punto de partida. Picasso dec√≠a: "Los ordenadores son in√∫tiles, solo pueden darnos respuestas". La habilidad de formular una pregunta significativa, de sentir curiosidad, de plantear un problema de una forma novedosa, es, por ahora, exclusivamente humana. Es la <em>intenci√≥n</em>, la <em>visi√≥n</em>.</p>
                    
                    <blockquote><em>Ejemplo Real:</em> El equipo de Pixar no le pregunt√≥ a una IA "¬øc√≥mo hacemos una pel√≠cula taquillera?". Se preguntaron: "¬øY si los juguetes tuvieran sentimientos?" (Toy Story), "¬øY si los monstruos necesitaran asustar para vivir?" (Monsters, Inc.). Esas preguntas, nacidas de la empat√≠a y la imaginaci√≥n, son el motor.</blockquote>
                    
                    <p><strong>2. La Documentaci√≥n e Iteraci√≥n (La Colaboraci√≥n IA-Humano):</strong> Aqu√≠ es donde la IA brilla como copiloto. Una vez que tienes la pregunta, necesitas "combustible": datos, referencias, opciones. La IA puede procesar y presentar millones de posibilidades en segundos, una tarea que a un humano le llevar√≠a vidas.</p>
                    <ul>
                        <li><strong>Aceleraci√≥n:</strong> Un dise√±ador puede generar 100 variaciones de un logo en minutos.</li>
                        <li><strong>Ampliaci√≥n de horizontes:</strong> Un m√∫sico puede pedirle a una IA que fusione flamenco con m√∫sica electr√≥nica de los 80, descubriendo patrones inesperados.</li>
                    </ul>
                    <p>El ser humano, con su <strong>criterio</strong> y <strong>destreza</strong>, es el curador. Filtra, combina y gu√≠a el caos de opciones que la IA le presenta.</p>

                    <p><strong>3. La Respuesta (La Selecci√≥n Trascendente):</strong> De todas las opciones, ¬øcu√°l es "la correcta"? La respuesta final no es la m√°s l√≥gica, sino la que mejor resuena con una <em>verdad humana</em>. Es la elecci√≥n que emociona, que comunica la visi√≥n original. Esto requiere una comprensi√≥n profunda del contexto cultural y emocional, algo que las m√°quinas a√∫n no poseen.</p>

                    <hr style="margin: 2rem 0; border-color: var(--border-color);">
                    <h4>Preguntas de Comprensi√≥n:</h4>
                    <p>1. ¬øPor qu√© se considera que "formular la pregunta" es un dominio principalmente humano?</p>
                    <p>2. Menciona dos beneficios concretos que aporta la IA en la fase de documentaci√≥n.</p>
                    <p>3. ¬øQu√© factor humano es crucial para elegir la "respuesta correcta" entre muchas opciones generadas por IA?</p>
                    
                    <h4>Pregunta de Aplicaci√≥n:</h4>
                    <p>Imagina que eres un docente de historia. Quieres crear una actividad sobre la Revoluci√≥n Francesa. Formula una "pregunta creativa" como punto de partida que no sea "¬øQu√© pas√≥ en la Revoluci√≥n Francesa?". Luego, describe c√≥mo usar√≠as una IA para la fase de documentaci√≥n.</p>

                    <p style="font-size: 0.8rem; color: var(--text-muted);">
                        <strong>Fuente:</strong> Csikszentmihalyi, M. (1996). <em>Creativity: Flow and the Psychology of Discovery and Invention</em>. Harper Collins.
                        <a href="https://www.harpercollins.com/products/creativity-mihaly-csikszentmihalyi" target="_blank">[Enlace]</a>
                    </p>
                </div>
                
                 <div class="metacognitive-question">
                    <h3>Tema 2: El Espectro de la Colaboraci√≥n Creativa</h3>
                    <p>La relaci√≥n entre un creador y la IA no es un simple interruptor de "on/off". Es un espectro de colaboraci√≥n, como describe el Dr. Ethan Mollick. Podemos visualizarlo as√≠:</p>
                    
                     <div style="width:100%; text-align:center; padding: 1rem; background: rgba(15,23,42,0.8); border-radius: 8px; margin-bottom:1rem;">
                        <strong>HUMANO</strong> ‚Äπ‚Äî‚Ä∫ <em>(Copiloto)</em> ‚Äπ‚Äî‚Ä∫ <em>(Cyborg)</em> ‚Äπ‚Äî‚Ä∫ <em>(Centauro)</em> ‚Äπ‚Äî‚Ä∫ <strong>IA</strong>
                    </div>

                    <ul>
                        <li><strong>Copiloto:</strong> La IA es una asistente. Le pides tareas espec√≠ficas: "dame ideas para un t√≠tulo", "corrige este p√°rrafo", "genera una imagen de un astronauta en un desierto". El humano tiene el control total.</li>
                        <li><strong>Cyborg/Centauro:</strong> Aqu√≠ la integraci√≥n es m√°s profunda. El humano y la IA trabajan en un bucle constante. El humano escribe una l√≠nea, la IA sugiere la siguiente; el humano dibuja un boceto, la IA lo refina y le da color. Es una co-creaci√≥n en tiempo real. La diferencia entre <em>Cyborg</em> y <em>Centauro</em> es el grado de fusi√≥n. En el modelo centauro (mitad humano, mitad caballo) es dif√≠cil saber d√≥nde empieza uno y termina el otro.</li>
                    </ul>

                    <blockquote><em>Caso Real:</em> La artista Holly Herndon utiliza IA (a la que llama "Spawn") como un miembro m√°s de su banda. La entren√≥ con su propia voz y la utiliza para generar nuevas armon√≠as y texturas vocales que luego ella integra en sus composiciones. No reemplaza su creatividad, la expande.</blockquote>

                    <p>Comprender este espectro es vital para los educadores. No se trata de prohibir o aceptar la IA, sino de ense√±ar a los estudiantes a navegar este espectro y a elegir el nivel de colaboraci√≥n adecuado para cada tarea, desarrollando lo que se conoce como <strong>"IA Literacy"</strong> o alfabetizaci√≥n en IA.</p>

                    <hr style="margin: 2rem 0; border-color: var(--border-color);">
                    <h4>Preguntas de Comprensi√≥n:</h4>
                    <p>1. Explica la diferencia principal entre usar la IA como "copiloto" y como "centauro".</p>
                    <p>2. ¬øQu√© significa el t√©rmino "IA Literacy" en el contexto educativo?</p>
                    <p>3. ¬øC√≥mo podr√≠a un novelista usar el modelo "cyborg" para escribir un libro?</p>
                    
                    <h4>Pregunta de Aplicaci√≥n:</h4>
                    <p>Describe una actividad para tu clase donde los estudiantes deban experimentar con al menos dos puntos diferentes del espectro de colaboraci√≥n IA-humano. ¬øQu√© les pedir√≠as que hicieran y qu√© reflexi√≥n final esperar√≠as de ellos?</p>

                    <p style="font-size: 0.8rem; color: var(--text-muted);">
                        <strong>Fuente:</strong> Mollick, E. (2024). <em>Co-Intelligence: Living and Working with AI</em>. Penguin Random House.
                        <a href="https://www.penguinrandomhouse.com/books/742291/co-intelligence-by-ethan-mollick/" target="_blank">[Enlace]</a>
                    </p>
                </div>

                <div class="navigation-buttons">
                    <button class="btn btn-secondary btn-prev">Anterior</button>
                    <button class="btn btn-next">Siguiente</button>
                </div>
            </div>
        </section>


        <!-- ======================= SECCI√ìN 6: EVALUACI√ìN FORMATIVA ======================= -->
        <section id="evaluacion_formativa">
            <div class="container">
                <h2>5. Evaluaci√≥n Formativa: Un Juego para Afianzar</h2>
                 <p>¬°Vas por muy buen camino, <span class="username-placeholder">maestro/a</span>! Has absorbido mucha informaci√≥n. Antes de la prueba final, es hora de una autoevaluaci√≥n sin presiones. Reflexiona:</p>
                
                 <blockquote>
                    <p>üí° De todo lo visto, ¬øqu√© idea te ha parecido m√°s reveladora o te ha hecho "clic" en la cabeza? ¬øPor qu√©?</p>
                    <p>üí° ¬øC√≥mo planeas aplicar concretamente alguna de estas ideas o herramientas en tu pr√≥xima clase o proyecto creativo?</p>
                </blockquote>
                 
                <p>Ahora, ¬°a jugar un poco! Te hemos preparado un Quizizz para repasar los conceptos clave de una manera divertida y din√°mica. El objetivo aqu√≠ no es la nota, sino que t√∫ mismo/a compruebes qu√© conceptos tienes claros y cu√°les podr√≠as repasar. ¬°A darle con todo!</p>

                <div class="iframe-container" style="min-height: 635px;">
                    <div style="width:100%;height:100%;position:absolute;left:0px;top:0px;display:flex;flex-direction:column;gap:8px;">
                        <iframe src="https://quizizz.com/embed/quiz/664275f68fefc478de0b457e" title="IA y Creatividad - Quizizz" style="flex:1;" frameBorder="0" allowfullscreen></iframe>
                        <a href="https://quizizz.com/admin?source=embedFrame" target="_blank" style="font-size: 0.75rem; color: var(--text-muted); text-align: right;">Explora m√°s en Quizizz.</a>
                    </div>
                </div>

                <div class="navigation-buttons">
                    <button class="btn btn-secondary btn-prev">Anterior</button>
                    <button class="btn btn-next">¬°A la Prueba Final!</button>
                </div>
            </div>
        </section>

        <!-- ======================= SECCI√ìN 7: EVALUACI√ìN FINAL ======================= -->
        <section id="evaluacion_final">
            <div class="container">
                <h2>6. Evaluaci√≥n Final: Demuestra lo que Sabes</h2>
                <div id="test-intro">
                    <p>¬°Lleg√≥ el momento de la verdad, <span class="username-placeholder">valiente</span>! Esta es la evaluaci√≥n final. Pondr√° a prueba tu comprensi√≥n de toda la c√°psula educativa.</p>
                    <div class="metacognitive-question">
                        <ul style="list-style-type: 'üëâ '; padding-left: 2rem; text-align: left;">
                            <li><strong>Preguntas:</strong> 6 de selecci√≥n m√∫ltiple.</li>
                            <li><strong>Calificaci√≥n para aprobar:</strong> 70% (¬°necesitas 5 respuestas correctas!).</li>
                            <li><strong>Intentos:</strong> Tienes un m√°ximo de 3 intentos.</li>
                            <li><strong>Tiempo L√≠mite:</strong> 30 minutos. ¬°El tiempo corre!</li>
                        </ul>
                    </div>
                    <p>Lee con calma cada pregunta, conf√≠a en tu criterio y ¬°mucho √©xito! Estamos seguros de que lo har√°s genial.</p>
                    <div class="btn-container">
                        <button id="start-test-btn" class="btn">Comenzar la Evaluaci√≥n</button>
                    </div>
                </div>
                
                <div id="test-container" style="display:none;">
                     <!-- El timer aparecer√° por JS en la esquina -->
                    <div id="quiz-question-container">
                        <!-- Las preguntas se cargar√°n aqu√≠ din√°micamente -->
                    </div>
                    <div class="btn-container">
                         <button id="submit-test-btn" class="btn">Finalizar y Calificar</button>
                    </div>
                </div>

                <div id="test-result" style="display:none;">
                    <!-- El resultado se mostrar√° aqu√≠ -->
                </div>
                
                <div class="navigation-buttons">
                    <button class="btn btn-secondary btn-prev">Anterior</button>
                    <button id="next-from-eval-btn" class="btn btn-next" style="display: none;">Siguiente</button>
                </div>
            </div>
        </section>

        <!-- ======================= SECCI√ìN 8: S√çNTESIS ======================= -->
        <section id="sintesis">
            <div class="container">
                <h2>7. S√≠ntesis: Las Grandes Ideas</h2>
                <p>¬°Lo lograste, <span class="username-placeholder">fen√≥meno</span>! Ha sido un viaje intenso. Para ayudarte a consolidar todo, aqu√≠ tienes las ideas clave de nuestra exploraci√≥n:</p>

                <ul class="key-ideas">
                    <li>La creatividad no es magia, es un proceso. La IA es una herramienta poderosa para la <em>documentaci√≥n</em> e <em>iteraci√≥n</em>, pero la <em>pregunta original</em> y la <em>visi√≥n final</em> siguen siendo profundamente humanas.</li>
                    <li>La IA nos libera de la carga de la "copia" y nos empuja hacia la <em>originalidad</em>. Al igual que la fotograf√≠a liber√≥ a la pintura, la IA puede liberarnos de tareas repetitivas para enfocarnos en lo que solo un humano puede hacer: tener destreza, criterio y una visi√≥n √∫nica.</li>
                    <li>El futuro no es "Humanos vs. IA", sino "Humanos CON IA". El verdadero potencial est√° en la colaboraci√≥n, aprendiendo a ser un buen "centauro" o "copiloto" de estas nuevas tecnolog√≠as.</li>
                </ul>
                
                <h3>Recursos Adicionales para no parar de aprender</h3>

                <p>¬øQuieres una vista panor√°mica de todo esto? ¬°Preparamos una infograf√≠a para ti! Es perfecta para guardar o compartir.</p>
                <div class="btn-container">
                    <a href="https://elmejorequipo.github.io/iacreatividad/infografia.html" target="_blank" class="btn btn-secondary">Ver Infograf√≠a Resumen</a>
                </div>
                
                <p style="margin-top: 2rem;">¬øPrefieres escuchar? Te dejamos un podcast que profundiza en el debate de si la IA es amiga o enemiga del creador. ¬°Ideal para escuchar mientras tomas un caf√©!</p>
                <iframe width="100%" height="300" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/2107792848&color=%230066cc&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true&visual=true" aria-label="Podcast de SoundCloud sobre creatividad y IA"></iframe>
                <div style="font-size: 10px; color: #cccccc;line-break: anywhere;word-break: normal;overflow: hidden;white-space: nowrap;text-overflow: ellipsis; font-family: Interstate,Lucida Grande,Lucida Sans Unicode,Lucida Sans,Garuda,Verdana,Tahoma,sans-serif;font-weight: 100;"><a href="https://soundcloud.com/el-mejor-equipo-282759177" title="El Mejor Equipo" target="_blank" style="color: #cccccc; text-decoration: none;">El Mejor Equipo</a> ¬∑ <a href="https://soundcloud.com/el-mejor-equipo-282759177/creatividad-humana-y-la-ia-amiga-o-enemiga" title="Creatividad humana y la IA ¬øAmiga o enemiga?" target="_blank" style="color: #cccccc; text-decoration: none;">Creatividad humana y la IA ¬øAmiga o enemiga?</a></div>

                <div class="navigation-buttons">
                    <button class="btn btn-secondary btn-prev">Anterior</button>
                    <button class="btn btn-next">Paso Final</button>
                </div>
            </div>
        </section>

        <!-- ======================= SECCI√ìN 9: CIERRE Y METACOGNICI√ìN ======================= -->
        <section id="cierre">
            <div class="container">
                <h2>8. Cierre: Tu Voz en la Conversaci√≥n</h2>
                <p>La conversaci√≥n no termina aqu√≠, <span class="username-placeholder">pensador/a</span>. Ahora te toca a ti. Estas preguntas finales son para que sintetices tu propia visi√≥n. T√≥mate tu tiempo, tus respuestas son el verdadero fruto de este aprendizaje.</p>
                
                <form id="metacognitive-form">
                    <div class="metacognitive-question">
                        <label for="reflection1">Despu√©s de este recorrido, ¬øc√≥mo ha cambiado o se ha reafirmado tu percepci√≥n sobre la IA en el √°mbito creativo?</label>
                        <textarea id="reflection1" name="reflection1" placeholder="Antes pensaba que..., pero ahora veo que..."></textarea>
                    </div>
                    <div class="metacognitive-question">
                        <label for="reflection2">Imagina un proyecto creativo que te apasione (escribir un cuento, dise√±ar una lecci√≥n, componer una canci√≥n). Describe un paso concreto donde ahora te atrever√≠as a usar la IA como tu copiloto o centauro.</label>
                        <textarea id="reflection2" name="reflection2" placeholder="Para mi proyecto de..., podr√≠a usar [herramienta IA] para ayudarme a..."></textarea>
                    </div>
                    <div class="metacognitive-question">
                        <label for="reflection3">¬øCu√°l crees que es la habilidad humana m√°s importante que debemos cultivar (tanto nosotros como nuestros estudiantes) para prosperar en una era de IA generativa? ¬øPor qu√© esa y no otra?</label>
                        <textarea id="reflection3" name="reflection3" placeholder="Creo que la habilidad clave es..., porque la IA nunca podr√°..."></textarea>
                    </div>
                </form>

                <p class="text-muted" style="text-align: center; margin-top: 1.5rem;">Puedes usar la siguiente r√∫brica para autoevaluar la calidad de tu reflexi√≥n. Est√° dise√±ada para ayudarte a alcanzar un nivel de pensamiento creativo y cr√≠tico superior (Nivel "Crear" de la Taxonom√≠a de Bloom).</p>
                
                <div class="rubric-container">
                    <h3>R√∫brica de Autoevaluaci√≥n de la Reflexi√≥n</h3>
                    <div style="overflow-x:auto;">
                    <table class="rubric-table">
                        <thead>
                            <tr>
                                <th>Criterio</th>
                                <th>1. En Desarrollo</th>
                                <th>2. Desarrollo Aceptable</th>
                                <th>3. Desarrollo √ìptimo</th>
                                <th>4. Desarrollo Pleno (Excepcional)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Originalidad y Visi√≥n</strong></td>
                                <td>La respuesta es gen√©rica, repite ideas de la c√°psula sin aportar una perspectiva personal.</td>
                                <td>La respuesta muestra un intento de personalizaci√≥n, conectando el tema con experiencias propias de forma superficial.</td>
                                <td>La respuesta articula una visi√≥n personal clara y original. Propone ideas nuevas o conexiones no evidentes.</td>
                                <td>La propuesta es innovadora y disruptiva. Plantea una s√≠ntesis √∫nica entre conceptos y una aplicaci√≥n futura.</td>
                            </tr>
                             <tr>
                                <td><strong>Profundidad del An√°lisis</strong></td>
                                <td>Identifica elementos b√°sicos sin profundizar en sus implicaciones.</td>
                                <td>Describe la relaci√≥n entre IA y su pr√°ctica, pero el an√°lisis es limitado, enfoc√°ndose en lo obvio.</td>
                                <td>Analiza con detalle c√≥mo la IA podr√≠a transformar o potenciar su proceso, considerando ventajas y desaf√≠os.</td>
                                <td>Analiza las implicaciones a m√∫ltiples niveles (personal, profesional, social, √©tico) de forma cr√≠tica.</td>
                            </tr>
                            <tr>
                                <td><strong>Argumentaci√≥n</strong></td>
                                <td>Las ideas no tienen estructura l√≥gica clara. Las afirmaciones no est√°n sustentadas.</td>
                                <td>Las ideas tienen conexi√≥n, pero la argumentaci√≥n es d√©bil o inconsistente en algunas partes.</td>
                                <td>La argumentaci√≥n es s√≥lida, coherente y bien estructurada.</td>
                                <td>La argumentaci√≥n es impecable, persuasiva y elegante, usando ejemplos potentes.</td>
                            </tr>
                            <tr>
                                <td><strong>Aplicabilidad Pr√°ctica</strong></td>
                                <td>No propone acciones concretas o son irrealistas.</td>
                                <td>Propone acciones gen√©ricas, poco detalladas.</td>
                                <td>Propone un plan de acci√≥n concreto y realista para integrar lo aprendido.</td>
                                <td>Dise√±a una estrategia o un mini-proyecto detallado, viable y creativo.</td>
                            </tr>
                        </tbody>
                    </table>
                    </div>
                </div>

                <div class="navigation-buttons">
                    <button class="btn btn-secondary btn-prev">Anterior</button>
                    <button id="next-to-certificate-or-report" class="btn btn-next">Finalizar y Ver Resultados</button>
                </div>
            </div>
        </section>
        
        <!-- ======================= SECCI√ìN 10: CERTIFICADO/REPORTE ======================= -->
        <section id="certificado_reporte">
            <div class="container" id="final-outcome-container">
                <!-- Contenido generado por JS -->
            </div>
             <div class="navigation-buttons">
                <button class="btn btn-secondary" onclick="app.restartCourse()">Reiniciar Curso</button>
             </div>
        </section>

    </main>
    
    <!-- Plantilla de Certificado (Oculto) -->
    <div id="certificate-wrapper">
        <div id="certificate">
            <div class="cert-header">
                <h2>Certificado de Finalizaci√≥n</h2>
                <h1>Instituci√≥n Educativa Ficticia</h1>
            </div>
            <div class="cert-body">
                <p>Otorga el presente certificado a:</p>
                <h1 id="cert-user-name" style="color:#38bdf8;">Nombre del Participante</h1>
                <p class="cert-description">Por haber completado satisfactoriamente la c√°psula educativa</p>
                <h2 style="font-family: 'Times New Roman'; color:#2d3748; font-style:italic; margin-top:20px;">"IA: Creatividad Aumentada o Amenazada"</h2>
                <p>Con una duraci√≥n de <strong>2 horas acad√©micas</strong>.<br>Completado el: <span id="cert-date"></span></p>
            </div>
            <div class="cert-footer">
                <div class="cert-signature">
                    <p class="line">Instructor Principal</p>
                    <p>Experto en IA y Educaci√≥n</p>
                </div>
                <div class="cert-qr">
                    <canvas id="cert-qr-code"></canvas>
                    <p>Verificar en: github.io/elmejorequipo/verificar</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Plantilla de Reporte Final Imprimible (Oculto) -->
    <div id="reporte-final-imprimible" style="display: none; padding: 2rem;">
        <h1>Reporte de Aprendizaje</h1>
        <h2 id="report-username"></h2>
        <p><strong>Fecha:</strong> <span id="report-date"></span></p>
        <hr>
        <h3>Resultados de la Evaluaci√≥n</h3>
        <p id="report-score"></p>
        <p id="report-status"></p>
        <hr>
        <h3>Mis Reflexiones Finales</h3>
        <div id="report-reflections"></div>
    </div>


    <!-- Elementos Flotantes Transversales -->
    <button id="chatbot-button" class="no-print" aria-label="Abrir chatbot de ayuda" onclick="window.open('https://notebooklm.google.com/notebook/c4d90a4e-4c2b-4526-9b60-93548a358137', '_blank')">
        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#0f172a" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg>
    </button>
    <button id="settings-button" class="no-print" title="Borrar datos y reiniciar" aria-label="Borrar datos y reiniciar curso">‚öôÔ∏è</button>

    <!-- Gamificaci√≥n y Notificaciones -->
    <div id="badge-notification" class="badge-container" aria-live="polite">
        <div id="badge-icon-placeholder" class="badge-icon"></div>
        ¬°Insignia Desbloqueada! <br> <strong id="badge-name"></strong>
    </div>
    <div id="points-display" class="points-display no-print">Puntos: 0</div>
    
    <script>
    // JS Integrado (script.js)
    document.addEventListener('DOMContentLoaded', () => {

        const app = {
            // --- CONFIGURACI√ìN ---
            config: {
                totalSections: document.querySelectorAll('main > section').length,
                currentSectionIndex: 0,
                passingScore: 70,
                testAttemptsKey: 'test_attempts',
                testScoreKey: 'test_score',
                testTimeKey: 'test_timer',
                testTimerLimit: 30 * 60, // 30 minutos en segundos
            },

            // --- ESTADO DE LA APP ---
            state: {
                userData: {},
                videoPlayer: null,
                isVideoApiReady: false,
                quizTimer: null,
                testTimerInterval: null,
                currentTestAttempt: 0,
                finalScore: -1,
                points: 0,
                badges: [],
                videoQuizState: [
                    { time: 63, question: 'Seg√∫n el autor, ¬øcu√°l es el primer paso del proceso creativo, exclusivo de los humanos?', options: ['Documentarse', 'Adaptar la realidad', 'Hacerse preguntas', 'Tener una idea genial'], correct: 2, asked: false }, // 1:03
                    { time: 155, question: '¬øCu√°les son las dos cosas principales que aportan las m√°quinas en la fase de documentaci√≥n?', options: ['Originalidad y visi√≥n', 'Respuestas r√°pidas y baratas', 'Destreza y criterio', 'Curiosidad y emoci√≥n'], correct: 1, asked: false }, // 2:35
                    { time: 260, question: '¬øCon qu√© invenci√≥n hist√≥rica se compara la llegada de la IA para liberar a los artistas?', options: ['La imprenta', 'La fotograf√≠a', 'El cine', 'Internet'], correct: 1, asked: false }, // 4:20
                    { time: 388, question: '¬øQu√© tres cosas se mencionan que los humanos tienen y las m√°quinas no?', options: ['Inteligencia, velocidad y memoria', 'Inspiraci√≥n, motivaci√≥n y colaboraci√≥n', 'Originalidad, destreza y visi√≥n', 'Datos, algoritmos y poder de c√≥mputo'], correct: 2, asked: false }, // 6:28
                ],
                finalTestQuestions: [
                     {
                        question: "Seg√∫n el expositor, ¬øcu√°l es el primer y m√°s fundamental paso del proceso creativo, exclusivo de los humanos?",
                        options: ["Documentarse exhaustivamente.", "Encontrar la respuesta correcta.", "Formular la pregunta correcta.", "Dominar las herramientas tecnol√≥gicas."],
                        answer: 2
                    },
                    {
                        question: "¬øQu√© dos ventajas principales ofrecen las m√°quinas, como la IA, en la fase de documentaci√≥n del proceso creativo?",
                        options: ["Originalidad y destreza.", "Visi√≥n y criterio.", "Aceleraci√≥n (tiempo) y abaratamiento (dinero).", "Complejidad y profundidad filos√≥fica."],
                        answer: 2
                    },
                    {
                        question: "El video establece una analog√≠a entre la invenci√≥n de la IA y otro hito hist√≥rico. ¬øCu√°l fue este hito y qu√© consecuencia tuvo para el arte?",
                        options: ["La imprenta, que liber√≥ la escritura de los monjes.", "El cine, que oblig√≥ al teatro a reinventarse.", "La fotograf√≠a, que liber√≥ a la pintura de la necesidad de copiar la realidad.", "Internet, que satur√≥ el mercado de contenido."],
                        answer: 2
                    },
                    {
                        question: "¬øCu√°les son las tres cualidades que, seg√∫n la charla, los humanos aportan al proceso creativo y que las m√°quinas no poseen?",
                        options: ["Rapidez, eficiencia y gran cantidad de datos.", "Inspiraci√≥n, transpiraci√≥n y colaboraci√≥n.", "Originalidad, destreza y visi√≥n.", "An√°lisis, s√≠ntesis y evaluaci√≥n."],
                        answer: 2
                    },
                    {
                        question: "En el contexto de la IA, ¬øa qu√© se refiere el expositor con 'encontrar la respuesta correcta' como el paso final del proceso creativo?",
                        options: ["A encontrar la soluci√≥n que la IA considera √≥ptima.", "A generar una obra que guste a la mayor√≠a de la gente.", "A elegir una de las miles de opciones que la m√°quina presenta al azar.", "A elegir la opci√≥n que mejor se acerca a una verdad filos√≥fica o tesis personal, que resuene con otros humanos."],
                        answer: 3
                    },
                    {
                        question: "¬øCu√°l es el consejo final del autor para un joven artista preocupado por el avance de la IA?",
                        options: ["Abandonar las artes tradicionales y convertirse en un experto en IA.", "Trabajar duro, formarse constantemente y desarrollar un criterio propio, independientemente de si usa IA o no.", "Usar la IA exclusivamente para tareas repetitivas.", "Centrarse √∫nicamente en crear arte que la IA no pueda replicar."],
                        answer: 1
                    }
                ]
            },
            
            // --- SELECTORES DEL DOM ---
            dom: {
                sections: document.querySelectorAll('main > section'),
                navButtons: document.querySelectorAll('.btn-next, .btn-prev'),
                floatingMenu: document.getElementById('floating-menu'),
                progressBar: document.getElementById('progress-bar'),
                userForm: document.getElementById('user-form'),
                usernamePlaceholders: document.querySelectorAll('.username-placeholder'),
                videoQuizModal: document.getElementById('video-quiz-modal'),
                settingsButton: document.getElementById('settings-button'),
                pointsDisplay: document.getElementById('points-display'),
            },

            // --- M√âTODOS DE INICIALIZACI√ìN Y N√öCLEO ---
            init() {
                console.log('Iniciando la c√°psula educativa...');
                this.loadStateFromLocalStorage();
                this.setupEventListeners();
                this.renderFloatingMenu();
                
                if (this.state.userData.fullName) {
                    console.log('Usuario encontrado. Saltando formulario de ingreso.');
                    this.config.currentSectionIndex = 1; // Ir a la portada
                    this.updateUsernamePlaceholders();
                    this.updatePointsDisplay();
                    this.updateBadgesFromState();
                }

                this.navigateToSection(this.config.currentSectionIndex, true); // No animar la carga inicial
                this.loadYouTubeApi();
            },

            loadStateFromLocalStorage() {
                const userData = localStorage.getItem('userData');
                const attempts = localStorage.getItem(this.config.testAttemptsKey);
                const score = localStorage.getItem(this.config.testScoreKey);
                const points = localStorage.getItem('userPoints');
                const badges = localStorage.getItem('userBadges');

                if (userData) this.state.userData = JSON.parse(userData);
                if (attempts) this.state.currentTestAttempt = parseInt(attempts, 10);
                if (score) this.state.finalScore = parseFloat(score);
                if (points) this.state.points = parseInt(points, 10);
                if (badges) this.state.badges = JSON.parse(badges);

            },

            saveStateToLocalStorage() {
                localStorage.setItem('userData', JSON.stringify(this.state.userData));
                localStorage.setItem(this.config.testAttemptsKey, this.state.currentTestAttempt);
                localStorage.setItem(this.config.testScoreKey, this.state.finalScore);
                localStorage.setItem('userPoints', this.state.points);
                localStorage.setItem('userBadges', JSON.stringify(this.state.badges));
            },
            
            setupEventListeners() {
                // Navegaci√≥n principal
                this.dom.navButtons.forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        if (e.target.classList.contains('btn-next')) this.navigate(1);
                        else if (e.target.classList.contains('btn-prev')) this.navigate(-1);
                    });
                });

                // Formulario de ingreso
                this.dom.userForm.addEventListener('submit', this.handleUserFormSubmit.bind(this));
                
                // Bot√≥n de settings para reiniciar
                this.dom.settingsButton.addEventListener('click', this.confirmRestart.bind(this));

                // Evaluaci√≥n Final
                const startTestBtn = document.getElementById('start-test-btn');
                if (startTestBtn) startTestBtn.addEventListener('click', this.startTest.bind(this));
                
                const submitTestBtn = document.getElementById('submit-test-btn');
                if (submitTestBtn) submitTestBtn.addEventListener('click', this.submitTest.bind(this));

                const nextFromEvalBtn = document.getElementById('next-from-eval-btn');
                if (nextFromEvalBtn) nextFromEvalBtn.addEventListener('click', () => this.navigate(1));

                const metacognitionBtn = document.getElementById('next-to-certificate-or-report');
                if(metacognitionBtn) metacognitionBtn.addEventListener('click', this.showFinalOutcome.bind(this));
            },

            // --- M√âTODOS DE NAVEGACI√ìN ---
            navigate(direction) {
                const newIndex = this.config.currentSectionIndex + direction;
                if (newIndex >= 0 && newIndex < this.config.totalSections) {
                     // Checkpoint de evaluaci√≥n
                    if(this.dom.sections[this.config.currentSectionIndex].id === 'evaluacion_final' && this.state.finalScore < this.config.passingScore) {
                        alert(`¬°Hola ${this.state.userData.firstName}! Debes aprobar la evaluaci√≥n final para continuar.`);
                        return;
                    }

                    //Checkpoint video-quiz
                    if(this.dom.sections[this.config.currentSectionIndex].id === 'desarrollo_practico') {
                        const allAsked = this.state.videoQuizState.every(q => q.asked);
                        if (!allAsked) {
                            alert(`¬°Un momento, ${this.state.userData.firstName}! Debes completar todas las preguntas del video para avanzar. ¬°Es importante!`);
                            return;
                        } else {
                           if (!this.state.badges.includes('explorador-cuantico')) {
                               this.awardBadge('explorador-cuantico', 'Explorador Cu√°ntico', 'Por completar el video-quiz');
                           }
                        }
                    }

                    //Checkpoint y gamificaci√≥n al pasar secciones
                    const currentSectionId = this.dom.sections[this.config.currentSectionIndex].id;
                     if(currentSectionId === 'desarrollo_teorico' && !this.state.badges.includes('arconte-del-conocimiento')){
                        this.awardBadge('arconte-del-conocimiento', 'Arconte del Conocimiento', 'Por dominar la teor√≠a');
                    }
                    if(currentSectionId === 'evaluacion_formativa' && !this.state.badges.includes('estratega-reflexivo')){
                        this.awardBadge('estratega-reflexivo', 'Estratega Reflexivo', 'Por completar la autoevaluaci√≥n');
                    }

                    this.navigateToSection(newIndex);
                }
            },
            
            navigateToSection(index, isInitial = false) {
                if (index < 0 || index >= this.config.totalSections) return;

                this.config.currentSectionIndex = index;

                this.dom.sections.forEach((section, i) => {
                    section.classList.toggle('active', i === index);
                });

                if (isInitial) {
                    // Si es la carga inicial, no animar la barra
                     this.updateProgressBar(true);
                } else {
                     this.updateProgressBar();
                }
               
                this.updateActiveMenuItem();

                const currentSectionId = this.dom.sections[index].id;
                 if (currentSectionId === 'desarrollo_practico' && this.state.isVideoApiReady && !this.state.videoPlayer) {
                    this.createVideoPlayer();
                } else if(currentSectionId === 'evaluacion_final'){
                    this.renderFinalTest();
                } else {
                    if (this.state.videoPlayer && typeof this.state.videoPlayer.pauseVideo === 'function') {
                        this.state.videoPlayer.pauseVideo();
                    }
                    if (this.state.quizTimer) {
                        clearInterval(this.state.quizTimer);
                        this.state.quizTimer = null;
                    }
                }
                
                // Mover foco al inicio de la nueva secci√≥n para accesibilidad
                this.dom.sections[index].setAttribute('tabindex', '-1');
                this.dom.sections[index].focus();

                window.scrollTo(0, 0);
            },
            
            renderFloatingMenu() {
                const icons = ['üìù', 'üè†', '‚ú®', 'üß†', 'üìú', 'üéØ', 'üèÅ', 'üí°', 'ü§î', 'üèÜ'];
                const titles = ['Ingreso', 'Portada', 'Introducci√≥n', 'Activaci√≥n', 'Pr√°ctica', 'Teor√≠a', 'Formativa', 'Evaluaci√≥n', 'S√≠ntesis', 'Cierre', 'Certificado'];

                let menuHTML = '';
                this.dom.sections.forEach((section, index) => {
                     menuHTML += `<button class="menu-item" data-index="${index}" title="${titles[index] || ''}">${icons[index] || '‚óè'}</button>`;
                });
                this.dom.floatingMenu.innerHTML = menuHTML;
                
                this.dom.floatingMenu.querySelectorAll('.menu-item').forEach(item => {
                    item.addEventListener('click', (e) => {
                        const index = parseInt(e.currentTarget.dataset.index, 10);
                        
                        // Permitir salto si el m√≥dulo ya ha sido "visitado" (index < currentSectionIndex)
                        if (index <= this.config.currentSectionIndex) {
                           this.navigateToSection(index);
                        } else {
                           // Chequeos para saltar hacia adelante
                           if (this.canNavigateTo(index)) {
                              this.navigateToSection(index);
                           } else {
                               alert(`¬°Ups, ${this.state.userData.firstName}! Primero completa los pasos anteriores para desbloquear esta secci√≥n.`);
                           }
                        }
                    });
                });
            },
            
            canNavigateTo(targetIndex) {
                // Verifica si el usuario puede saltar a una secci√≥n futura.
                // Requerimiento: evaluaci√≥n aprobada para ir m√°s all√°.
                const evalIndex = Array.from(this.dom.sections).findIndex(s => s.id === 'evaluacion_final');
                if (targetIndex > evalIndex) {
                    return this.state.finalScore >= this.config.passingScore;
                }
                // Por ahora, para el resto, solo se requiere haber pasado las secciones anteriores linealmente.
                // Como ya tenemos una validaci√≥n en `navigate`, esta l√≥gica se puede extender si hay m√°s checkpoints.
                return targetIndex <= this.config.currentSectionIndex + 1;
            },
            
            updateProgressBar(isInitial = false) {
                const percentage = (this.config.currentSectionIndex / (this.config.totalSections - 1)) * 100;
                if(isInitial){
                    this.dom.progressBar.style.transition = 'none'; // Desactivar transici√≥n para carga inicial
                } else {
                     this.dom.progressBar.style.transition = 'width 0.4s ease-out';
                }
                this.dom.progressBar.style.width = `${percentage}%`;
            },
            
            updateActiveMenuItem() {
                this.dom.floatingMenu.querySelectorAll('.menu-item').forEach(item => {
                    item.classList.toggle('active-nav', parseInt(item.dataset.index, 10) === this.config.currentSectionIndex);
                });
            },
            
            // --- MANEJO DE FORMULARIOS ---
            handleUserFormSubmit(e) {
                e.preventDefault();
                let isValid = true;
                const form = e.target;
                const nameInput = form.querySelector('#fullName');
                const emailInput = form.querySelector('#email');

                // Validaci√≥n de Nombre
                if (nameInput.value.trim() === '') {
                    nameInput.classList.add('invalid');
                    isValid = false;
                } else {
                    nameInput.classList.remove('invalid');
                }
                // Validaci√≥n de Email
                if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(emailInput.value)) {
                    emailInput.classList.add('invalid');
                    isValid = false;
                } else {
                    emailInput.classList.remove('invalid');
                }
                
                if (isValid) {
                    this.state.userData.fullName = nameInput.value.trim();
                    this.state.userData.firstName = nameInput.value.trim().split(' ')[0]; // Para personalizar saludos
                    this.state.userData.email = emailInput.value.trim();
                    this.state.userData.phone = form.querySelector('#phone').value.trim();
                    this.updateUsernamePlaceholders();
                    this.addPoints(10, 'Registro completado');
                    this.saveStateToLocalStorage();
                    this.navigate(1); // Navega a la portada
                }
            },
            
            updateUsernamePlaceholders() {
                this.dom.usernamePlaceholders.forEach(span => {
                    span.textContent = this.state.userData.firstName || 'explorador/a';
                });
            },

            // --- L√ìGICA DE VIDEO Y QUIZ ---
            loadYouTubeApi() {
                const tag = document.createElement('script');
                tag.src = "https://www.youtube.com/iframe_api";
                const firstScriptTag = document.getElementsByTagName('script')[0];
                firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
                window.onYouTubeIframeAPIReady = () => {
                    this.state.isVideoApiReady = true;
                     // Si el usuario ya est√° en la secci√≥n de video, crearlo.
                    if(this.dom.sections[this.config.currentSectionIndex].id === 'desarrollo_practico'){
                         this.createVideoPlayer();
                    }
                };
            },

            createVideoPlayer() {
                this.state.videoPlayer = new YT.Player('video-player', {
                    videoId: 'EtU-NyNH4Qg', // ID del video de YouTube
                    playerVars: {
                        'playsinline': 1,
                        'modestbranding': 1,
                        'rel': 0,
                        'controls': 1,
                        'disablekb': 1, // Desactivar controles de teclado
                    },
                    events: {
                        'onReady': this.onPlayerReady.bind(this),
                        'onStateChange': this.onPlayerStateChange.bind(this)
                    }
                });
            },
            
            onPlayerReady(event) {
                console.log("Video player est√° listo.");
            },
            
            onPlayerStateChange(event) {
                if (event.data === YT.PlayerState.PLAYING) {
                    if(this.state.quizTimer) clearInterval(this.state.quizTimer); // Limpiar timer anterior
                    this.state.quizTimer = setInterval(this.checkVideoTime.bind(this), 500);
                } else if (event.data === YT.PlayerState.PAUSED || event.data === YT.PlayerState.ENDED) {
                     clearInterval(this.state.quizTimer);
                     this.state.quizTimer = null;
                }
            },

            checkVideoTime() {
                if (!this.state.videoPlayer) return;
                const currentTime = this.state.videoPlayer.getCurrentTime();
                
                for (let quiz of this.state.videoQuizState) {
                    if (!quiz.asked && currentTime >= quiz.time) {
                        this.state.videoPlayer.pauseVideo();
                        clearInterval(this.state.quizTimer);
                        this.state.quizTimer = null;
                        quiz.asked = true; // Marcar como preguntada para no repetirla
                        this.showVideoQuiz(quiz);
                        break;
                    }
                }
            },

            showVideoQuiz(quizData) {
                const questionEl = document.getElementById('video-quiz-question');
                const optionsEl = document.getElementById('video-quiz-options');
                const feedbackEl = document.getElementById('video-quiz-feedback');
                
                questionEl.textContent = quizData.question;
                feedbackEl.textContent = '';
                optionsEl.innerHTML = '';
                
                quizData.options.forEach((option, index) => {
                    const button = document.createElement('button');
                    button.textContent = option;
                    button.classList.add('video-quiz-option');
                    button.dataset.index = index;
                    button.onclick = () => {
                        this.checkVideoQuizAnswer(button, index, quizData.correct);
                    };
                    optionsEl.appendChild(button);
                });

                this.dom.videoQuizModal.classList.add('show');
            },

            checkVideoQuizAnswer(button, selectedIndex, correctIndex) {
                 const feedbackEl = document.getElementById('video-quiz-feedback');
                 document.querySelectorAll('.video-quiz-option').forEach(btn => btn.disabled = true); // Deshabilitar botones
                 
                 if (selectedIndex === correctIndex) {
                    button.style.borderColor = 'var(--success-color)';
                    feedbackEl.textContent = "¬°Correcto! ¬°Qu√© capo/a! Puedes continuar.";
                    feedbackEl.style.color = 'var(--success-color)';
                    this.addPoints(20, `Respuesta correcta en video-quiz`);

                    setTimeout(() => {
                        this.dom.videoQuizModal.classList.remove('show');
                        this.state.videoPlayer.playVideo();
                    }, 1500);

                 } else {
                    button.style.borderColor = 'var(--error-color)';
                    feedbackEl.textContent = "¬°Casi! Intenta de nuevo. Rebobina un poquito si necesitas recordar.";
                    feedbackEl.style.color = 'var(--error-color)';
                    
                    // Encontrar y resaltar la respuesta correcta
                    const correctButton = document.querySelector(`.video-quiz-option[data-index="${correctIndex}"]`);
                    correctButton.style.borderColor = 'var(--success-color)';
                    
                    setTimeout(() => {
                         // Reinicia el quiz para que el usuario intente de nuevo
                         this.state.videoQuizState.find(q => q.question === button.parentElement.previousElementSibling.textContent).asked = false;
                         this.dom.videoQuizModal.classList.remove('show');
                         document.querySelectorAll('.video-quiz-option').forEach(btn => btn.disabled = false); // Habilitar de nuevo
                         
                    }, 3000);
                 }
            },
            
            // --- L√ìGICA DE EVALUACI√ìN FINAL ---
            renderFinalTest() {
                const testIntro = document.getElementById('test-intro');
                const testContainer = document.getElementById('test-container');
                const testResult = document.getElementById('test-result');

                if (this.state.finalScore >= 0) {
                    testIntro.style.display = 'none';
                    testContainer.style.display = 'none';
                    this.displayTestResults(); // Mostrar resultados anteriores si ya termin√≥
                } else if(this.state.currentTestAttempt >= 3){
                     testIntro.innerHTML = `<h2>L√≠mite de intentos alcanzado</h2><p>Has alcanzado el n√∫mero m√°ximo de 3 intentos para esta evaluaci√≥n.</p>`;
                     testIntro.style.display = 'block';
                     testContainer.style.display = 'none';
                }
                else {
                    testIntro.style.display = 'block';
                    testContainer.style.display = 'none';
                    testResult.style.display = 'none';
                    document.getElementById('start-test-btn').style.display = 'block';
                    document.getElementById('next-from-eval-btn').style.display = 'none';
                }
            },

            startTest() {
                this.state.currentTestAttempt++;
                document.getElementById('test-intro').style.display = 'none';
                document.getElementById('test-container').style.display = 'block';

                const questionContainer = document.getElementById('quiz-question-container');
                questionContainer.innerHTML = '';

                this.state.finalTestQuestions.forEach((q, index) => {
                    let optionsHTML = '';
                    q.options.forEach((opt, optIndex) => {
                         optionsHTML += `<button class="quiz-option" data-question="${index}" data-option="${optIndex}">${String.fromCharCode(97 + optIndex)}) ${opt}</button>`;
                    });
                    
                    questionContainer.innerHTML += `
                        <div class="quiz-item" id="question-${index}">
                            <h4>${index + 1}. ${q.question}</h4>
                            <div class="quiz-options">${optionsHTML}</div>
                        </div>
                    `;
                });

                document.querySelectorAll('.quiz-option').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const qIndex = e.currentTarget.dataset.question;
                        // Des-seleccionar otros en el mismo grupo
                        document.querySelectorAll(`.quiz-option[data-question="${qIndex}"]`).forEach(b => b.classList.remove('selected'));
                        e.currentTarget.classList.add('selected');
                    });
                });
                
                this.startTestTimer();
            },
            
            startTestTimer() {
                const timerEl = document.getElementById('test-timer');
                timerEl.style.display = 'block';
                let timeLeft = this.config.testTimerLimit;
                
                this.testTimerInterval = setInterval(() => {
                    timeLeft--;
                    const minutes = Math.floor(timeLeft / 60);
                    const seconds = timeLeft % 60;
                    timerEl.textContent = `Tiempo: ${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;

                    if (timeLeft <= 0) {
                        clearInterval(this.testTimerInterval);
                        timerEl.textContent = "¬°Tiempo agotado!";
                        this.submitTest();
                    }
                }, 1000);
            },

            submitTest() {
                clearInterval(this.testTimerInterval);
                document.getElementById('test-timer').style.display = 'none';

                let score = 0;
                this.state.finalTestQuestions.forEach((q, index) => {
                    const selectedOption = document.querySelector(`.quiz-option[data-question="${index}"].selected`);
                    const optionsInQuestion = document.querySelectorAll(`.quiz-option[data-question="${index}"]`);
                    optionsInQuestion.forEach(opt => opt.disabled = true); // Deshabilitar opciones

                    if (selectedOption) {
                        const selectedAnswer = parseInt(selectedOption.dataset.option);
                        if (selectedAnswer === q.answer) {
                            score++;
                            selectedOption.classList.add('correct');
                            this.addPoints(30, 'Respuesta correcta en examen final');
                        } else {
                            selectedOption.classList.add('incorrect');
                            const correctOption = document.querySelector(`.quiz-option[data-question="${index}"][data-option="${q.answer}"]`);
                            correctOption.classList.add('correct');
                        }
                    } else {
                        // Marcar la respuesta correcta si no se seleccion√≥ ninguna
                        const correctOption = document.querySelector(`.quiz-option[data-question="${index}"][data-option="${q.answer}"]`);
                        correctOption.classList.add('correct');
                    }
                });
                
                const percentage = (score / this.state.finalTestQuestions.length) * 100;
                this.state.finalScore = percentage;
                this.saveStateToLocalStorage();
                
                setTimeout(() => {
                    document.getElementById('test-container').style.display = 'none';
                    this.displayTestResults();
                }, 3000); // Dar tiempo para ver retroalimentaci√≥n
            },

            displayTestResults() {
                const resultContainer = document.getElementById('test-result');
                const attemptsLeft = 3 - this.state.currentTestAttempt;
                let html = `<h2>Resultados de la Evaluaci√≥n</h2>`;
                
                if (this.state.finalScore >= this.config.passingScore) {
                     html += `<p class="result-message pass">¬°Felicidades, ${this.state.userData.firstName}! Aprobaste con un ${this.state.finalScore.toFixed(0)}%.</p>`;
                     html += `<p>¬°Has demostrado un excelente entendimiento del tema! Ya puedes avanzar a la siguiente secci√≥n y generar tu certificado.</p>`;
                     document.getElementById('next-from-eval-btn').style.display = 'block';
                } else {
                     html += `<p class="result-message fail">¬°√Ånimo! Tu puntaje fue ${this.state.finalScore.toFixed(0)}%.</p>`;
                     html += `<p>No alcanzaste el 70% necesario para aprobar. ¬°Pero no te preocupes! El error es parte del aprendizaje.</p>`;
                     if(attemptsLeft > 0) {
                        html += `<p>Te quedan <strong>${attemptsLeft}</strong> intentos. ¬°Repasa los contenidos y vuelve a intentarlo!</p>`;
                        html += `<div class="btn-container"><button id="retry-test-btn" class="btn">Volver a Intentar</button></div>`;
                     } else {
                        html += `<p>Has agotado tus intentos. Pero puedes seguir explorando los materiales para aprender. Puedes reiniciar todo el curso desde el bot√≥n de configuraci√≥n (‚öôÔ∏è) abajo a la derecha.</p>`;
                        document.getElementById('next-from-eval-btn').style.display = 'none';
                     }
                     
                }
                
                resultContainer.innerHTML = html;
                resultContainer.style.display = 'block';
                
                const retryBtn = document.getElementById('retry-test-btn');
                if (retryBtn) {
                    retryBtn.addEventListener('click', () => {
                        this.state.finalScore = -1; // Resetear puntaje para re-intento
                        this.saveStateToLocalStorage();
                        this.renderFinalTest();
                    });
                }
            },

             // --- Gamificaci√≥n ---
            addPoints(amount, reason) {
                this.state.points += amount;
                this.updatePointsDisplay();
                console.log(`+${amount} puntos por: ${reason}`);
                this.saveStateToLocalStorage();
            },
            updatePointsDisplay() {
                this.dom.pointsDisplay.textContent = `Puntos: ${this.state.points}`;
                this.dom.pointsDisplay.style.transform = 'scale(1.2)';
                setTimeout(() => this.dom.pointsDisplay.style.transform = 'scale(1)', 200);
            },
            
            updateBadgesFromState() {
              // Si ya se tienen insignias, no se muestra nada, pero la l√≥gica futura podr√≠a a√±adirlas a un perfil.
              // Por ahora, solo se usa para no volver a mostrar la notificaci√≥n.
              console.log("Insignias ganadas:", this.state.badges);
            },

            awardBadge(badgeId, badgeName, message) {
                if (this.state.badges.includes(badgeId)) return;
                
                this.state.badges.push(badgeId);
                this.addPoints(100, `Insignia desbloqueada: ${badgeName}`);
                
                const badgeNotification = document.getElementById('badge-notification');
                const badgeNameEl = document.getElementById('badge-name');
                const badgeIconPlaceholder = document.getElementById('badge-icon-placeholder');
                
                badgeNameEl.textContent = badgeName;

                // Simple SVG placeholder para las insignias
                const badgeSVGs = {
                    'explorador-cuantico': `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M50 2L14 26v48l36 24 36-24V26L50 2z" fill="#38bdf8"/><path d="M50 25l-25 15v30l25 15 25-15V40L50 25z" fill="#0f172a"/><circle cx="50" cy="55" r="8" fill="#e2e8f0"/></svg>`,
                    'arconte-del-conocimiento': `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M50 2L14 26v48l36 24 36-24V26L50 2z" fill="#818cf8"/><path d="M30 70V30h40v40H30zm10-30h20v20H40V40z" fill="#0f172a"/><path d="M25 20h50v10H25zm0 50h50v10H25z" fill="#e2e8f0"/></svg>`,
                    'estratega-reflexivo': `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M50 2L14 26v48l36 24 36-24V26L50 2z" fill="#34d399"/><path d="M50 50m-25 0a25 25 0 1 0 50 0a25 25 0 1 0-50 0" fill="#0f172a"/><circle cx="50" cy="50" r="10" stroke="#e2e8f0" stroke-width="4" fill="none"/></svg>`
                }

                badgeIconPlaceholder.innerHTML = badgeSVGs[badgeId] || '';
                
                badgeNotification.classList.add('show');
                
                setTimeout(() => {
                    badgeNotification.classList.remove('show');
                }, 4000);
            },
            

            // --- REINICIO Y CIERRE ---
            confirmRestart() {
                const confirm = window.confirm('¬øEst√°s seguro, ch√©? Esto borrar√° todo tu progreso (nombre, puntajes, etc.) y reiniciar√° la c√°psula desde cero.');
                if(confirm){
                    this.restartCourse();
                }
            },

            restartCourse() {
                localStorage.clear();
                window.location.reload();
            },
            
            showFinalOutcome(){
                this.navigate(1);
                
                const container = document.getElementById('final-outcome-container');
                this.saveUserReflections(); // Guardar reflexiones al finalizar

                if(this.state.finalScore >= this.config.passingScore) {
                     container.innerHTML = `
                        <h2>¬°Misi√≥n Cumplida, ${this.state.userData.firstName}!</h2>
                        <p class="pass" style="font-size: 1.2rem;">Has superado la evaluaci√≥n y completado la c√°psula. ¬°Estamos muy orgullosos de tu dedicaci√≥n!</p>
                        <p>Como reconocimiento a tu esfuerzo, hemos preparado tu certificado digital. Puedes descargarlo o imprimirlo.</p>
                        <div class="btn-container">
                             <button id="generate-cert-btn" class="btn">Generar mi Certificado (PDF)</button>
                             <button id="generate-report-btn" class="btn btn-secondary">Ver mi Reporte Final</button>
                        </div>
                     `;
                    document.getElementById('generate-cert-btn').addEventListener('click', this.generateCertificate.bind(this));
                    document.getElementById('generate-report-btn').addEventListener('click', this.showPrintableReport.bind(this));
                } else {
                     container.innerHTML = `
                        <h2>¬°Un Gran Esfuerzo, ${this.state.userData.firstName}!</h2>
                        <p class="fail" style="font-size: 1.2rem;">Has completado el recorrido, ¬°y eso es un gran logro!</p>
                        <p>Aunque no se ha alcanzado el puntaje para el certificado esta vez, el verdadero premio es el conocimiento y la reflexi√≥n que te llevas. ¬°El camino del aprendizaje nunca termina!</p>
                        <p>Puedes reiniciar el curso en cualquier momento para volver a intentarlo y obtener tu certificado.</p>
                         <div class="btn-container">
                             <button id="generate-report-btn" class="btn btn-secondary">Ver mi Reporte Final</button>
                        </div>
                     `;
                      document.getElementById('generate-report-btn').addEventListener('click', this.showPrintableReport.bind(this));
                }
            },
            
            generateCertificate(){
                const certName = document.getElementById('cert-user-name');
                const certDate = document.getElementById('cert-date');
                const certElement = document.getElementById('certificate');
                
                certName.textContent = this.state.userData.fullName;
                certDate.textContent = new Date().toLocaleDateString('es-ES', { year: 'numeric', month: 'long', day: 'numeric' });
                
                new QRious({
                  element: document.getElementById('cert-qr-code'),
                  value: 'https://elmejorequipo.github.io/iacreatividad/verificar?id=12345',
                  size: 120
                });
                
                const opt = {
                    margin: 0,
                    filename: `Certificado_IA_Creatividad_${this.state.userData.fullName}.pdf`,
                    image: { type: 'jpeg', quality: 0.98 },
                    html2canvas: { scale: 2, useCORS: true },
                    jsPDF: { unit: 'px', format: 'a4', orientation: 'landscape' }
                };
                
                html2pdf().from(certElement).set(opt).save();

            },

            saveUserReflections() {
                this.state.userData.reflection1 = document.getElementById('reflection1').value;
                this.state.userData.reflection2 = document.getElementById('reflection2').value;
                this.state.userData.reflection3 = document.getElementById('reflection3').value;
                this.saveStateToLocalStorage();
            },

            showPrintableReport() {
                 document.getElementById('report-username').textContent = `Reporte de: ${this.state.userData.fullName}`;
                 document.getElementById('report-date').textContent = new Date().toLocaleDateString('es-ES');
                 document.getElementById('report-score').textContent = `Puntaje Final: ${this.state.finalScore >= 0 ? this.state.finalScore.toFixed(0) + '%' : 'No completado'}`;
                 document.getElementById('report-status').textContent = `Estado: ${this.state.finalScore >= this.config.passingScore ? 'Aprobado' : 'No Aprobado'}`;

                 const reflectionsContainer = document.getElementById('report-reflections');
                 reflectionsContainer.innerHTML = `
                    <h4>1. Percepci√≥n sobre IA en el √°mbito creativo:</h4>
                    <p>${this.state.userData.reflection1 || '<em>No respondido.</em>'}</p>
                    <h4>2. Aplicaci√≥n pr√°ctica con IA:</h4>
                    <p>${this.state.userData.reflection2 || '<em>No respondido.</em>'}</p>
                    <h4>3. Habilidad humana m√°s importante a cultivar:</h4>
                    <p>${this.state.userData.reflection3 || '<em>No respondido.</em>'}</p>
                 `;

                 window.print();
            }

        };

        app.init();
    });

    </script>
</body>
</html>
